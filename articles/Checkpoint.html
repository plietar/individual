<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Saving and restoring simulation state • individual</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Saving and restoring simulation state">
<meta property="og:description" content="individual">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">individual</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.12</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/API.html">API</a>
    </li>
    <li>
      <a href="../articles/Changing_Populations.html">Changing population</a>
    </li>
    <li>
      <a href="../articles/Checkpoint.html">Saving and restoring simulation state</a>
    </li>
    <li>
      <a href="../articles/Contributing.html">Contributing</a>
    </li>
    <li>
      <a href="../articles/Performance.html">Performance</a>
    </li>
    <li>
      <a href="../articles/Tutorial.html">Tutorial</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/mrc-ide/individual/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Saving and restoring simulation state</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/mrc-ide/individual/blob/HEAD/vignettes/Checkpoint.Rmd" class="external-link"><code>vignettes/Checkpoint.Rmd</code></a></small>
      <div class="hidden name"><code>Checkpoint.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="intro">Introduction<a class="anchor" aria-label="anchor" href="#intro"></a>
</h2>
<p>When modeling the impact of an intervention on a disease, it is
common to have a first simulation phase where the intervention is
disabled to achieve steady-state, followed by a second phase during
which the intervention is applied. Often, we want to run the second
phase many times over, varying the intervention parameters. Simulating
the first phase every time is unnecessary and wasteful, since it isn’t
affected by the intervention parameters.</p>
<p>Individual allows the user to run a simulation for a number of time
steps, save the state of the simulation and resume it multiple times,
with different parameters each time. This way, the initial phase before
the intervention only needs to be simulated once.</p>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p>The typical way to use this feature is to define a simulation
function which creates all the relevant simulation data and then calls
<code>simulation_loop</code>. The function we define takes in an
optional <code>state</code> parameter that is passed through to
<code>simulation_loop</code>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">run_simulation</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">timesteps</span>, <span class="va">state</span><span class="op">=</span><span class="cn">NULL</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">health</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/CategoricalVariable.html">CategoricalVariable</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"S"</span>, <span class="st">"I"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"S"</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="va">process</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bernoulli_process.html">bernoulli_process</a></span><span class="op">(</span><span class="va">health</span>, <span class="st">"S"</span>, <span class="st">"I"</span>, <span class="fl">0.01</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="../reference/simulation_loop.html">simulation_loop</a></span><span class="op">(</span></span>
<span>    variables<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">health</span><span class="op">)</span>,</span>
<span>    processes<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">process</span><span class="op">)</span>,</span>
<span>    timesteps<span class="op">=</span><span class="va">timesteps</span>,</span>
<span>    state<span class="op">=</span><span class="va">state</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>The simulation can be run a first time, for a given number of steps.
It returns a <em>state object</em>, which captures the internal state of
all variables and events, the state of the random number generator and
the number of time steps that were simulated.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">state</span> <span class="op">&lt;-</span> <span class="fu">run_simulation</span><span class="op">(</span>timesteps <span class="op">=</span> <span class="fl">50</span><span class="op">)</span></span></code></pre></div>
<p>Finally, the simulation is resumed with a larger number of time
steps, passing in the state object as an argument. The
<code>timesteps</code> argument refers to the total number of time
steps, including both the original simulation run and the new one. In
this case, <code>run_simulation</code> will only simulate 50 extra
steps. Before running the actual simulation,
<code>simulation_loop</code> will reload the simulation state from its
argument, overwriting any values we had set when initializing the
variables.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">run_simulation</span><span class="op">(</span>timesteps <span class="op">=</span> <span class="fl">100</span>, state<span class="op">=</span><span class="va">state</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example">Practical example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>To demonstrate the checkpoint and restore functionality of individual
in a practical setting, we will use a SIRS model with a vaccination
intervention. Our aim is to compare the impact of the vaccination
campaign, given different vaccine efficacy scenarios.</p>
<p>Individuals in the simulation move from being susceptible (S) to
infectious (I) to recovered (R) and back to susceptible, after their
natural immunity wanes off. Out of the entire population <code>N</code>,
only <code>I0</code> individuals are initially infectios, and the rest
are susceptible. Orthogonally, an individual can either be vaccinated
(Y) or not (N). The vaccination and the immunity it confers never wanes
off. All individuals are initially unvaccinated.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">make_variables</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">N</span>, <span class="va">I0</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">health_states_t0</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"S"</span>,<span class="va">N</span><span class="op">)</span></span>
<span>  <span class="va">health_states_t0</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample.int</a></span><span class="op">(</span>n <span class="op">=</span> <span class="va">N</span>,size <span class="op">=</span> <span class="va">I0</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"I"</span></span>
<span>  <span class="va">health</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/CategoricalVariable.html">CategoricalVariable</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>categories <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"S"</span>,<span class="st">"I"</span>,<span class="st">"R"</span><span class="op">)</span>, initial_values <span class="op">=</span> <span class="va">health_states_t0</span><span class="op">)</span></span>
<span></span>
<span>  <span class="va">vaccinated</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/CategoricalVariable.html">CategoricalVariable</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>categories <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Y"</span>, <span class="st">"N"</span><span class="op">)</span>, initial_values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"N"</span>, <span class="va">N</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>health<span class="op">=</span><span class="va">health</span>, vaccinated<span class="op">=</span><span class="va">vaccinated</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>A vaccinated individual has a reduced probability of becoming
infectious, as determined by the vaccine’s efficacy. The function below
creates the process to model infection. It samples from the susceptible
compartments, applying the different rates depending on the whether an
individual’s vaccinated status.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">make_infection_process</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">health</span>, <span class="va">vaccinated</span>, <span class="va">N</span>, <span class="va">beta</span>, <span class="va">vaccine_efficacy</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw">function</span><span class="op">(</span><span class="va">t</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">I</span> <span class="op">&lt;-</span> <span class="va">health</span><span class="op">$</span><span class="fu">get_size_of</span><span class="op">(</span><span class="st">"I"</span><span class="op">)</span></span>
<span>    <span class="va">foi</span> <span class="op">&lt;-</span> <span class="va">beta</span> <span class="op">*</span> <span class="va">I</span> <span class="op">/</span> <span class="va">N</span></span>
<span></span>
<span>    <span class="va">vaccinated_S</span> <span class="op">&lt;-</span> <span class="va">health</span><span class="op">$</span><span class="fu">get_index_of</span><span class="op">(</span><span class="st">"S"</span><span class="op">)</span><span class="op">$</span><span class="fu">and</span><span class="op">(</span><span class="va">vaccinated</span><span class="op">$</span><span class="fu">get_index_of</span><span class="op">(</span><span class="st">"Y"</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="va">non_vaccinated_S</span> <span class="op">&lt;-</span> <span class="va">health</span><span class="op">$</span><span class="fu">get_index_of</span><span class="op">(</span><span class="st">"S"</span><span class="op">)</span><span class="op">$</span><span class="fu">and</span><span class="op">(</span><span class="va">vaccinated</span><span class="op">$</span><span class="fu">get_index_of</span><span class="op">(</span><span class="st">"N"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span>    <span class="va">vaccinated_S</span><span class="op">$</span><span class="fu">sample</span><span class="op">(</span>rate <span class="op">=</span> <span class="va">foi</span> <span class="op">*</span> <span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="va">vaccine_efficacy</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="va">non_vaccinated_S</span><span class="op">$</span><span class="fu">sample</span><span class="op">(</span>rate <span class="op">=</span> <span class="va">foi</span><span class="op">)</span></span>
<span></span>
<span>    <span class="va">health</span><span class="op">$</span><span class="fu">queue_update</span><span class="op">(</span>value <span class="op">=</span> <span class="st">"I"</span>, index <span class="op">=</span> <span class="va">vaccinated_S</span><span class="op">)</span></span>
<span>    <span class="va">health</span><span class="op">$</span><span class="fu">queue_update</span><span class="op">(</span>value <span class="op">=</span> <span class="st">"I"</span>, index <span class="op">=</span> <span class="va">non_vaccinated_S</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>For a while at the start of the simulation no vaccination takes
place. Only after a number of time steps, determined by the
<code>vaccination_start</code> parameter, does the intervention begin.
Periodically, an event will fire and every individual has a fixed
probability of becoming vaccinated. If <code>vaccination_start</code> is
<code>NULL</code>, the intervention never begins.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">make_vaccination_event</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">vaccinated</span>, <span class="va">vaccination_start</span>, <span class="va">vaccination_interval</span>, <span class="va">vaccination_rate</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">e</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/Event.html">Event</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="va">e</span><span class="op">$</span><span class="fu">add_listener</span><span class="op">(</span><span class="kw">function</span><span class="op">(</span><span class="va">t</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">vaccinated</span><span class="op">$</span><span class="fu">queue_update</span><span class="op">(</span>value <span class="op">=</span> <span class="st">"Y"</span>,</span>
<span>      <span class="va">vaccinated</span><span class="op">$</span><span class="fu">get_index_of</span><span class="op">(</span><span class="st">"N"</span><span class="op">)</span><span class="op">$</span><span class="fu">sample</span><span class="op">(</span><span class="va">vaccination_rate</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="va">e</span><span class="op">$</span><span class="fu">schedule</span><span class="op">(</span><span class="va">vaccination_interval</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">vaccination_start</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">e</span><span class="op">$</span><span class="fu">schedule</span><span class="op">(</span><span class="va">vaccination_start</span> <span class="op">-</span> <span class="fl">1</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span>  <span class="va">e</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>We will define our simulation as a function, taking the simulation
parameters as arguments. Any additional arguments to the function, as
denoted by <code>...</code>, will be passed on to
<code>simulation_loop</code>. This will allow us to pass the
<code>state</code> argument in. The function returns the simulation data
as well as the new saved state.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">run_simulation</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span></span>
<span>    <span class="va">steps</span>,</span>
<span>    <span class="va">N</span> <span class="op">=</span> <span class="fl">1e3</span>,</span>
<span>    <span class="va">I0</span> <span class="op">=</span> <span class="fl">5</span>,</span>
<span>    <span class="va">beta</span> <span class="op">=</span> <span class="fl">0.1</span>, <span class="co"># S -&gt; I</span></span>
<span>    <span class="va">gamma</span> <span class="op">=</span> <span class="fl">0.05</span>, <span class="co"># I -&gt; R</span></span>
<span>    <span class="va">xi</span> <span class="op">=</span> <span class="fl">0.03</span>, <span class="co"># R -&gt; S</span></span>
<span>    <span class="va">vaccination_start</span> <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    <span class="va">vaccination_interval</span> <span class="op">=</span> <span class="fl">10</span>,</span>
<span>    <span class="va">vaccination_rate</span> <span class="op">=</span> <span class="fl">0.05</span>, <span class="co"># N -&gt; Y</span></span>
<span>    <span class="va">vaccine_efficacy</span> <span class="op">=</span> <span class="fl">1</span>,</span>
<span>    <span class="va">...</span><span class="op">)</span></span>
<span><span class="op">{</span></span>
<span>  <span class="va">variables</span> <span class="op">&lt;-</span> <span class="fu">make_variables</span><span class="op">(</span><span class="va">N</span>, <span class="va">I0</span><span class="op">)</span></span>
<span>  <span class="va">infection_process</span> <span class="op">&lt;-</span> <span class="fu">make_infection_process</span><span class="op">(</span></span>
<span>    <span class="va">variables</span><span class="op">$</span><span class="va">health</span>,</span>
<span>    <span class="va">variables</span><span class="op">$</span><span class="va">vaccinated</span>,</span>
<span>    <span class="va">N</span>, <span class="va">beta</span>, <span class="va">vaccine_efficacy</span><span class="op">)</span></span>
<span>  <span class="va">recovery_process</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bernoulli_process.html">bernoulli_process</a></span><span class="op">(</span><span class="va">variables</span><span class="op">$</span><span class="va">health</span>, <span class="st">"I"</span>, <span class="st">"R"</span>, <span class="va">gamma</span><span class="op">)</span></span>
<span>  <span class="va">return_process</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bernoulli_process.html">bernoulli_process</a></span><span class="op">(</span><span class="va">variables</span><span class="op">$</span><span class="va">health</span>, <span class="st">"R"</span>, <span class="st">"S"</span>, <span class="va">xi</span><span class="op">)</span></span>
<span>  <span class="va">vaccination_event</span> <span class="op">&lt;-</span> <span class="fu">make_vaccination_event</span><span class="op">(</span></span>
<span>    <span class="va">variables</span><span class="op">$</span><span class="va">vaccinated</span>, <span class="va">vaccination_start</span>, <span class="va">vaccination_interval</span>, <span class="va">vaccination_rate</span><span class="op">)</span></span>
<span></span>
<span>  <span class="va">renderer</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/Render.html">Render</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>timesteps <span class="op">=</span> <span class="va">steps</span><span class="op">)</span></span>
<span>  <span class="va">health_render_process</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/categorical_count_renderer_process.html">categorical_count_renderer_process</a></span><span class="op">(</span></span>
<span>    renderer <span class="op">=</span> <span class="va">renderer</span>,</span>
<span>    variable <span class="op">=</span> <span class="va">variables</span><span class="op">$</span><span class="va">health</span>,</span>
<span>    categories <span class="op">=</span> <span class="va">variables</span><span class="op">$</span><span class="va">health</span><span class="op">$</span><span class="fu">get_categories</span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span>  <span class="va">processes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="va">infection_process</span>,</span>
<span>    <span class="va">recovery_process</span>,</span>
<span>    <span class="va">return_process</span>,</span>
<span>    <span class="va">health_render_process</span><span class="op">)</span></span>
<span></span>
<span>  <span class="va">final_state</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simulation_loop.html">simulation_loop</a></span><span class="op">(</span></span>
<span>    variables <span class="op">=</span> <span class="va">variables</span>,</span>
<span>    events <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">vaccination_event</span><span class="op">)</span>,</span>
<span>    processes <span class="op">=</span> <span class="va">processes</span>,</span>
<span>    timesteps <span class="op">=</span> <span class="va">steps</span>,</span>
<span>    <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>result<span class="op">=</span><span class="va">renderer</span><span class="op">$</span><span class="fu">to_dataframe</span><span class="op">(</span><span class="op">)</span>, state<span class="op">=</span><span class="va">final_state</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>We will start by running and plotting our baseline simulation, with
the intervention disabled.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">run_simulation</span><span class="op">(</span>steps<span class="op">=</span><span class="fl">1500</span><span class="op">)</span><span class="op">$</span><span class="va">result</span></span>
<span><span class="va">colours</span> <span class="op">&lt;-</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"royalblue3"</span>,<span class="st">"firebrick3"</span>,<span class="st">"darkorchid3"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/matplot.html" class="external-link">matplot</a></span><span class="op">(</span></span>
<span>  x<span class="op">=</span><span class="va">data</span><span class="op">[</span><span class="st">"timestep"</span><span class="op">]</span>,</span>
<span>  y<span class="op">=</span><span class="va">data</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"S_count"</span>,<span class="st">"I_count"</span>, <span class="st">"R_count"</span><span class="op">)</span><span class="op">]</span>,</span>
<span>  xlab<span class="op">=</span><span class="st">"Time"</span>, ylab<span class="op">=</span><span class="st">"Count"</span>,</span>
<span>  type<span class="op">=</span><span class="st">"l"</span>, lwd<span class="op">=</span><span class="fl">2</span>, lty <span class="op">=</span> <span class="fl">1</span>, col <span class="op">=</span> <span class="va">colours</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/legend.html" class="external-link">legend</a></span><span class="op">(</span></span>
<span>   x <span class="op">=</span> <span class="st">"topright"</span>,</span>
<span>   pch <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">16</span>,<span class="fl">3</span><span class="op">)</span>,</span>
<span>   col <span class="op">=</span> <span class="va">colours</span>,</span>
<span>   legend <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"S"</span>, <span class="st">"I"</span>, <span class="st">"R"</span><span class="op">)</span>, cex <span class="op">=</span> <span class="fl">1.5</span>,</span>
<span>   bg<span class="op">=</span><span class="st">'white'</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="Checkpoint_files/figure-html/unnamed-chunk-9-1.png" width="700"></p>
<p>We see that the simulation takes some time to settle from its initial
parameters to its steady-state conditions. We will now enable the
vaccine intervention, but only starting at a point after the simulation
has settled, for example at <code>t=500</code>.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">run_simulation</span><span class="op">(</span>steps<span class="op">=</span><span class="fl">1500</span>, vaccination_start <span class="op">=</span> <span class="fl">500</span>, vaccine_efficacy <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">$</span><span class="va">result</span></span>
<span><span class="va">colours</span> <span class="op">&lt;-</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"royalblue3"</span>,<span class="st">"firebrick3"</span>,<span class="st">"darkorchid3"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/matplot.html" class="external-link">matplot</a></span><span class="op">(</span></span>
<span>  x<span class="op">=</span><span class="va">data</span><span class="op">[</span><span class="st">"timestep"</span><span class="op">]</span>,</span>
<span>  y<span class="op">=</span><span class="va">data</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"S_count"</span>,<span class="st">"I_count"</span>, <span class="st">"R_count"</span><span class="op">)</span><span class="op">]</span>,</span>
<span>  xlab<span class="op">=</span><span class="st">"Time"</span>, ylab<span class="op">=</span><span class="st">"Count"</span>,</span>
<span>  type<span class="op">=</span><span class="st">"l"</span>, lwd<span class="op">=</span><span class="fl">2</span>, lty <span class="op">=</span> <span class="fl">1</span>, col <span class="op">=</span> <span class="va">colours</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/legend.html" class="external-link">legend</a></span><span class="op">(</span></span>
<span>   x <span class="op">=</span> <span class="st">"topright"</span>,</span>
<span>   pch <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">16</span>,<span class="fl">3</span><span class="op">)</span>,</span>
<span>   col <span class="op">=</span> <span class="va">colours</span>,</span>
<span>   legend <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"S"</span>, <span class="st">"I"</span>, <span class="st">"R"</span><span class="op">)</span>, cex <span class="op">=</span> <span class="fl">1.5</span>,</span>
<span>   bg<span class="op">=</span><span class="st">'white'</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="Checkpoint_files/figure-html/unnamed-chunk-10-1.png" width="700"></p>
<p>The simulation above clearly shows the effect of the vaccination
campaign, starting at <code>t=500</code>. However, it made the
optimistic assumption of a 100% vaccine efficacy. We wish to run the
simulation again but with varying levels of efficacy, in order the
compare its impact.</p>
<p>While we could run the code above many times over, each simulation
would repeat the first 499 timesteps, despite the result being identical
each time. Instead we start by running only these timesteps, and saving
the result. We do need to specify the start of the intervention, as it
is necessary to schedule the first vaccination event. However the
details of the intervention (ie. <code>vaccine_efficacy</code>) are
irrelevant and can be omitted.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">initial</span> <span class="op">&lt;-</span> <span class="fu">run_simulation</span><span class="op">(</span>steps<span class="op">=</span><span class="fl">499</span>, vaccination_start <span class="op">=</span> <span class="fl">500</span><span class="op">)</span></span></code></pre></div>
<p>From this initial result, we can resume the simulation, but using
different values of vaccine efficacy each time. We also include a
control simulation, in which no vaccination takes place. Each of these
simulation will skip the first 499 steps and only run the next 1001 time
steps.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">control</span>    <span class="op">&lt;-</span> <span class="fu">run_simulation</span><span class="op">(</span>steps<span class="op">=</span><span class="fl">1500</span>, vaccination_start <span class="op">=</span> <span class="fl">500</span>, vaccine_efficacy<span class="op">=</span><span class="fl">0.0</span>, state<span class="op">=</span><span class="va">initial</span><span class="op">$</span><span class="va">state</span><span class="op">)</span></span>
<span><span class="va">vaccine30</span>  <span class="op">&lt;-</span> <span class="fu">run_simulation</span><span class="op">(</span>steps<span class="op">=</span><span class="fl">1500</span>, vaccination_start <span class="op">=</span> <span class="fl">500</span>, vaccine_efficacy<span class="op">=</span><span class="fl">0.3</span>, state<span class="op">=</span><span class="va">initial</span><span class="op">$</span><span class="va">state</span><span class="op">)</span></span>
<span><span class="va">vaccine50</span>  <span class="op">&lt;-</span> <span class="fu">run_simulation</span><span class="op">(</span>steps<span class="op">=</span><span class="fl">1500</span>, vaccination_start <span class="op">=</span> <span class="fl">500</span>, vaccine_efficacy<span class="op">=</span><span class="fl">0.5</span>, state<span class="op">=</span><span class="va">initial</span><span class="op">$</span><span class="va">state</span><span class="op">)</span></span>
<span><span class="va">vaccine100</span> <span class="op">&lt;-</span> <span class="fu">run_simulation</span><span class="op">(</span>steps<span class="op">=</span><span class="fl">1500</span>, vaccination_start <span class="op">=</span> <span class="fl">500</span>, vaccine_efficacy<span class="op">=</span><span class="fl">1.0</span>, state<span class="op">=</span><span class="va">initial</span><span class="op">$</span><span class="va">state</span><span class="op">)</span></span></code></pre></div>
<p>Finally we aggregate and plot the results from all these simulations.
We also need to include the data from our initial run, which we will
plot the same colour as our control simulation.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">colours</span> <span class="op">&lt;-</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"royalblue3"</span>,<span class="st">"firebrick3"</span>,<span class="st">"darkorchid3"</span>, <span class="st">"seagreen3"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Pad initial out to ensure it has the same shape as other series.</span></span>
<span><span class="va">initial</span><span class="op">$</span><span class="va">result</span><span class="op">[</span><span class="fl">500</span><span class="op">:</span><span class="fl">1500</span>,<span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/matplot.html" class="external-link">matplot</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>    <span class="va">initial</span><span class="op">$</span><span class="va">result</span><span class="op">[</span>,<span class="st">"I_count"</span><span class="op">]</span>,</span>
<span>    <span class="va">vaccine30</span><span class="op">$</span><span class="va">result</span><span class="op">[</span>,<span class="st">"I_count"</span><span class="op">]</span>,</span>
<span>    <span class="va">vaccine50</span><span class="op">$</span><span class="va">result</span><span class="op">[</span>,<span class="st">"I_count"</span><span class="op">]</span>,</span>
<span>    <span class="va">vaccine100</span><span class="op">$</span><span class="va">result</span><span class="op">[</span>,<span class="st">"I_count"</span><span class="op">]</span>,</span>
<span>    <span class="va">control</span><span class="op">$</span><span class="va">result</span><span class="op">[</span>,<span class="st">"I_count"</span><span class="op">]</span><span class="op">)</span>,</span>
<span>  xlab <span class="op">=</span> <span class="st">"Time"</span>, ylab <span class="op">=</span> <span class="st">"Infected count"</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"l"</span>, lwd <span class="op">=</span> <span class="fl">1.5</span>, lty <span class="op">=</span> <span class="fl">1</span>, col <span class="op">=</span> <span class="va">colours</span>,</span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/legend.html" class="external-link">legend</a></span><span class="op">(</span></span>
<span>   x <span class="op">=</span> <span class="st">"topright"</span>, pch <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">16</span>,<span class="fl">3</span><span class="op">)</span>,</span>
<span>   col <span class="op">=</span> <span class="va">colours</span>,</span>
<span>   legend <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Control"</span>, <span class="st">"30%"</span>, <span class="st">"50%"</span>, <span class="st">"100%"</span><span class="op">)</span>, cex <span class="op">=</span> <span class="fl">1.5</span>,</span>
<span>   bg<span class="op">=</span><span class="st">'white'</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="Checkpoint_files/figure-html/unnamed-chunk-13-1.png" width="700"></p>
</div>
<div class="section level2">
<h2 id="caveats">Caveats<a class="anchor" aria-label="anchor" href="#caveats"></a>
</h2>
<p>Saving and restoring the simulation state comes with a number of
caveats.</p>
<ul>
<li>All simulation state must be represented as objects managed by
individual. Any state maintained externally will not be saved nor
restored.</li>
<li>The state object’s structure is not stable and is expected to
change. One should not expect to serialize the state to disk and have it
work with future versions of the individual package.</li>
<li>The simulation must be re-created in an identical way. Variables and
events may not be added or removed, variable sizes must remain constant,
the list of categories in a <code>CategoricalVariable</code> cannot be
modified, etc. The order of variables and events passed to the
<code>run_simulation</code> function must remain stable.</li>
<li>If an event is scheduled before the checkpoint, the time at which it
will execute cannot be changed when resuming, even if that time is in
the future. For example in the SIRS model above, we would not be able to
resume the simulation with different values for
<code>vaccination_start</code>; changing that parameter would have no
effect.</li>
</ul>
<p>While parameters of the simulation can be changed between the initial
run and the subsequent runs (as demonstrated with the
<code>vaccine_efficacy</code> parameter above), in general you should
not modify parameters that would have been already had an impact on the
first part of the simulation. Doing so would produce results that can
only be produced through checkpoint and resume, and not as a single
simulation.</p>
<p>For example, in our SIRS model, it may be tempting to model a
time-varying parameter by running half of the simulation with one value
and then resuming it with a different value. While this would probably
work, it would be brittle and hard to compose. As more time-varying
parameters are introduced to the model, the simulation would need to be
saved and restored each time a value changes.</p>
<div class="section level3">
<h3 id="rng">Restoring random number generator state<a class="anchor" aria-label="anchor" href="#rng"></a>
</h3>
<p>By default resuming a simulation does not restore R’s random number
generator’s state. Every resumed run from the same saved state will be
independent and, if the model is stochastic, will produce different
results.</p>
<p>We can demonstrate that by running the baseline of our SIRS model
multiple times and plotting the results. All three runs start off from
the same state, inherited from our original model run, but quickly
diverge based on the outcome of random draws.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">initial</span> <span class="op">&lt;-</span> <span class="fu">run_simulation</span><span class="op">(</span>steps<span class="op">=</span><span class="fl">499</span><span class="op">)</span></span>
<span><span class="va">run1</span> <span class="op">&lt;-</span> <span class="fu">run_simulation</span><span class="op">(</span>steps <span class="op">=</span> <span class="fl">1500</span>, state <span class="op">=</span> <span class="va">initial</span><span class="op">$</span><span class="va">state</span><span class="op">)</span></span>
<span><span class="va">run2</span> <span class="op">&lt;-</span> <span class="fu">run_simulation</span><span class="op">(</span>steps <span class="op">=</span> <span class="fl">1500</span>, state <span class="op">=</span> <span class="va">initial</span><span class="op">$</span><span class="va">state</span><span class="op">)</span></span>
<span><span class="va">run3</span> <span class="op">&lt;-</span> <span class="fu">run_simulation</span><span class="op">(</span>steps <span class="op">=</span> <span class="fl">1500</span>, state <span class="op">=</span> <span class="va">initial</span><span class="op">$</span><span class="va">state</span><span class="op">)</span></span>
<span></span>
<span><span class="va">initial</span><span class="op">$</span><span class="va">result</span><span class="op">[</span><span class="fl">500</span><span class="op">:</span><span class="fl">1500</span>,<span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/matplot.html" class="external-link">matplot</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>    <span class="va">initial</span><span class="op">$</span><span class="va">result</span><span class="op">[</span>,<span class="st">"I_count"</span><span class="op">]</span>,</span>
<span>    <span class="va">run1</span><span class="op">$</span><span class="va">result</span><span class="op">[</span>,<span class="st">"I_count"</span><span class="op">]</span>,</span>
<span>    <span class="va">run2</span><span class="op">$</span><span class="va">result</span><span class="op">[</span>,<span class="st">"I_count"</span><span class="op">]</span>,</span>
<span>    <span class="va">run3</span><span class="op">$</span><span class="va">result</span><span class="op">[</span>,<span class="st">"I_count"</span><span class="op">]</span><span class="op">)</span>,</span>
<span>  xlab <span class="op">=</span> <span class="st">"Time"</span>, ylab <span class="op">=</span> <span class="st">"Infected count"</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"l"</span>, lwd <span class="op">=</span> <span class="fl">1.5</span>, lty <span class="op">=</span> <span class="fl">1</span>, col <span class="op">=</span> <span class="va">colours</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="Checkpoint_files/figure-html/unnamed-chunk-14-1.png" width="700"></p>
<p>Sometimes this behaviour may not be desirable, and we would instead
like to restore the state of the random number generator exactly where
it was when we stopped the first part of the run. One example of this is
when checking that our model behaves the same whether or not it was
saved and resumed.</p>
<p>The code below show an attempt at running the model twice, once as a
continous run and once in a piecewise manner. We would hope that seeding
the random generator at the start of the simulation would be enough to
get identical results out of it. Unfortunately we don’t, because the
random number generator state’s at the intermediate point isn’t being
preserved.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="va">uninterrupted_run</span> <span class="op">&lt;-</span> <span class="fu">run_simulation</span><span class="op">(</span>steps <span class="op">=</span> <span class="fl">1500</span><span class="op">)</span><span class="op">$</span><span class="va">result</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="va">piecewise_run_initial</span> <span class="op">&lt;-</span> <span class="fu">run_simulation</span><span class="op">(</span>steps <span class="op">=</span> <span class="fl">499</span><span class="op">)</span></span>
<span><span class="va">piecewise_run_final</span> <span class="op">&lt;-</span> <span class="fu">run_simulation</span><span class="op">(</span>steps <span class="op">=</span> <span class="fl">1500</span>, state <span class="op">=</span> <span class="va">piecewise_run_initial</span><span class="op">$</span><span class="va">state</span><span class="op">)</span></span>
<span><span class="va">piecewise_run</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">piecewise_run_initial</span><span class="op">$</span><span class="va">result</span>, <span class="va">piecewise_run_final</span><span class="op">$</span><span class="va">result</span><span class="op">[</span><span class="fl">500</span><span class="op">:</span><span class="fl">1500</span>,<span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/all.equal.html" class="external-link">all.equal</a></span><span class="op">(</span><span class="va">uninterrupted_run</span>, <span class="va">piecewise_run</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Component \"S_count\": Mean relative difference: 0.1051656"</span></span>
<span><span class="co">#&gt; [2] "Component \"I_count\": Mean relative difference: 1.316789" </span></span>
<span><span class="co">#&gt; [3] "Component \"R_count\": Mean relative difference: 1.243233"</span></span></code></pre></div>
<p>We can try the same again, but this time set
<code>restore_random_state = TRUE</code> to enable restoring the
simulation state. This time we’ve successfully managed to reproduce the
data from our uninterrupted run.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="va">piecewise_run_initial</span> <span class="op">&lt;-</span> <span class="fu">run_simulation</span><span class="op">(</span>steps <span class="op">=</span> <span class="fl">499</span><span class="op">)</span></span>
<span><span class="va">piecewise_run_final</span> <span class="op">&lt;-</span> <span class="fu">run_simulation</span><span class="op">(</span>steps <span class="op">=</span> <span class="fl">1500</span>, state <span class="op">=</span> <span class="va">piecewise_run_initial</span><span class="op">$</span><span class="va">state</span>, restore_random_state <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">piecewise_run</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">piecewise_run_initial</span><span class="op">$</span><span class="va">result</span>, <span class="va">piecewise_run_final</span><span class="op">$</span><span class="va">result</span><span class="op">[</span><span class="fl">500</span><span class="op">:</span><span class="fl">1500</span>,<span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/all.equal.html" class="external-link">all.equal</a></span><span class="op">(</span><span class="va">uninterrupted_run</span>, <span class="va">piecewise_run</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Component \"S_count\": Mean relative difference: 0.4779436"</span></span>
<span><span class="co">#&gt; [2] "Component \"I_count\": Mean relative difference: 14.83164" </span></span>
<span><span class="co">#&gt; [3] "Component \"R_count\": Mean relative difference: 13.73646"</span></span></code></pre></div>
<p>Using <code>restore_random_state = TRUE</code> resets the global
random number generator’s state, which could have surprising and
undesirable side effects. It is generally useful in tests, but should be
used carefully elsewhere.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">.GlobalEnv</span><span class="op">$</span><span class="va">.Random.seed</span><span class="op">)</span></span>
<span><span class="co">#&gt;   [1]       10403         624  -983674937   643431772  1162448557  -959247990</span></span>
<span><span class="co">#&gt;   [7]  -133913213  2107846888   370274761 -2022780170  -412390145   848182068</span></span>
<span><span class="co">#&gt;  [13]  -266662747 -1309507294  1356997179  1661823040  1749531457  -516669426</span></span>
<span><span class="co">#&gt;  [19]  1042678071 -1279933428  -410084963  1151007674  -895613453  1288379032</span></span>
<span><span class="co">#&gt;  [25]  -376044615 -1358274522   307686511   101447652  1796216213 -1567696558</span></span>
<span><span class="co">#&gt;  [31]  1186934955 -1925339152  -472470735    80319294 -1524429145   326645436</span></span>
<span><span class="co">#&gt;  [37]  -389586803  -400786966  -890731933  -852332472  1365217705 -1785317034</span></span>
<span><span class="co">#&gt;  [43] -1551153185  1359863956  2098748037 -1013039742  -329721061 -1587358816</span></span>
<span><span class="co">#&gt;  [49]   344102689 -1520389522   166492183  1821136236  1646453629  1056605210</span></span>
<span><span class="co">#&gt;  [55] -1419044141  -806080008   520985497   711286406  2004844367 -1445006012</span></span>
<span><span class="co">#&gt;  [61]  1329781621 -1188844110 -1089068661  1173875536 -1983217903   514629022</span></span>
<span><span class="co">#&gt;  [67]  -237421177  -258138084  -930078099   261626442  1349308227 -1125425240</span></span>
<span><span class="co">#&gt;  [73] -1677778551    25874358   409637567 -1987430924  1583257701  -136173086</span></span>
<span><span class="co">#&gt;  [79]   639501307   272101120 -1024630015 -1994369842  -939499785 -1944742196</span></span>
<span><span class="co">#&gt;  [85]  -591520419 -1994900358  1072996275  1119025496  2035491705 -2082894618</span></span>
<span><span class="co">#&gt;  [91]   776176175   -69557596  1794806101  -178474478  -497581461   874372784</span></span>
<span><span class="co">#&gt;  [97]   518669041  -370223106  1295572071 -1776240260 -1692674995  1935534762</span></span>
<span><span class="co">#&gt; [103]   298421283   111542024 -1075273367   518297110  -289321569  1331379028</span></span>
<span><span class="co">#&gt; [109]  1768277573  1473660482  2120850651   879016544  -864018719  1661675310</span></span>
<span><span class="co">#&gt; [115]   135902679 -2136373204   735594301  1594631386  -546138989  1423929528</span></span>
<span><span class="co">#&gt; [121] -1067541671  1962863430 -1923418865  -984154108  1907308341   642901618</span></span>
<span><span class="co">#&gt; [127] -1095019701 -1836613104 -1171392815  1663582814 -1258689721 -2007301412</span></span>
<span><span class="co">#&gt; [133]  -756910547  -712643830 -1271482109  -801485208    51646793 -1925477258</span></span>
<span><span class="co">#&gt; [139] -1421379457  1104736436 -1348082651  -124611934   292791739  2126591424</span></span>
<span><span class="co">#&gt; [145] -2043491647  -709285490 -1242530633  1688217996  -538353379 -1997652678</span></span>
<span><span class="co">#&gt; [151]   -48432781   575772696   942146361    57506214  -948054033   -72610460</span></span>
<span><span class="co">#&gt; [157]  1389939989   656100050   -25586645 -2012424848  1854773937  1391516862</span></span>
<span><span class="co">#&gt; [163] -2100008409  -140248004 -1638135795 -2077746326  -118729245 -1417654840</span></span>
<span><span class="co">#&gt; [169]   662270249   942125782 -1363864737   744183316  2123821573   -80802046</span></span>
<span><span class="co">#&gt; [175] -1753997669  1277518112  1090348705  1338137582   423408535   -28214548</span></span>
<span><span class="co">#&gt; [181]  1164536573  1524008346   673959507   853634936 -1599644903 -2135083002</span></span>
<span><span class="co">#&gt; [187]  -345756977 -1070478652   971985653  -556736718  -406174453   663083216</span></span>
<span><span class="co">#&gt; [193]  1258368657  1306568478  1820350727 -1068259940  -402617875  1499233226</span></span>
<span><span class="co">#&gt; [199] -1121819965 -1773142744  1796260105  1463879990   901914175   104491892</span></span>
<span><span class="co">#&gt; [205]  1605431269 -1933329566  1688405883  -446088064  1238889089   197049934</span></span>
<span><span class="co">#&gt; [211]  -709469577 -1072333748  1691378909 -1260585478   198644531  2053568216</span></span>
<span><span class="co">#&gt; [217]   903127801 -1970919834  -473567825  1614821412 -1905604395  1082827666</span></span>
<span><span class="co">#&gt; [223]  1558537707  1875545136  1518383729 -1265655426 -2085242905  1791098620</span></span>
<span><span class="co">#&gt; [229]  1447558093 -1153758166   -99557469   -92185464 -2016280343  1847562134</span></span>
<span><span class="co">#&gt; [235]  1495701791  -221368108   409722309  -429353022  1765302363  2137311200</span></span>
<span><span class="co">#&gt; [241]  -373658015   273043630  -350916265  -935055956    43404989    52012634</span></span>
<span><span class="co">#&gt; [247]  1867958291  1488596536 -1347953959   174081222  2002460815  1429165444</span></span>
<span><span class="co">#&gt; [253]  -205312331  1264621554  -603785525  1270017936 -1543231919 -1282028578</span></span>
<span><span class="co">#&gt; [259]   908887751   726075484  1269456301 -1680094070  -990917501 -1377014808</span></span>
<span><span class="co">#&gt; [265] -1279971127  1281050102   228230143  1097770548 -1438663771  1295361058</span></span>
<span><span class="co">#&gt; [271]   829172027   988808000  1704778305   804328206 -1257113545  -516583668</span></span>
<span><span class="co">#&gt; [277] -1624037219  1034190522   904064243 -1716316776  1108935353   904106790</span></span>
<span><span class="co">#&gt; [283]  1222361967  1146561252  1232110741   174767186  2136668075 -1843985680</span></span>
<span><span class="co">#&gt; [289]   713263665  1133192766  1302119847  -499465796  -425742451  2035727594</span></span>
<span><span class="co">#&gt; [295]  1324820835  -227988664 -1598926679   227290198   601218783  1836305300</span></span>
<span><span class="co">#&gt; [301]  1386514821   306372738  -445226469   618852000   -25741791   156697966</span></span>
<span><span class="co">#&gt; [307]  -345772265 -2126405524  1998516861  -392853734  1588822483  1965665528</span></span>
<span><span class="co">#&gt; [313] -1658840423 -1901588090  -687876529   -15753148 -1427453323 -1799286606</span></span>
<span><span class="co">#&gt; [319]   -47880053    97437264  -319365615   688369822  -272731001   469052188</span></span>
<span><span class="co">#&gt; [325]    27259245  1573117258  -446761405  1976539816  2093047945   424297142</span></span>
<span><span class="co">#&gt; [331]  1217440191   506831092 -1961736347 -1834464030  1234111227   907381248</span></span>
<span><span class="co">#&gt; [337]  -247365119   118499278 -1581033993  -893361716 -2100188067   335855482</span></span>
<span><span class="co">#&gt; [343]    83920563 -1896483752  -323673479  -498745370  2088720687 -2102342236</span></span>
<span><span class="co">#&gt; [349]  1873412181   226202898 -1483060885  1437743536  -430562831  -190616834</span></span>
<span><span class="co">#&gt; [355] -1639345305   281953404   857940813  -549769814  -245419229  1375189512</span></span>
<span><span class="co">#&gt; [361]  -237346711   590186774    75687071   655107668   151057733   930998594</span></span>
<span><span class="co">#&gt; [367] -1108466725  1398789472  1995685345  1605663278  1206398167 -1945513172</span></span>
<span><span class="co">#&gt; [373]  1992513085  1544169434  1610742675  -152048712  -657450407  1247059526</span></span>
<span><span class="co">#&gt; [379]  1880247311  -124605692   723920437 -1548596878  1827773003   479812880</span></span>
<span><span class="co">#&gt; [385]   228152785    49698142   922100295 -1524757028  -845069011   534031882</span></span>
<span><span class="co">#&gt; [391]  -131080189   213485928   636833865   718143350 -1134260353 -2024842316</span></span>
<span><span class="co">#&gt; [397] -1108831451  1977333154  1053535419  1301926080  -997856831   366738574</span></span>
<span><span class="co">#&gt; [403] -1450544201  1064694924 -1016336355  -390217670 -1024466829   686789400</span></span>
<span><span class="co">#&gt; [409] -2056715719   745319590  -999248145 -1240647580 -1395180523 -1837290030</span></span>
<span><span class="co">#&gt; [415]  -681354453  -514051984  1438153137  2090364862  -209968857  1765574460</span></span>
<span><span class="co">#&gt; [421]  -544057587  -844603798 -1693909789 -1746073400 -1156960215  2076419542</span></span>
<span><span class="co">#&gt; [427] -1326601633  1784103188  -683597563  -824593918  1683989915  -509903840</span></span>
<span><span class="co">#&gt; [433]   183502241  -132206866  -295556457   190629356 -1790739971  1849133210</span></span>
<span><span class="co">#&gt; [439] -1660799661   214755960 -1837639143   975563526  1750237647  1014527428</span></span>
<span><span class="co">#&gt; [445]     3490293   552878642   220695563   382907344 -1381266031  1445050910</span></span>
<span><span class="co">#&gt; [451]  1771278343 -1719553892   862869741   583941834 -1759344189  1365915688</span></span>
<span><span class="co">#&gt; [457]  -820969463 -1381598154   -19516097   662427252 -1098735899  -812655006</span></span>
<span><span class="co">#&gt; [463]  1658982011 -1203972224  1999245697 -1592487602 -1708699273 -1038727348</span></span>
<span><span class="co">#&gt; [469]  -725486627   747602170  2037447219  -161484328   469017081  1897421158</span></span>
<span><span class="co">#&gt; [475]   644859055   959210276  1824012245 -1573943662  -797561621   466937648</span></span>
<span><span class="co">#&gt; [481]     6984049  1344943230 -1963692313   507873788  1336756941  -446804182</span></span>
<span><span class="co">#&gt; [487]  -978024797    50927496   -66994199 -1542552938 -1630130145  1108679636</span></span>
<span><span class="co">#&gt; [493]   421858501   286669506   176875355  1716904672   841747809  2002101166</span></span>
<span><span class="co">#&gt; [499] -1936594857  -503678804   643784125  -270685862    -9162989 -1518294728</span></span>
<span><span class="co">#&gt; [505] -1177069095   450623430 -1518307441 -2055143292  1977097653  1967586034</span></span>
<span><span class="co">#&gt; [511]  2139569611   993708688   887981393  -146153762 -1521041977 -1948249252</span></span>
<span><span class="co">#&gt; [517]  1992764589  1735430026   469169027  -492722456  1473540041 -1902921482</span></span>
<span><span class="co">#&gt; [523]  1705351935  1769673012  -929011035   948225826  -946720709  1824431680</span></span>
<span><span class="co">#&gt; [529]  1626208577 -1384520178    22671159 -1788782068  -359417955   272236986</span></span>
<span><span class="co">#&gt; [535]  -230435853  1174868120 -2145910343  -855063002  1748802159   651054564</span></span>
<span><span class="co">#&gt; [541]  -619908203    89300818   345161387 -1411621392   774662449 -1541883586</span></span>
<span><span class="co">#&gt; [547]  1651670183   581520572 -1489764723 -2028142614 -1423847325 -1844713912</span></span>
<span><span class="co">#&gt; [553]  1954615209  -389144746    66876895  2030417556  -361973627  -151813246</span></span>
<span><span class="co">#&gt; [559] -1573918437   944703904   610784545  1108957294 -1875417577 -1297945748</span></span>
<span><span class="co">#&gt; [565]  1037500797  1908181530   823650515  1875585016   -22111847  1765196934</span></span>
<span><span class="co">#&gt; [571]  -849597105  1315720004 -1748059787  -915770446   634433419 -1869504176</span></span>
<span><span class="co">#&gt; [577]  -887145199  2066662302  -939545721  -822528484 -1687437203 -1367629750</span></span>
<span><span class="co">#&gt; [583] -1603461821   522180008  1610588041  2052437430   110280895  2014120948</span></span>
<span><span class="co">#&gt; [589]  -670960027   159018978  1050415611   568272128 -1718509311    -3409202</span></span>
<span><span class="co">#&gt; [595]   753028343 -1139331892  -123651235 -2072165766 -1222087245   648343384</span></span>
<span><span class="co">#&gt; [601]  1100161401   486404838   261566511  1504901284  -476745899  1151760402</span></span>
<span><span class="co">#&gt; [607]  -445050773  -130902864  -423755535  1831075326   934693479   690474876</span></span>
<span><span class="co">#&gt; [613]  -907644339  -744197974  1158732323    62223624 -1538777239  1455586326</span></span>
<span><span class="co">#&gt; [619]  -702514273 -1712778924   651699269   959548482  -586241317  1850142816</span></span>
<span><span class="co">#&gt; [625]  -647799583  2099891502</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu">run_simulation</span><span class="op">(</span>steps<span class="op">=</span><span class="fl">10</span><span class="op">)</span><span class="op">$</span><span class="va">state</span><span class="op">$</span><span class="va">variables</span><span class="op">)</span></span>
<span><span class="co">#&gt; $health</span></span>
<span><span class="co">#&gt; $health$S</span></span>
<span><span class="co">#&gt;   [1]    1    2    3    4    5    6    7    8    9   10   11   12   13   14   15</span></span>
<span><span class="co">#&gt;  [16]   16   17   18   19   20   21   22   23   24   25   26   27   28   29   30</span></span>
<span><span class="co">#&gt;  [31]   31   32   33   34   35   36   37   38   39   40   41   42   43   44   45</span></span>
<span><span class="co">#&gt;  [46]   46   47   48   49   50   51   52   53   54   55   56   57   58   59   60</span></span>
<span><span class="co">#&gt;  [61]   61   62   63   64   65   66   67   68   69   70   71   72   73   74   75</span></span>
<span><span class="co">#&gt;  [76]   76   77   78   79   80   81   82   83   84   85   86   87   88   89   90</span></span>
<span><span class="co">#&gt;  [91]   91   92   93   94   95   96   97   98   99  100  101  102  103  104  105</span></span>
<span><span class="co">#&gt; [106]  106  107  108  109  110  111  112  113  114  115  116  117  118  119  120</span></span>
<span><span class="co">#&gt; [121]  121  122  123  124  125  126  127  128  129  130  131  132  133  134  135</span></span>
<span><span class="co">#&gt; [136]  136  137  138  139  140  141  142  143  144  145  146  147  148  149  150</span></span>
<span><span class="co">#&gt; [151]  151  152  153  154  155  156  157  158  159  160  161  162  163  164  165</span></span>
<span><span class="co">#&gt; [166]  166  167  168  169  170  171  172  173  174  175  176  177  178  180  181</span></span>
<span><span class="co">#&gt; [181]  182  183  184  185  186  187  188  190  191  192  193  194  196  197  198</span></span>
<span><span class="co">#&gt; [196]  199  200  201  202  203  204  205  206  207  208  209  210  211  212  213</span></span>
<span><span class="co">#&gt; [211]  214  215  216  217  218  219  220  221  222  223  224  225  226  227  228</span></span>
<span><span class="co">#&gt; [226]  229  230  231  232  234  235  236  237  238  239  240  241  242  243  244</span></span>
<span><span class="co">#&gt; [241]  245  246  247  248  249  250  251  252  253  254  255  256  257  258  259</span></span>
<span><span class="co">#&gt; [256]  260  261  262  263  264  265  266  267  268  269  270  271  272  273  274</span></span>
<span><span class="co">#&gt; [271]  275  276  277  278  279  280  281  282  283  284  285  286  287  288  289</span></span>
<span><span class="co">#&gt; [286]  290  291  292  293  294  295  296  297  298  299  300  301  302  303  304</span></span>
<span><span class="co">#&gt; [301]  305  306  307  308  309  311  312  313  314  315  316  317  318  319  320</span></span>
<span><span class="co">#&gt; [316]  321  322  323  324  325  326  327  328  329  330  331  332  333  334  335</span></span>
<span><span class="co">#&gt; [331]  336  337  338  339  340  341  342  343  344  345  346  347  348  349  350</span></span>
<span><span class="co">#&gt; [346]  351  352  353  354  355  356  357  358  359  360  361  362  363  364  365</span></span>
<span><span class="co">#&gt; [361]  366  367  368  369  370  371  372  373  374  375  376  377  378  379  380</span></span>
<span><span class="co">#&gt; [376]  381  382  383  384  386  387  388  389  390  391  392  393  394  395  396</span></span>
<span><span class="co">#&gt; [391]  397  398  399  400  401  402  403  404  405  406  407  408  409  410  411</span></span>
<span><span class="co">#&gt; [406]  412  413  414  416  417  418  419  420  421  422  423  424  425  426  427</span></span>
<span><span class="co">#&gt; [421]  428  429  430  431  432  433  434  435  436  437  438  439  440  441  442</span></span>
<span><span class="co">#&gt; [436]  443  444  445  446  447  448  449  450  451  452  453  454  455  456  457</span></span>
<span><span class="co">#&gt; [451]  458  459  460  461  462  464  465  466  467  468  469  470  471  472  473</span></span>
<span><span class="co">#&gt; [466]  474  475  476  477  478  479  480  481  482  483  484  485  486  487  488</span></span>
<span><span class="co">#&gt; [481]  489  490  491  492  493  494  495  496  497  498  499  500  501  502  503</span></span>
<span><span class="co">#&gt; [496]  504  505  506  507  508  509  510  511  512  513  514  515  516  517  518</span></span>
<span><span class="co">#&gt; [511]  519  520  521  522  523  524  525  527  528  529  530  531  532  533  534</span></span>
<span><span class="co">#&gt; [526]  535  536  537  538  539  540  541  542  543  544  545  546  547  548  549</span></span>
<span><span class="co">#&gt; [541]  550  551  552  553  554  555  556  557  558  559  560  561  562  563  564</span></span>
<span><span class="co">#&gt; [556]  565  566  567  568  569  571  572  573  574  575  576  577  578  579  580</span></span>
<span><span class="co">#&gt; [571]  581  582  583  584  585  586  587  588  589  590  591  592  593  594  595</span></span>
<span><span class="co">#&gt; [586]  596  597  598  599  600  601  602  603  604  605  606  607  608  609  610</span></span>
<span><span class="co">#&gt; [601]  611  612  613  614  615  616  617  618  619  620  621  622  623  624  625</span></span>
<span><span class="co">#&gt; [616]  626  627  628  629  630  631  632  633  634  635  636  637  638  639  640</span></span>
<span><span class="co">#&gt; [631]  641  642  643  644  645  646  647  648  649  650  651  652  653  654  655</span></span>
<span><span class="co">#&gt; [646]  656  657  658  659  660  661  662  664  665  667  668  669  670  671  672</span></span>
<span><span class="co">#&gt; [661]  673  674  675  676  677  678  679  680  681  682  683  684  685  686  687</span></span>
<span><span class="co">#&gt; [676]  688  689  690  691  692  693  694  695  696  697  698  699  700  701  702</span></span>
<span><span class="co">#&gt; [691]  703  704  705  706  707  708  709  710  711  712  713  714  715  716  717</span></span>
<span><span class="co">#&gt; [706]  718  719  720  721  722  723  724  725  726  727  728  729  730  731  732</span></span>
<span><span class="co">#&gt; [721]  733  734  735  736  737  738  739  740  741  742  743  744  745  746  747</span></span>
<span><span class="co">#&gt; [736]  748  749  750  751  752  753  754  755  756  757  758  759  760  761  762</span></span>
<span><span class="co">#&gt; [751]  763  764  765  766  767  768  769  770  771  772  773  774  775  776  777</span></span>
<span><span class="co">#&gt; [766]  778  779  780  781  782  783  784  785  786  787  788  789  790  791  792</span></span>
<span><span class="co">#&gt; [781]  793  794  795  796  797  798  799  800  801  802  803  804  805  806  807</span></span>
<span><span class="co">#&gt; [796]  808  809  810  811  812  813  814  815  816  817  818  819  820  821  822</span></span>
<span><span class="co">#&gt; [811]  823  824  825  826  827  828  829  830  831  832  833  834  835  836  837</span></span>
<span><span class="co">#&gt; [826]  838  839  840  841  842  843  844  845  846  847  848  849  850  851  852</span></span>
<span><span class="co">#&gt; [841]  853  854  855  856  857  858  859  860  861  862  863  864  865  866  867</span></span>
<span><span class="co">#&gt; [856]  868  869  870  871  872  873  874  875  876  877  878  879  880  881  882</span></span>
<span><span class="co">#&gt; [871]  883  884  885  886  887  888  889  890  891  892  893  894  895  896  897</span></span>
<span><span class="co">#&gt; [886]  898  899  900  901  902  903  904  905  906  907  908  909  910  911  912</span></span>
<span><span class="co">#&gt; [901]  913  914  915  916  917  918  919  920  921  922  923  924  925  926  927</span></span>
<span><span class="co">#&gt; [916]  928  929  930  931  932  933  934  935  936  937  938  939  940  941  942</span></span>
<span><span class="co">#&gt; [931]  943  944  945  946  947  948  949  950  951  952  953  954  955  956  957</span></span>
<span><span class="co">#&gt; [946]  958  959  960  961  962  963  964  965  966  967  968  969  970  971  972</span></span>
<span><span class="co">#&gt; [961]  973  974  975  976  977  978  979  980  981  982  983  984  985  986  987</span></span>
<span><span class="co">#&gt; [976]  988  989  990  991  992  993  994  995  996  997  998  999 1000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $health$I</span></span>
<span><span class="co">#&gt; [1] 179 189 233 385 463 526 570 663 666</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $health$R</span></span>
<span><span class="co">#&gt; [1] 195 310 415</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $vaccinated</span></span>
<span><span class="co">#&gt; $vaccinated$Y</span></span>
<span><span class="co">#&gt; numeric(0)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $vaccinated$N</span></span>
<span><span class="co">#&gt;    [1]    1    2    3    4    5    6    7    8    9   10   11   12   13   14</span></span>
<span><span class="co">#&gt;   [15]   15   16   17   18   19   20   21   22   23   24   25   26   27   28</span></span>
<span><span class="co">#&gt;   [29]   29   30   31   32   33   34   35   36   37   38   39   40   41   42</span></span>
<span><span class="co">#&gt;   [43]   43   44   45   46   47   48   49   50   51   52   53   54   55   56</span></span>
<span><span class="co">#&gt;   [57]   57   58   59   60   61   62   63   64   65   66   67   68   69   70</span></span>
<span><span class="co">#&gt;   [71]   71   72   73   74   75   76   77   78   79   80   81   82   83   84</span></span>
<span><span class="co">#&gt;   [85]   85   86   87   88   89   90   91   92   93   94   95   96   97   98</span></span>
<span><span class="co">#&gt;   [99]   99  100  101  102  103  104  105  106  107  108  109  110  111  112</span></span>
<span><span class="co">#&gt;  [113]  113  114  115  116  117  118  119  120  121  122  123  124  125  126</span></span>
<span><span class="co">#&gt;  [127]  127  128  129  130  131  132  133  134  135  136  137  138  139  140</span></span>
<span><span class="co">#&gt;  [141]  141  142  143  144  145  146  147  148  149  150  151  152  153  154</span></span>
<span><span class="co">#&gt;  [155]  155  156  157  158  159  160  161  162  163  164  165  166  167  168</span></span>
<span><span class="co">#&gt;  [169]  169  170  171  172  173  174  175  176  177  178  179  180  181  182</span></span>
<span><span class="co">#&gt;  [183]  183  184  185  186  187  188  189  190  191  192  193  194  195  196</span></span>
<span><span class="co">#&gt;  [197]  197  198  199  200  201  202  203  204  205  206  207  208  209  210</span></span>
<span><span class="co">#&gt;  [211]  211  212  213  214  215  216  217  218  219  220  221  222  223  224</span></span>
<span><span class="co">#&gt;  [225]  225  226  227  228  229  230  231  232  233  234  235  236  237  238</span></span>
<span><span class="co">#&gt;  [239]  239  240  241  242  243  244  245  246  247  248  249  250  251  252</span></span>
<span><span class="co">#&gt;  [253]  253  254  255  256  257  258  259  260  261  262  263  264  265  266</span></span>
<span><span class="co">#&gt;  [267]  267  268  269  270  271  272  273  274  275  276  277  278  279  280</span></span>
<span><span class="co">#&gt;  [281]  281  282  283  284  285  286  287  288  289  290  291  292  293  294</span></span>
<span><span class="co">#&gt;  [295]  295  296  297  298  299  300  301  302  303  304  305  306  307  308</span></span>
<span><span class="co">#&gt;  [309]  309  310  311  312  313  314  315  316  317  318  319  320  321  322</span></span>
<span><span class="co">#&gt;  [323]  323  324  325  326  327  328  329  330  331  332  333  334  335  336</span></span>
<span><span class="co">#&gt;  [337]  337  338  339  340  341  342  343  344  345  346  347  348  349  350</span></span>
<span><span class="co">#&gt;  [351]  351  352  353  354  355  356  357  358  359  360  361  362  363  364</span></span>
<span><span class="co">#&gt;  [365]  365  366  367  368  369  370  371  372  373  374  375  376  377  378</span></span>
<span><span class="co">#&gt;  [379]  379  380  381  382  383  384  385  386  387  388  389  390  391  392</span></span>
<span><span class="co">#&gt;  [393]  393  394  395  396  397  398  399  400  401  402  403  404  405  406</span></span>
<span><span class="co">#&gt;  [407]  407  408  409  410  411  412  413  414  415  416  417  418  419  420</span></span>
<span><span class="co">#&gt;  [421]  421  422  423  424  425  426  427  428  429  430  431  432  433  434</span></span>
<span><span class="co">#&gt;  [435]  435  436  437  438  439  440  441  442  443  444  445  446  447  448</span></span>
<span><span class="co">#&gt;  [449]  449  450  451  452  453  454  455  456  457  458  459  460  461  462</span></span>
<span><span class="co">#&gt;  [463]  463  464  465  466  467  468  469  470  471  472  473  474  475  476</span></span>
<span><span class="co">#&gt;  [477]  477  478  479  480  481  482  483  484  485  486  487  488  489  490</span></span>
<span><span class="co">#&gt;  [491]  491  492  493  494  495  496  497  498  499  500  501  502  503  504</span></span>
<span><span class="co">#&gt;  [505]  505  506  507  508  509  510  511  512  513  514  515  516  517  518</span></span>
<span><span class="co">#&gt;  [519]  519  520  521  522  523  524  525  526  527  528  529  530  531  532</span></span>
<span><span class="co">#&gt;  [533]  533  534  535  536  537  538  539  540  541  542  543  544  545  546</span></span>
<span><span class="co">#&gt;  [547]  547  548  549  550  551  552  553  554  555  556  557  558  559  560</span></span>
<span><span class="co">#&gt;  [561]  561  562  563  564  565  566  567  568  569  570  571  572  573  574</span></span>
<span><span class="co">#&gt;  [575]  575  576  577  578  579  580  581  582  583  584  585  586  587  588</span></span>
<span><span class="co">#&gt;  [589]  589  590  591  592  593  594  595  596  597  598  599  600  601  602</span></span>
<span><span class="co">#&gt;  [603]  603  604  605  606  607  608  609  610  611  612  613  614  615  616</span></span>
<span><span class="co">#&gt;  [617]  617  618  619  620  621  622  623  624  625  626  627  628  629  630</span></span>
<span><span class="co">#&gt;  [631]  631  632  633  634  635  636  637  638  639  640  641  642  643  644</span></span>
<span><span class="co">#&gt;  [645]  645  646  647  648  649  650  651  652  653  654  655  656  657  658</span></span>
<span><span class="co">#&gt;  [659]  659  660  661  662  663  664  665  666  667  668  669  670  671  672</span></span>
<span><span class="co">#&gt;  [673]  673  674  675  676  677  678  679  680  681  682  683  684  685  686</span></span>
<span><span class="co">#&gt;  [687]  687  688  689  690  691  692  693  694  695  696  697  698  699  700</span></span>
<span><span class="co">#&gt;  [701]  701  702  703  704  705  706  707  708  709  710  711  712  713  714</span></span>
<span><span class="co">#&gt;  [715]  715  716  717  718  719  720  721  722  723  724  725  726  727  728</span></span>
<span><span class="co">#&gt;  [729]  729  730  731  732  733  734  735  736  737  738  739  740  741  742</span></span>
<span><span class="co">#&gt;  [743]  743  744  745  746  747  748  749  750  751  752  753  754  755  756</span></span>
<span><span class="co">#&gt;  [757]  757  758  759  760  761  762  763  764  765  766  767  768  769  770</span></span>
<span><span class="co">#&gt;  [771]  771  772  773  774  775  776  777  778  779  780  781  782  783  784</span></span>
<span><span class="co">#&gt;  [785]  785  786  787  788  789  790  791  792  793  794  795  796  797  798</span></span>
<span><span class="co">#&gt;  [799]  799  800  801  802  803  804  805  806  807  808  809  810  811  812</span></span>
<span><span class="co">#&gt;  [813]  813  814  815  816  817  818  819  820  821  822  823  824  825  826</span></span>
<span><span class="co">#&gt;  [827]  827  828  829  830  831  832  833  834  835  836  837  838  839  840</span></span>
<span><span class="co">#&gt;  [841]  841  842  843  844  845  846  847  848  849  850  851  852  853  854</span></span>
<span><span class="co">#&gt;  [855]  855  856  857  858  859  860  861  862  863  864  865  866  867  868</span></span>
<span><span class="co">#&gt;  [869]  869  870  871  872  873  874  875  876  877  878  879  880  881  882</span></span>
<span><span class="co">#&gt;  [883]  883  884  885  886  887  888  889  890  891  892  893  894  895  896</span></span>
<span><span class="co">#&gt;  [897]  897  898  899  900  901  902  903  904  905  906  907  908  909  910</span></span>
<span><span class="co">#&gt;  [911]  911  912  913  914  915  916  917  918  919  920  921  922  923  924</span></span>
<span><span class="co">#&gt;  [925]  925  926  927  928  929  930  931  932  933  934  935  936  937  938</span></span>
<span><span class="co">#&gt;  [939]  939  940  941  942  943  944  945  946  947  948  949  950  951  952</span></span>
<span><span class="co">#&gt;  [953]  953  954  955  956  957  958  959  960  961  962  963  964  965  966</span></span>
<span><span class="co">#&gt;  [967]  967  968  969  970  971  972  973  974  975  976  977  978  979  980</span></span>
<span><span class="co">#&gt;  [981]  981  982  983  984  985  986  987  988  989  990  991  992  993  994</span></span>
<span><span class="co">#&gt;  [995]  995  996  997  998  999 1000</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu">run_simulation</span><span class="op">(</span>steps<span class="op">=</span><span class="fl">15</span><span class="op">)</span><span class="op">$</span><span class="va">state</span><span class="op">$</span><span class="va">variables</span><span class="op">)</span></span>
<span><span class="co">#&gt; $health</span></span>
<span><span class="co">#&gt; $health$S</span></span>
<span><span class="co">#&gt;   [1]    1    2    3    4    5    6    7    8    9   10   11   12   13   14   15</span></span>
<span><span class="co">#&gt;  [16]   16   17   18   19   20   21   22   23   24   25   26   27   28   29   30</span></span>
<span><span class="co">#&gt;  [31]   31   32   33   34   35   36   37   38   39   40   41   42   43   44   45</span></span>
<span><span class="co">#&gt;  [46]   46   47   48   49   50   51   52   53   54   55   56   57   58   59   60</span></span>
<span><span class="co">#&gt;  [61]   61   62   63   64   65   66   67   68   69   70   71   72   73   74   75</span></span>
<span><span class="co">#&gt;  [76]   76   77   78   79   80   81   82   83   84   85   86   87   88   89   90</span></span>
<span><span class="co">#&gt;  [91]   91   92   93   94   95   96   97   98   99  100  101  102  103  104  105</span></span>
<span><span class="co">#&gt; [106]  106  107  108  109  110  111  112  113  114  115  116  117  118  119  120</span></span>
<span><span class="co">#&gt; [121]  121  122  123  124  125  126  127  128  129  130  131  132  133  134  135</span></span>
<span><span class="co">#&gt; [136]  136  137  138  139  140  141  142  143  144  145  146  147  148  149  150</span></span>
<span><span class="co">#&gt; [151]  151  152  154  155  156  157  158  159  160  161  162  163  164  165  166</span></span>
<span><span class="co">#&gt; [166]  167  168  169  170  171  172  173  174  175  176  177  178  180  181  182</span></span>
<span><span class="co">#&gt; [181]  183  184  185  186  187  188  190  191  192  193  194  196  197  198  199</span></span>
<span><span class="co">#&gt; [196]  200  201  202  203  204  205  206  207  208  209  210  211  212  213  214</span></span>
<span><span class="co">#&gt; [211]  215  216  217  218  219  220  221  222  223  224  225  226  227  228  229</span></span>
<span><span class="co">#&gt; [226]  230  231  232  234  235  236  237  238  239  240  241  242  243  244  245</span></span>
<span><span class="co">#&gt; [241]  246  247  248  249  250  251  252  253  254  255  256  257  258  259  260</span></span>
<span><span class="co">#&gt; [256]  261  262  263  264  265  266  267  268  269  270  271  272  273  274  275</span></span>
<span><span class="co">#&gt; [271]  276  277  278  279  280  281  282  283  284  285  286  287  288  289  290</span></span>
<span><span class="co">#&gt; [286]  291  292  293  294  295  296  297  298  299  300  301  302  303  304  305</span></span>
<span><span class="co">#&gt; [301]  306  307  308  309  311  312  313  314  315  316  317  318  319  320  321</span></span>
<span><span class="co">#&gt; [316]  322  323  324  325  326  327  328  329  330  331  332  333  334  335  336</span></span>
<span><span class="co">#&gt; [331]  337  338  339  340  341  342  343  344  345  346  347  348  349  350  351</span></span>
<span><span class="co">#&gt; [346]  352  353  354  355  356  357  358  359  360  361  362  363  364  365  366</span></span>
<span><span class="co">#&gt; [361]  367  368  369  370  371  372  373  374  375  376  377  378  379  380  381</span></span>
<span><span class="co">#&gt; [376]  382  383  384  386  387  388  389  390  391  392  393  394  395  396  397</span></span>
<span><span class="co">#&gt; [391]  398  399  400  401  402  403  404  405  406  407  408  409  410  411  412</span></span>
<span><span class="co">#&gt; [406]  413  414  416  417  418  419  420  421  422  423  424  425  426  427  428</span></span>
<span><span class="co">#&gt; [421]  429  430  431  432  433  434  435  436  437  438  439  440  441  442  443</span></span>
<span><span class="co">#&gt; [436]  444  445  446  447  448  449  450  451  452  453  454  455  456  457  458</span></span>
<span><span class="co">#&gt; [451]  459  460  461  462  464  465  466  467  468  469  470  471  472  473  474</span></span>
<span><span class="co">#&gt; [466]  475  476  477  478  479  480  481  482  483  484  485  486  487  488  489</span></span>
<span><span class="co">#&gt; [481]  490  491  492  493  494  495  496  497  498  499  500  501  502  503  504</span></span>
<span><span class="co">#&gt; [496]  505  506  507  508  509  510  511  512  513  514  515  516  517  518  519</span></span>
<span><span class="co">#&gt; [511]  520  521  522  523  524  525  527  528  529  530  531  532  533  534  535</span></span>
<span><span class="co">#&gt; [526]  536  537  538  539  540  541  542  543  544  545  546  547  548  549  550</span></span>
<span><span class="co">#&gt; [541]  551  552  553  554  555  556  557  558  559  560  561  562  563  564  565</span></span>
<span><span class="co">#&gt; [556]  566  567  568  569  571  572  573  574  575  576  577  578  579  580  581</span></span>
<span><span class="co">#&gt; [571]  582  583  584  585  586  587  588  589  590  591  592  593  594  595  596</span></span>
<span><span class="co">#&gt; [586]  597  598  599  600  601  602  603  604  605  606  607  608  609  610  611</span></span>
<span><span class="co">#&gt; [601]  612  613  614  615  616  617  618  619  620  621  622  623  624  625  626</span></span>
<span><span class="co">#&gt; [616]  627  628  629  630  631  632  633  634  635  636  637  638  639  640  641</span></span>
<span><span class="co">#&gt; [631]  642  643  644  645  646  647  648  649  650  651  652  653  654  655  656</span></span>
<span><span class="co">#&gt; [646]  657  658  659  660  661  662  664  665  667  668  669  670  671  672  673</span></span>
<span><span class="co">#&gt; [661]  674  675  676  677  678  679  680  681  682  683  684  685  686  687  688</span></span>
<span><span class="co">#&gt; [676]  689  690  691  692  693  694  695  696  697  698  699  700  701  702  703</span></span>
<span><span class="co">#&gt; [691]  704  705  706  707  708  709  710  711  712  713  714  715  716  717  718</span></span>
<span><span class="co">#&gt; [706]  719  720  721  722  723  724  725  726  727  728  729  730  731  732  733</span></span>
<span><span class="co">#&gt; [721]  734  735  736  737  738  739  740  741  742  743  744  745  746  747  748</span></span>
<span><span class="co">#&gt; [736]  749  750  751  752  753  754  755  756  757  758  759  760  761  762  763</span></span>
<span><span class="co">#&gt; [751]  764  765  766  767  768  769  770  771  772  773  774  775  776  777  778</span></span>
<span><span class="co">#&gt; [766]  779  780  781  782  783  784  785  786  787  788  789  790  791  792  793</span></span>
<span><span class="co">#&gt; [781]  794  795  796  797  798  799  800  801  802  803  804  805  806  807  808</span></span>
<span><span class="co">#&gt; [796]  809  810  811  812  813  814  815  816  817  818  819  820  821  822  823</span></span>
<span><span class="co">#&gt; [811]  824  825  826  827  828  829  830  831  832  833  834  835  836  837  838</span></span>
<span><span class="co">#&gt; [826]  839  840  841  842  843  844  845  846  847  848  849  850  851  852  853</span></span>
<span><span class="co">#&gt; [841]  854  855  856  857  858  859  860  861  862  863  864  865  866  867  868</span></span>
<span><span class="co">#&gt; [856]  869  870  871  872  873  874  875  876  877  878  879  880  881  882  883</span></span>
<span><span class="co">#&gt; [871]  884  885  886  887  888  889  890  891  892  893  894  895  896  897  898</span></span>
<span><span class="co">#&gt; [886]  899  900  901  902  903  904  905  906  907  908  909  910  911  912  913</span></span>
<span><span class="co">#&gt; [901]  914  915  916  917  918  919  920  921  922  923  924  925  926  927  928</span></span>
<span><span class="co">#&gt; [916]  929  930  931  932  933  934  935  936  937  938  939  940  941  942  943</span></span>
<span><span class="co">#&gt; [931]  944  945  946  947  948  949  950  951  952  953  954  955  956  957  958</span></span>
<span><span class="co">#&gt; [946]  959  960  961  962  963  964  965  966  967  968  969  970  971  972  973</span></span>
<span><span class="co">#&gt; [961]  974  975  976  977  978  979  980  981  982  983  984  985  986  987  988</span></span>
<span><span class="co">#&gt; [976]  989  990  991  992  993  994  995  996  997  998  999 1000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $health$I</span></span>
<span><span class="co">#&gt; [1] 153 189 233 385 463 526 570 666</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $health$R</span></span>
<span><span class="co">#&gt; [1] 179 195 310 415 663</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $vaccinated</span></span>
<span><span class="co">#&gt; $vaccinated$Y</span></span>
<span><span class="co">#&gt; numeric(0)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $vaccinated$N</span></span>
<span><span class="co">#&gt;    [1]    1    2    3    4    5    6    7    8    9   10   11   12   13   14</span></span>
<span><span class="co">#&gt;   [15]   15   16   17   18   19   20   21   22   23   24   25   26   27   28</span></span>
<span><span class="co">#&gt;   [29]   29   30   31   32   33   34   35   36   37   38   39   40   41   42</span></span>
<span><span class="co">#&gt;   [43]   43   44   45   46   47   48   49   50   51   52   53   54   55   56</span></span>
<span><span class="co">#&gt;   [57]   57   58   59   60   61   62   63   64   65   66   67   68   69   70</span></span>
<span><span class="co">#&gt;   [71]   71   72   73   74   75   76   77   78   79   80   81   82   83   84</span></span>
<span><span class="co">#&gt;   [85]   85   86   87   88   89   90   91   92   93   94   95   96   97   98</span></span>
<span><span class="co">#&gt;   [99]   99  100  101  102  103  104  105  106  107  108  109  110  111  112</span></span>
<span><span class="co">#&gt;  [113]  113  114  115  116  117  118  119  120  121  122  123  124  125  126</span></span>
<span><span class="co">#&gt;  [127]  127  128  129  130  131  132  133  134  135  136  137  138  139  140</span></span>
<span><span class="co">#&gt;  [141]  141  142  143  144  145  146  147  148  149  150  151  152  153  154</span></span>
<span><span class="co">#&gt;  [155]  155  156  157  158  159  160  161  162  163  164  165  166  167  168</span></span>
<span><span class="co">#&gt;  [169]  169  170  171  172  173  174  175  176  177  178  179  180  181  182</span></span>
<span><span class="co">#&gt;  [183]  183  184  185  186  187  188  189  190  191  192  193  194  195  196</span></span>
<span><span class="co">#&gt;  [197]  197  198  199  200  201  202  203  204  205  206  207  208  209  210</span></span>
<span><span class="co">#&gt;  [211]  211  212  213  214  215  216  217  218  219  220  221  222  223  224</span></span>
<span><span class="co">#&gt;  [225]  225  226  227  228  229  230  231  232  233  234  235  236  237  238</span></span>
<span><span class="co">#&gt;  [239]  239  240  241  242  243  244  245  246  247  248  249  250  251  252</span></span>
<span><span class="co">#&gt;  [253]  253  254  255  256  257  258  259  260  261  262  263  264  265  266</span></span>
<span><span class="co">#&gt;  [267]  267  268  269  270  271  272  273  274  275  276  277  278  279  280</span></span>
<span><span class="co">#&gt;  [281]  281  282  283  284  285  286  287  288  289  290  291  292  293  294</span></span>
<span><span class="co">#&gt;  [295]  295  296  297  298  299  300  301  302  303  304  305  306  307  308</span></span>
<span><span class="co">#&gt;  [309]  309  310  311  312  313  314  315  316  317  318  319  320  321  322</span></span>
<span><span class="co">#&gt;  [323]  323  324  325  326  327  328  329  330  331  332  333  334  335  336</span></span>
<span><span class="co">#&gt;  [337]  337  338  339  340  341  342  343  344  345  346  347  348  349  350</span></span>
<span><span class="co">#&gt;  [351]  351  352  353  354  355  356  357  358  359  360  361  362  363  364</span></span>
<span><span class="co">#&gt;  [365]  365  366  367  368  369  370  371  372  373  374  375  376  377  378</span></span>
<span><span class="co">#&gt;  [379]  379  380  381  382  383  384  385  386  387  388  389  390  391  392</span></span>
<span><span class="co">#&gt;  [393]  393  394  395  396  397  398  399  400  401  402  403  404  405  406</span></span>
<span><span class="co">#&gt;  [407]  407  408  409  410  411  412  413  414  415  416  417  418  419  420</span></span>
<span><span class="co">#&gt;  [421]  421  422  423  424  425  426  427  428  429  430  431  432  433  434</span></span>
<span><span class="co">#&gt;  [435]  435  436  437  438  439  440  441  442  443  444  445  446  447  448</span></span>
<span><span class="co">#&gt;  [449]  449  450  451  452  453  454  455  456  457  458  459  460  461  462</span></span>
<span><span class="co">#&gt;  [463]  463  464  465  466  467  468  469  470  471  472  473  474  475  476</span></span>
<span><span class="co">#&gt;  [477]  477  478  479  480  481  482  483  484  485  486  487  488  489  490</span></span>
<span><span class="co">#&gt;  [491]  491  492  493  494  495  496  497  498  499  500  501  502  503  504</span></span>
<span><span class="co">#&gt;  [505]  505  506  507  508  509  510  511  512  513  514  515  516  517  518</span></span>
<span><span class="co">#&gt;  [519]  519  520  521  522  523  524  525  526  527  528  529  530  531  532</span></span>
<span><span class="co">#&gt;  [533]  533  534  535  536  537  538  539  540  541  542  543  544  545  546</span></span>
<span><span class="co">#&gt;  [547]  547  548  549  550  551  552  553  554  555  556  557  558  559  560</span></span>
<span><span class="co">#&gt;  [561]  561  562  563  564  565  566  567  568  569  570  571  572  573  574</span></span>
<span><span class="co">#&gt;  [575]  575  576  577  578  579  580  581  582  583  584  585  586  587  588</span></span>
<span><span class="co">#&gt;  [589]  589  590  591  592  593  594  595  596  597  598  599  600  601  602</span></span>
<span><span class="co">#&gt;  [603]  603  604  605  606  607  608  609  610  611  612  613  614  615  616</span></span>
<span><span class="co">#&gt;  [617]  617  618  619  620  621  622  623  624  625  626  627  628  629  630</span></span>
<span><span class="co">#&gt;  [631]  631  632  633  634  635  636  637  638  639  640  641  642  643  644</span></span>
<span><span class="co">#&gt;  [645]  645  646  647  648  649  650  651  652  653  654  655  656  657  658</span></span>
<span><span class="co">#&gt;  [659]  659  660  661  662  663  664  665  666  667  668  669  670  671  672</span></span>
<span><span class="co">#&gt;  [673]  673  674  675  676  677  678  679  680  681  682  683  684  685  686</span></span>
<span><span class="co">#&gt;  [687]  687  688  689  690  691  692  693  694  695  696  697  698  699  700</span></span>
<span><span class="co">#&gt;  [701]  701  702  703  704  705  706  707  708  709  710  711  712  713  714</span></span>
<span><span class="co">#&gt;  [715]  715  716  717  718  719  720  721  722  723  724  725  726  727  728</span></span>
<span><span class="co">#&gt;  [729]  729  730  731  732  733  734  735  736  737  738  739  740  741  742</span></span>
<span><span class="co">#&gt;  [743]  743  744  745  746  747  748  749  750  751  752  753  754  755  756</span></span>
<span><span class="co">#&gt;  [757]  757  758  759  760  761  762  763  764  765  766  767  768  769  770</span></span>
<span><span class="co">#&gt;  [771]  771  772  773  774  775  776  777  778  779  780  781  782  783  784</span></span>
<span><span class="co">#&gt;  [785]  785  786  787  788  789  790  791  792  793  794  795  796  797  798</span></span>
<span><span class="co">#&gt;  [799]  799  800  801  802  803  804  805  806  807  808  809  810  811  812</span></span>
<span><span class="co">#&gt;  [813]  813  814  815  816  817  818  819  820  821  822  823  824  825  826</span></span>
<span><span class="co">#&gt;  [827]  827  828  829  830  831  832  833  834  835  836  837  838  839  840</span></span>
<span><span class="co">#&gt;  [841]  841  842  843  844  845  846  847  848  849  850  851  852  853  854</span></span>
<span><span class="co">#&gt;  [855]  855  856  857  858  859  860  861  862  863  864  865  866  867  868</span></span>
<span><span class="co">#&gt;  [869]  869  870  871  872  873  874  875  876  877  878  879  880  881  882</span></span>
<span><span class="co">#&gt;  [883]  883  884  885  886  887  888  889  890  891  892  893  894  895  896</span></span>
<span><span class="co">#&gt;  [897]  897  898  899  900  901  902  903  904  905  906  907  908  909  910</span></span>
<span><span class="co">#&gt;  [911]  911  912  913  914  915  916  917  918  919  920  921  922  923  924</span></span>
<span><span class="co">#&gt;  [925]  925  926  927  928  929  930  931  932  933  934  935  936  937  938</span></span>
<span><span class="co">#&gt;  [939]  939  940  941  942  943  944  945  946  947  948  949  950  951  952</span></span>
<span><span class="co">#&gt;  [953]  953  954  955  956  957  958  959  960  961  962  963  964  965  966</span></span>
<span><span class="co">#&gt;  [967]  967  968  969  970  971  972  973  974  975  976  977  978  979  980</span></span>
<span><span class="co">#&gt;  [981]  981  982  983  984  985  986  987  988  989  990  991  992  993  994</span></span>
<span><span class="co">#&gt;  [995]  995  996  997  998  999 1000</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu">run_simulation</span><span class="op">(</span>steps<span class="op">=</span><span class="fl">20</span><span class="op">)</span><span class="op">$</span><span class="va">state</span><span class="op">$</span><span class="va">variables</span><span class="op">)</span></span>
<span><span class="co">#&gt; $health</span></span>
<span><span class="co">#&gt; $health$S</span></span>
<span><span class="co">#&gt;   [1]    1    2    3    4    5    6    7    8    9   10   11   12   13   14   15</span></span>
<span><span class="co">#&gt;  [16]   16   17   18   19   20   21   22   23   24   25   26   27   28   29   30</span></span>
<span><span class="co">#&gt;  [31]   31   32   33   34   35   36   37   38   39   40   41   42   43   44   45</span></span>
<span><span class="co">#&gt;  [46]   46   47   48   49   50   51   52   53   54   55   56   57   58   59   60</span></span>
<span><span class="co">#&gt;  [61]   61   62   63   64   65   66   67   68   69   70   71   72   73   74   75</span></span>
<span><span class="co">#&gt;  [76]   76   77   78   79   80   81   82   83   84   85   86   87   88   89   90</span></span>
<span><span class="co">#&gt;  [91]   91   92   93   94   95   96   97   98   99  100  101  102  103  104  105</span></span>
<span><span class="co">#&gt; [106]  106  107  108  109  110  111  112  113  114  115  116  117  118  119  120</span></span>
<span><span class="co">#&gt; [121]  121  122  124  125  126  127  128  129  130  131  132  133  134  135  136</span></span>
<span><span class="co">#&gt; [136]  137  138  139  140  141  142  143  144  145  146  147  148  149  150  151</span></span>
<span><span class="co">#&gt; [151]  152  154  155  156  157  158  159  160  161  162  163  164  165  166  167</span></span>
<span><span class="co">#&gt; [166]  168  169  170  171  172  173  174  175  176  177  178  179  180  181  182</span></span>
<span><span class="co">#&gt; [181]  183  184  185  186  187  188  190  191  192  193  194  196  197  198  199</span></span>
<span><span class="co">#&gt; [196]  200  201  202  203  204  205  206  207  208  209  210  211  212  213  214</span></span>
<span><span class="co">#&gt; [211]  215  216  217  218  219  220  221  222  223  224  225  226  227  228  229</span></span>
<span><span class="co">#&gt; [226]  230  231  232  234  235  236  237  238  239  240  241  242  243  244  245</span></span>
<span><span class="co">#&gt; [241]  246  247  248  249  250  251  252  253  254  255  256  257  258  259  260</span></span>
<span><span class="co">#&gt; [256]  261  262  263  264  265  266  267  268  269  270  271  272  273  274  275</span></span>
<span><span class="co">#&gt; [271]  276  277  278  279  280  281  282  283  284  285  286  287  288  289  290</span></span>
<span><span class="co">#&gt; [286]  291  292  293  294  295  296  297  298  299  300  301  302  303  304  305</span></span>
<span><span class="co">#&gt; [301]  306  307  308  309  311  312  313  314  315  316  317  318  319  320  321</span></span>
<span><span class="co">#&gt; [316]  322  323  324  325  326  327  328  329  330  331  332  333  334  335  336</span></span>
<span><span class="co">#&gt; [331]  337  338  339  340  341  342  343  344  345  346  347  348  349  350  351</span></span>
<span><span class="co">#&gt; [346]  352  353  354  355  356  357  358  359  360  361  362  363  364  365  367</span></span>
<span><span class="co">#&gt; [361]  368  369  370  371  372  373  374  375  376  377  378  379  380  381  382</span></span>
<span><span class="co">#&gt; [376]  383  384  386  387  388  389  390  391  392  393  394  395  396  397  398</span></span>
<span><span class="co">#&gt; [391]  399  400  401  402  403  404  405  406  407  408  409  410  411  412  413</span></span>
<span><span class="co">#&gt; [406]  414  415  416  417  418  419  420  421  422  423  424  425  426  427  428</span></span>
<span><span class="co">#&gt; [421]  429  430  431  432  433  434  435  436  437  438  439  440  441  442  443</span></span>
<span><span class="co">#&gt; [436]  444  445  446  447  448  449  450  451  452  453  454  455  456  457  458</span></span>
<span><span class="co">#&gt; [451]  459  460  461  462  464  465  466  467  468  469  470  471  472  473  474</span></span>
<span><span class="co">#&gt; [466]  475  476  477  478  479  480  481  482  483  484  485  486  487  488  489</span></span>
<span><span class="co">#&gt; [481]  490  491  492  493  494  495  496  497  498  499  500  501  502  503  504</span></span>
<span><span class="co">#&gt; [496]  505  506  507  508  509  510  511  512  513  514  515  516  517  518  519</span></span>
<span><span class="co">#&gt; [511]  520  521  522  523  524  525  527  528  529  530  531  532  533  534  535</span></span>
<span><span class="co">#&gt; [526]  536  537  538  539  540  541  542  543  544  545  546  547  548  549  550</span></span>
<span><span class="co">#&gt; [541]  551  552  553  554  555  556  557  558  559  561  562  563  564  565  566</span></span>
<span><span class="co">#&gt; [556]  567  568  569  571  572  573  574  575  576  577  578  579  580  581  582</span></span>
<span><span class="co">#&gt; [571]  583  584  585  586  587  588  589  590  591  592  593  594  595  596  597</span></span>
<span><span class="co">#&gt; [586]  598  599  600  601  602  603  604  605  606  607  608  609  610  612  613</span></span>
<span><span class="co">#&gt; [601]  614  615  616  617  618  619  620  621  622  623  624  625  626  627  628</span></span>
<span><span class="co">#&gt; [616]  629  630  631  632  633  634  635  636  637  638  639  640  641  642  643</span></span>
<span><span class="co">#&gt; [631]  644  645  646  647  648  649  650  651  652  653  654  655  656  657  658</span></span>
<span><span class="co">#&gt; [646]  659  660  661  662  663  664  665  667  668  669  670  671  672  673  674</span></span>
<span><span class="co">#&gt; [661]  675  676  677  678  679  680  681  682  683  684  685  686  687  688  689</span></span>
<span><span class="co">#&gt; [676]  690  691  692  693  694  695  696  697  698  699  700  701  702  703  704</span></span>
<span><span class="co">#&gt; [691]  705  706  708  709  710  711  712  713  714  715  716  717  718  719  720</span></span>
<span><span class="co">#&gt; [706]  721  722  723  724  725  726  727  728  729  730  731  732  733  734  735</span></span>
<span><span class="co">#&gt; [721]  736  737  738  739  740  741  742  743  744  745  746  747  748  749  750</span></span>
<span><span class="co">#&gt; [736]  751  752  753  754  755  756  757  758  759  760  761  762  763  764  765</span></span>
<span><span class="co">#&gt; [751]  766  767  768  769  770  771  772  773  774  775  776  777  778  779  780</span></span>
<span><span class="co">#&gt; [766]  781  782  783  784  785  786  787  788  789  790  791  792  793  794  795</span></span>
<span><span class="co">#&gt; [781]  796  797  798  799  800  801  802  803  804  805  806  807  808  809  810</span></span>
<span><span class="co">#&gt; [796]  811  812  813  814  815  816  817  818  819  820  821  822  823  824  825</span></span>
<span><span class="co">#&gt; [811]  826  827  828  829  830  831  832  833  834  835  836  837  838  839  840</span></span>
<span><span class="co">#&gt; [826]  841  842  843  844  845  846  847  848  849  850  851  852  853  854  855</span></span>
<span><span class="co">#&gt; [841]  856  857  858  859  860  861  862  863  864  865  866  867  868  869  870</span></span>
<span><span class="co">#&gt; [856]  871  872  873  874  875  876  877  878  879  880  881  883  884  885  886</span></span>
<span><span class="co">#&gt; [871]  887  888  889  890  891  892  893  894  895  896  897  898  899  900  901</span></span>
<span><span class="co">#&gt; [886]  902  903  904  905  906  907  908  909  910  911  912  913  914  915  916</span></span>
<span><span class="co">#&gt; [901]  917  918  919  920  921  922  923  924  925  926  927  928  929  930  931</span></span>
<span><span class="co">#&gt; [916]  932  933  934  935  936  937  938  939  940  941  942  943  944  945  946</span></span>
<span><span class="co">#&gt; [931]  947  948  949  950  951  952  953  954  955  956  957  958  959  960  961</span></span>
<span><span class="co">#&gt; [946]  962  963  964  965  966  967  968  969  970  971  972  973  974  975  976</span></span>
<span><span class="co">#&gt; [961]  977  978  979  980  981  982  983  984  985  986  987  988  989  990  991</span></span>
<span><span class="co">#&gt; [976]  992  993  994  995  996  997  998  999 1000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $health$I</span></span>
<span><span class="co">#&gt;  [1] 123 153 189 233 366 385 463 526 560 570 666 707 882</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $health$R</span></span>
<span><span class="co">#&gt; [1] 195 310 611</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $vaccinated</span></span>
<span><span class="co">#&gt; $vaccinated$Y</span></span>
<span><span class="co">#&gt; numeric(0)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $vaccinated$N</span></span>
<span><span class="co">#&gt;    [1]    1    2    3    4    5    6    7    8    9   10   11   12   13   14</span></span>
<span><span class="co">#&gt;   [15]   15   16   17   18   19   20   21   22   23   24   25   26   27   28</span></span>
<span><span class="co">#&gt;   [29]   29   30   31   32   33   34   35   36   37   38   39   40   41   42</span></span>
<span><span class="co">#&gt;   [43]   43   44   45   46   47   48   49   50   51   52   53   54   55   56</span></span>
<span><span class="co">#&gt;   [57]   57   58   59   60   61   62   63   64   65   66   67   68   69   70</span></span>
<span><span class="co">#&gt;   [71]   71   72   73   74   75   76   77   78   79   80   81   82   83   84</span></span>
<span><span class="co">#&gt;   [85]   85   86   87   88   89   90   91   92   93   94   95   96   97   98</span></span>
<span><span class="co">#&gt;   [99]   99  100  101  102  103  104  105  106  107  108  109  110  111  112</span></span>
<span><span class="co">#&gt;  [113]  113  114  115  116  117  118  119  120  121  122  123  124  125  126</span></span>
<span><span class="co">#&gt;  [127]  127  128  129  130  131  132  133  134  135  136  137  138  139  140</span></span>
<span><span class="co">#&gt;  [141]  141  142  143  144  145  146  147  148  149  150  151  152  153  154</span></span>
<span><span class="co">#&gt;  [155]  155  156  157  158  159  160  161  162  163  164  165  166  167  168</span></span>
<span><span class="co">#&gt;  [169]  169  170  171  172  173  174  175  176  177  178  179  180  181  182</span></span>
<span><span class="co">#&gt;  [183]  183  184  185  186  187  188  189  190  191  192  193  194  195  196</span></span>
<span><span class="co">#&gt;  [197]  197  198  199  200  201  202  203  204  205  206  207  208  209  210</span></span>
<span><span class="co">#&gt;  [211]  211  212  213  214  215  216  217  218  219  220  221  222  223  224</span></span>
<span><span class="co">#&gt;  [225]  225  226  227  228  229  230  231  232  233  234  235  236  237  238</span></span>
<span><span class="co">#&gt;  [239]  239  240  241  242  243  244  245  246  247  248  249  250  251  252</span></span>
<span><span class="co">#&gt;  [253]  253  254  255  256  257  258  259  260  261  262  263  264  265  266</span></span>
<span><span class="co">#&gt;  [267]  267  268  269  270  271  272  273  274  275  276  277  278  279  280</span></span>
<span><span class="co">#&gt;  [281]  281  282  283  284  285  286  287  288  289  290  291  292  293  294</span></span>
<span><span class="co">#&gt;  [295]  295  296  297  298  299  300  301  302  303  304  305  306  307  308</span></span>
<span><span class="co">#&gt;  [309]  309  310  311  312  313  314  315  316  317  318  319  320  321  322</span></span>
<span><span class="co">#&gt;  [323]  323  324  325  326  327  328  329  330  331  332  333  334  335  336</span></span>
<span><span class="co">#&gt;  [337]  337  338  339  340  341  342  343  344  345  346  347  348  349  350</span></span>
<span><span class="co">#&gt;  [351]  351  352  353  354  355  356  357  358  359  360  361  362  363  364</span></span>
<span><span class="co">#&gt;  [365]  365  366  367  368  369  370  371  372  373  374  375  376  377  378</span></span>
<span><span class="co">#&gt;  [379]  379  380  381  382  383  384  385  386  387  388  389  390  391  392</span></span>
<span><span class="co">#&gt;  [393]  393  394  395  396  397  398  399  400  401  402  403  404  405  406</span></span>
<span><span class="co">#&gt;  [407]  407  408  409  410  411  412  413  414  415  416  417  418  419  420</span></span>
<span><span class="co">#&gt;  [421]  421  422  423  424  425  426  427  428  429  430  431  432  433  434</span></span>
<span><span class="co">#&gt;  [435]  435  436  437  438  439  440  441  442  443  444  445  446  447  448</span></span>
<span><span class="co">#&gt;  [449]  449  450  451  452  453  454  455  456  457  458  459  460  461  462</span></span>
<span><span class="co">#&gt;  [463]  463  464  465  466  467  468  469  470  471  472  473  474  475  476</span></span>
<span><span class="co">#&gt;  [477]  477  478  479  480  481  482  483  484  485  486  487  488  489  490</span></span>
<span><span class="co">#&gt;  [491]  491  492  493  494  495  496  497  498  499  500  501  502  503  504</span></span>
<span><span class="co">#&gt;  [505]  505  506  507  508  509  510  511  512  513  514  515  516  517  518</span></span>
<span><span class="co">#&gt;  [519]  519  520  521  522  523  524  525  526  527  528  529  530  531  532</span></span>
<span><span class="co">#&gt;  [533]  533  534  535  536  537  538  539  540  541  542  543  544  545  546</span></span>
<span><span class="co">#&gt;  [547]  547  548  549  550  551  552  553  554  555  556  557  558  559  560</span></span>
<span><span class="co">#&gt;  [561]  561  562  563  564  565  566  567  568  569  570  571  572  573  574</span></span>
<span><span class="co">#&gt;  [575]  575  576  577  578  579  580  581  582  583  584  585  586  587  588</span></span>
<span><span class="co">#&gt;  [589]  589  590  591  592  593  594  595  596  597  598  599  600  601  602</span></span>
<span><span class="co">#&gt;  [603]  603  604  605  606  607  608  609  610  611  612  613  614  615  616</span></span>
<span><span class="co">#&gt;  [617]  617  618  619  620  621  622  623  624  625  626  627  628  629  630</span></span>
<span><span class="co">#&gt;  [631]  631  632  633  634  635  636  637  638  639  640  641  642  643  644</span></span>
<span><span class="co">#&gt;  [645]  645  646  647  648  649  650  651  652  653  654  655  656  657  658</span></span>
<span><span class="co">#&gt;  [659]  659  660  661  662  663  664  665  666  667  668  669  670  671  672</span></span>
<span><span class="co">#&gt;  [673]  673  674  675  676  677  678  679  680  681  682  683  684  685  686</span></span>
<span><span class="co">#&gt;  [687]  687  688  689  690  691  692  693  694  695  696  697  698  699  700</span></span>
<span><span class="co">#&gt;  [701]  701  702  703  704  705  706  707  708  709  710  711  712  713  714</span></span>
<span><span class="co">#&gt;  [715]  715  716  717  718  719  720  721  722  723  724  725  726  727  728</span></span>
<span><span class="co">#&gt;  [729]  729  730  731  732  733  734  735  736  737  738  739  740  741  742</span></span>
<span><span class="co">#&gt;  [743]  743  744  745  746  747  748  749  750  751  752  753  754  755  756</span></span>
<span><span class="co">#&gt;  [757]  757  758  759  760  761  762  763  764  765  766  767  768  769  770</span></span>
<span><span class="co">#&gt;  [771]  771  772  773  774  775  776  777  778  779  780  781  782  783  784</span></span>
<span><span class="co">#&gt;  [785]  785  786  787  788  789  790  791  792  793  794  795  796  797  798</span></span>
<span><span class="co">#&gt;  [799]  799  800  801  802  803  804  805  806  807  808  809  810  811  812</span></span>
<span><span class="co">#&gt;  [813]  813  814  815  816  817  818  819  820  821  822  823  824  825  826</span></span>
<span><span class="co">#&gt;  [827]  827  828  829  830  831  832  833  834  835  836  837  838  839  840</span></span>
<span><span class="co">#&gt;  [841]  841  842  843  844  845  846  847  848  849  850  851  852  853  854</span></span>
<span><span class="co">#&gt;  [855]  855  856  857  858  859  860  861  862  863  864  865  866  867  868</span></span>
<span><span class="co">#&gt;  [869]  869  870  871  872  873  874  875  876  877  878  879  880  881  882</span></span>
<span><span class="co">#&gt;  [883]  883  884  885  886  887  888  889  890  891  892  893  894  895  896</span></span>
<span><span class="co">#&gt;  [897]  897  898  899  900  901  902  903  904  905  906  907  908  909  910</span></span>
<span><span class="co">#&gt;  [911]  911  912  913  914  915  916  917  918  919  920  921  922  923  924</span></span>
<span><span class="co">#&gt;  [925]  925  926  927  928  929  930  931  932  933  934  935  936  937  938</span></span>
<span><span class="co">#&gt;  [939]  939  940  941  942  943  944  945  946  947  948  949  950  951  952</span></span>
<span><span class="co">#&gt;  [953]  953  954  955  956  957  958  959  960  961  962  963  964  965  966</span></span>
<span><span class="co">#&gt;  [967]  967  968  969  970  971  972  973  974  975  976  977  978  979  980</span></span>
<span><span class="co">#&gt;  [981]  981  982  983  984  985  986  987  988  989  990  991  992  993  994</span></span>
<span><span class="co">#&gt;  [995]  995  996  997  998  999 1000</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu">run_simulation</span><span class="op">(</span>steps<span class="op">=</span><span class="fl">25</span><span class="op">)</span><span class="op">$</span><span class="va">state</span><span class="op">$</span><span class="va">variables</span><span class="op">)</span></span>
<span><span class="co">#&gt; $health</span></span>
<span><span class="co">#&gt; $health$S</span></span>
<span><span class="co">#&gt;   [1]    1    2    3    4    5    6    7    8    9   10   11   12   13   14   15</span></span>
<span><span class="co">#&gt;  [16]   16   17   18   19   20   21   22   23   24   25   26   27   28   29   30</span></span>
<span><span class="co">#&gt;  [31]   31   32   33   34   35   36   37   38   39   40   41   42   43   44   45</span></span>
<span><span class="co">#&gt;  [46]   46   47   48   49   50   51   52   53   54   55   56   57   58   59   60</span></span>
<span><span class="co">#&gt;  [61]   61   62   63   64   65   67   68   69   70   71   72   73   74   75   76</span></span>
<span><span class="co">#&gt;  [76]   77   78   79   80   81   82   83   84   85   86   87   88   89   90   91</span></span>
<span><span class="co">#&gt;  [91]   92   93   94   95   96   97   98   99  100  101  102  103  104  105  106</span></span>
<span><span class="co">#&gt; [106]  107  108  109  110  111  112  113  114  115  116  117  118  119  121  122</span></span>
<span><span class="co">#&gt; [121]  124  125  126  127  128  129  130  131  132  133  134  135  136  137  138</span></span>
<span><span class="co">#&gt; [136]  139  140  141  142  143  144  145  146  147  148  149  150  151  152  154</span></span>
<span><span class="co">#&gt; [151]  155  156  157  158  159  160  161  162  163  164  165  166  167  168  169</span></span>
<span><span class="co">#&gt; [166]  170  171  172  173  174  175  176  177  178  179  180  181  182  183  184</span></span>
<span><span class="co">#&gt; [181]  185  186  187  188  190  191  192  193  194  196  197  198  199  200  201</span></span>
<span><span class="co">#&gt; [196]  202  203  204  205  206  207  208  209  210  211  212  213  214  215  216</span></span>
<span><span class="co">#&gt; [211]  217  218  219  220  221  222  223  224  225  226  227  228  229  230  231</span></span>
<span><span class="co">#&gt; [226]  232  234  235  236  237  239  240  241  242  243  244  245  246  247  248</span></span>
<span><span class="co">#&gt; [241]  249  250  251  252  253  254  255  256  257  258  259  260  261  262  263</span></span>
<span><span class="co">#&gt; [256]  264  265  266  267  268  269  270  271  272  273  274  275  276  277  278</span></span>
<span><span class="co">#&gt; [271]  279  280  281  282  283  284  285  286  287  288  289  290  291  292  293</span></span>
<span><span class="co">#&gt; [286]  294  295  296  297  298  299  300  301  302  303  304  305  306  307  308</span></span>
<span><span class="co">#&gt; [301]  309  311  312  313  314  315  316  317  318  319  320  321  322  323  324</span></span>
<span><span class="co">#&gt; [316]  325  326  327  328  329  330  331  332  333  334  335  336  337  338  339</span></span>
<span><span class="co">#&gt; [331]  340  341  342  343  344  345  346  347  348  349  350  351  352  353  354</span></span>
<span><span class="co">#&gt; [346]  355  356  357  358  359  360  361  362  363  364  365  367  368  369  370</span></span>
<span><span class="co">#&gt; [361]  371  372  373  374  375  376  377  378  379  380  381  382  383  384  386</span></span>
<span><span class="co">#&gt; [376]  387  388  389  390  391  392  393  394  395  396  397  398  399  400  401</span></span>
<span><span class="co">#&gt; [391]  402  403  404  405  406  407  408  409  410  411  412  413  414  415  416</span></span>
<span><span class="co">#&gt; [406]  417  418  419  420  421  422  423  424  425  426  427  428  429  430  431</span></span>
<span><span class="co">#&gt; [421]  432  433  434  435  436  437  438  439  440  441  442  443  444  445  446</span></span>
<span><span class="co">#&gt; [436]  447  448  449  450  451  452  453  454  455  456  457  458  459  461  462</span></span>
<span><span class="co">#&gt; [451]  464  465  466  467  468  469  470  471  472  473  474  475  476  477  478</span></span>
<span><span class="co">#&gt; [466]  479  480  481  482  483  484  485  486  487  488  489  490  491  492  493</span></span>
<span><span class="co">#&gt; [481]  494  495  496  497  498  499  500  501  502  503  504  505  506  507  508</span></span>
<span><span class="co">#&gt; [496]  509  510  511  512  513  514  515  516  517  518  519  520  521  522  523</span></span>
<span><span class="co">#&gt; [511]  524  525  527  528  529  530  531  532  534  535  536  537  538  539  540</span></span>
<span><span class="co">#&gt; [526]  541  542  543  544  545  546  547  548  549  550  551  552  553  554  555</span></span>
<span><span class="co">#&gt; [541]  556  557  558  559  561  562  563  564  565  566  568  571  572  573  574</span></span>
<span><span class="co">#&gt; [556]  575  576  577  578  579  580  581  582  583  584  585  586  587  588  589</span></span>
<span><span class="co">#&gt; [571]  590  591  592  593  594  595  596  597  598  599  600  601  602  603  604</span></span>
<span><span class="co">#&gt; [586]  605  606  607  608  609  610  612  613  614  615  616  617  618  619  620</span></span>
<span><span class="co">#&gt; [601]  621  622  623  624  625  626  627  628  629  630  631  632  633  634  635</span></span>
<span><span class="co">#&gt; [616]  636  637  638  639  640  641  642  643  644  645  646  647  648  649  650</span></span>
<span><span class="co">#&gt; [631]  651  652  653  654  655  656  657  658  659  660  661  662  663  664  665</span></span>
<span><span class="co">#&gt; [646]  667  668  669  670  671  672  673  674  675  676  677  678  679  680  681</span></span>
<span><span class="co">#&gt; [661]  682  683  684  685  686  687  688  689  690  691  692  693  694  695  696</span></span>
<span><span class="co">#&gt; [676]  697  698  699  700  701  702  703  704  705  706  708  709  710  711  712</span></span>
<span><span class="co">#&gt; [691]  713  714  715  716  717  718  719  720  721  722  723  724  725  726  727</span></span>
<span><span class="co">#&gt; [706]  728  729  730  731  732  733  734  735  736  737  738  739  740  741  742</span></span>
<span><span class="co">#&gt; [721]  743  744  745  746  747  748  749  750  751  752  753  754  755  756  757</span></span>
<span><span class="co">#&gt; [736]  758  759  760  761  762  763  764  765  766  767  768  769  770  771  772</span></span>
<span><span class="co">#&gt; [751]  773  774  775  776  777  778  779  780  781  782  783  784  785  786  787</span></span>
<span><span class="co">#&gt; [766]  788  789  790  791  792  793  794  795  796  797  798  799  800  801  802</span></span>
<span><span class="co">#&gt; [781]  803  804  805  806  807  808  809  810  811  812  813  814  815  816  817</span></span>
<span><span class="co">#&gt; [796]  818  819  820  821  822  823  824  825  826  827  828  829  830  831  832</span></span>
<span><span class="co">#&gt; [811]  833  834  835  836  837  838  839  840  841  842  843  844  845  846  847</span></span>
<span><span class="co">#&gt; [826]  848  849  850  851  852  853  854  855  856  857  858  859  860  861  862</span></span>
<span><span class="co">#&gt; [841]  863  864  865  866  867  868  869  870  871  872  873  874  875  876  877</span></span>
<span><span class="co">#&gt; [856]  878  879  880  881  883  884  885  886  887  888  889  890  891  892  893</span></span>
<span><span class="co">#&gt; [871]  894  895  896  897  898  899  900  901  902  903  904  905  906  907  908</span></span>
<span><span class="co">#&gt; [886]  909  910  911  912  913  914  915  916  917  918  919  920  921  922  923</span></span>
<span><span class="co">#&gt; [901]  924  925  926  927  928  929  930  931  932  933  934  935  936  937  938</span></span>
<span><span class="co">#&gt; [916]  939  940  941  942  943  945  946  947  948  949  950  951  952  953  954</span></span>
<span><span class="co">#&gt; [931]  955  956  957  958  959  960  961  962  963  964  965  966  967  968  969</span></span>
<span><span class="co">#&gt; [946]  970  971  972  973  974  975  976  977  978  979  980  981  982  983  984</span></span>
<span><span class="co">#&gt; [961]  985  986  987  988  989  990  991  992  993  994  995  996  997  998  999</span></span>
<span><span class="co">#&gt; [976] 1000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $health$I</span></span>
<span><span class="co">#&gt;  [1]  66 120 153 189 233 238 366 385 460 463 526 533 560 567 569 570 666 944</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $health$R</span></span>
<span><span class="co">#&gt; [1] 123 195 310 611 707 882</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $vaccinated</span></span>
<span><span class="co">#&gt; $vaccinated$Y</span></span>
<span><span class="co">#&gt; numeric(0)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $vaccinated$N</span></span>
<span><span class="co">#&gt;    [1]    1    2    3    4    5    6    7    8    9   10   11   12   13   14</span></span>
<span><span class="co">#&gt;   [15]   15   16   17   18   19   20   21   22   23   24   25   26   27   28</span></span>
<span><span class="co">#&gt;   [29]   29   30   31   32   33   34   35   36   37   38   39   40   41   42</span></span>
<span><span class="co">#&gt;   [43]   43   44   45   46   47   48   49   50   51   52   53   54   55   56</span></span>
<span><span class="co">#&gt;   [57]   57   58   59   60   61   62   63   64   65   66   67   68   69   70</span></span>
<span><span class="co">#&gt;   [71]   71   72   73   74   75   76   77   78   79   80   81   82   83   84</span></span>
<span><span class="co">#&gt;   [85]   85   86   87   88   89   90   91   92   93   94   95   96   97   98</span></span>
<span><span class="co">#&gt;   [99]   99  100  101  102  103  104  105  106  107  108  109  110  111  112</span></span>
<span><span class="co">#&gt;  [113]  113  114  115  116  117  118  119  120  121  122  123  124  125  126</span></span>
<span><span class="co">#&gt;  [127]  127  128  129  130  131  132  133  134  135  136  137  138  139  140</span></span>
<span><span class="co">#&gt;  [141]  141  142  143  144  145  146  147  148  149  150  151  152  153  154</span></span>
<span><span class="co">#&gt;  [155]  155  156  157  158  159  160  161  162  163  164  165  166  167  168</span></span>
<span><span class="co">#&gt;  [169]  169  170  171  172  173  174  175  176  177  178  179  180  181  182</span></span>
<span><span class="co">#&gt;  [183]  183  184  185  186  187  188  189  190  191  192  193  194  195  196</span></span>
<span><span class="co">#&gt;  [197]  197  198  199  200  201  202  203  204  205  206  207  208  209  210</span></span>
<span><span class="co">#&gt;  [211]  211  212  213  214  215  216  217  218  219  220  221  222  223  224</span></span>
<span><span class="co">#&gt;  [225]  225  226  227  228  229  230  231  232  233  234  235  236  237  238</span></span>
<span><span class="co">#&gt;  [239]  239  240  241  242  243  244  245  246  247  248  249  250  251  252</span></span>
<span><span class="co">#&gt;  [253]  253  254  255  256  257  258  259  260  261  262  263  264  265  266</span></span>
<span><span class="co">#&gt;  [267]  267  268  269  270  271  272  273  274  275  276  277  278  279  280</span></span>
<span><span class="co">#&gt;  [281]  281  282  283  284  285  286  287  288  289  290  291  292  293  294</span></span>
<span><span class="co">#&gt;  [295]  295  296  297  298  299  300  301  302  303  304  305  306  307  308</span></span>
<span><span class="co">#&gt;  [309]  309  310  311  312  313  314  315  316  317  318  319  320  321  322</span></span>
<span><span class="co">#&gt;  [323]  323  324  325  326  327  328  329  330  331  332  333  334  335  336</span></span>
<span><span class="co">#&gt;  [337]  337  338  339  340  341  342  343  344  345  346  347  348  349  350</span></span>
<span><span class="co">#&gt;  [351]  351  352  353  354  355  356  357  358  359  360  361  362  363  364</span></span>
<span><span class="co">#&gt;  [365]  365  366  367  368  369  370  371  372  373  374  375  376  377  378</span></span>
<span><span class="co">#&gt;  [379]  379  380  381  382  383  384  385  386  387  388  389  390  391  392</span></span>
<span><span class="co">#&gt;  [393]  393  394  395  396  397  398  399  400  401  402  403  404  405  406</span></span>
<span><span class="co">#&gt;  [407]  407  408  409  410  411  412  413  414  415  416  417  418  419  420</span></span>
<span><span class="co">#&gt;  [421]  421  422  423  424  425  426  427  428  429  430  431  432  433  434</span></span>
<span><span class="co">#&gt;  [435]  435  436  437  438  439  440  441  442  443  444  445  446  447  448</span></span>
<span><span class="co">#&gt;  [449]  449  450  451  452  453  454  455  456  457  458  459  460  461  462</span></span>
<span><span class="co">#&gt;  [463]  463  464  465  466  467  468  469  470  471  472  473  474  475  476</span></span>
<span><span class="co">#&gt;  [477]  477  478  479  480  481  482  483  484  485  486  487  488  489  490</span></span>
<span><span class="co">#&gt;  [491]  491  492  493  494  495  496  497  498  499  500  501  502  503  504</span></span>
<span><span class="co">#&gt;  [505]  505  506  507  508  509  510  511  512  513  514  515  516  517  518</span></span>
<span><span class="co">#&gt;  [519]  519  520  521  522  523  524  525  526  527  528  529  530  531  532</span></span>
<span><span class="co">#&gt;  [533]  533  534  535  536  537  538  539  540  541  542  543  544  545  546</span></span>
<span><span class="co">#&gt;  [547]  547  548  549  550  551  552  553  554  555  556  557  558  559  560</span></span>
<span><span class="co">#&gt;  [561]  561  562  563  564  565  566  567  568  569  570  571  572  573  574</span></span>
<span><span class="co">#&gt;  [575]  575  576  577  578  579  580  581  582  583  584  585  586  587  588</span></span>
<span><span class="co">#&gt;  [589]  589  590  591  592  593  594  595  596  597  598  599  600  601  602</span></span>
<span><span class="co">#&gt;  [603]  603  604  605  606  607  608  609  610  611  612  613  614  615  616</span></span>
<span><span class="co">#&gt;  [617]  617  618  619  620  621  622  623  624  625  626  627  628  629  630</span></span>
<span><span class="co">#&gt;  [631]  631  632  633  634  635  636  637  638  639  640  641  642  643  644</span></span>
<span><span class="co">#&gt;  [645]  645  646  647  648  649  650  651  652  653  654  655  656  657  658</span></span>
<span><span class="co">#&gt;  [659]  659  660  661  662  663  664  665  666  667  668  669  670  671  672</span></span>
<span><span class="co">#&gt;  [673]  673  674  675  676  677  678  679  680  681  682  683  684  685  686</span></span>
<span><span class="co">#&gt;  [687]  687  688  689  690  691  692  693  694  695  696  697  698  699  700</span></span>
<span><span class="co">#&gt;  [701]  701  702  703  704  705  706  707  708  709  710  711  712  713  714</span></span>
<span><span class="co">#&gt;  [715]  715  716  717  718  719  720  721  722  723  724  725  726  727  728</span></span>
<span><span class="co">#&gt;  [729]  729  730  731  732  733  734  735  736  737  738  739  740  741  742</span></span>
<span><span class="co">#&gt;  [743]  743  744  745  746  747  748  749  750  751  752  753  754  755  756</span></span>
<span><span class="co">#&gt;  [757]  757  758  759  760  761  762  763  764  765  766  767  768  769  770</span></span>
<span><span class="co">#&gt;  [771]  771  772  773  774  775  776  777  778  779  780  781  782  783  784</span></span>
<span><span class="co">#&gt;  [785]  785  786  787  788  789  790  791  792  793  794  795  796  797  798</span></span>
<span><span class="co">#&gt;  [799]  799  800  801  802  803  804  805  806  807  808  809  810  811  812</span></span>
<span><span class="co">#&gt;  [813]  813  814  815  816  817  818  819  820  821  822  823  824  825  826</span></span>
<span><span class="co">#&gt;  [827]  827  828  829  830  831  832  833  834  835  836  837  838  839  840</span></span>
<span><span class="co">#&gt;  [841]  841  842  843  844  845  846  847  848  849  850  851  852  853  854</span></span>
<span><span class="co">#&gt;  [855]  855  856  857  858  859  860  861  862  863  864  865  866  867  868</span></span>
<span><span class="co">#&gt;  [869]  869  870  871  872  873  874  875  876  877  878  879  880  881  882</span></span>
<span><span class="co">#&gt;  [883]  883  884  885  886  887  888  889  890  891  892  893  894  895  896</span></span>
<span><span class="co">#&gt;  [897]  897  898  899  900  901  902  903  904  905  906  907  908  909  910</span></span>
<span><span class="co">#&gt;  [911]  911  912  913  914  915  916  917  918  919  920  921  922  923  924</span></span>
<span><span class="co">#&gt;  [925]  925  926  927  928  929  930  931  932  933  934  935  936  937  938</span></span>
<span><span class="co">#&gt;  [939]  939  940  941  942  943  944  945  946  947  948  949  950  951  952</span></span>
<span><span class="co">#&gt;  [953]  953  954  955  956  957  958  959  960  961  962  963  964  965  966</span></span>
<span><span class="co">#&gt;  [967]  967  968  969  970  971  972  973  974  975  976  977  978  979  980</span></span>
<span><span class="co">#&gt;  [981]  981  982  983  984  985  986  987  988  989  990  991  992  993  994</span></span>
<span><span class="co">#&gt;  [995]  995  996  997  998  999 1000</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu">run_simulation</span><span class="op">(</span>steps<span class="op">=</span><span class="fl">50</span><span class="op">)</span><span class="op">$</span><span class="va">state</span><span class="op">$</span><span class="va">variables</span><span class="op">)</span></span>
<span><span class="co">#&gt; $health</span></span>
<span><span class="co">#&gt; $health$S</span></span>
<span><span class="co">#&gt;   [1]    1    2    3    4    5    6    7    8    9   10   11   12   13   14   16</span></span>
<span><span class="co">#&gt;  [16]   17   20   21   22   23   24   25   26   27   28   29   30   31   32   33</span></span>
<span><span class="co">#&gt;  [31]   34   35   36   37   38   39   40   42   43   44   45   46   47   48   49</span></span>
<span><span class="co">#&gt;  [46]   50   51   52   53   54   55   56   57   58   59   60   61   62   63   64</span></span>
<span><span class="co">#&gt;  [61]   65   67   68   69   70   71   72   73   74   75   76   77   78   79   80</span></span>
<span><span class="co">#&gt;  [76]   81   82   83   84   85   86   87   88   89   90   92   93   94   95   96</span></span>
<span><span class="co">#&gt;  [91]   97   98   99  100  101  102  103  104  105  106  107  108  109  110  111</span></span>
<span><span class="co">#&gt; [106]  112  113  114  115  116  118  119  121  122  123  124  125  126  127  128</span></span>
<span><span class="co">#&gt; [121]  129  130  131  132  133  134  135  136  137  138  139  140  141  143  144</span></span>
<span><span class="co">#&gt; [136]  145  146  147  148  149  150  151  152  155  156  157  158  159  160  162</span></span>
<span><span class="co">#&gt; [151]  163  164  165  166  167  168  169  170  171  172  173  174  175  176  177</span></span>
<span><span class="co">#&gt; [166]  178  179  180  181  182  183  184  185  186  187  188  190  191  192  193</span></span>
<span><span class="co">#&gt; [181]  194  196  197  198  200  201  203  204  206  207  208  209  210  211  212</span></span>
<span><span class="co">#&gt; [196]  213  214  215  216  217  218  219  220  221  222  223  224  225  226  227</span></span>
<span><span class="co">#&gt; [211]  228  229  230  231  232  233  234  235  236  237  239  240  241  242  243</span></span>
<span><span class="co">#&gt; [226]  244  245  246  247  249  250  251  252  253  254  255  256  257  258  259</span></span>
<span><span class="co">#&gt; [241]  260  261  263  264  265  266  267  268  269  270  271  272  273  274  275</span></span>
<span><span class="co">#&gt; [256]  276  277  278  279  280  281  282  283  284  285  286  287  288  290  291</span></span>
<span><span class="co">#&gt; [271]  292  293  294  295  296  297  298  299  300  301  302  303  304  305  306</span></span>
<span><span class="co">#&gt; [286]  307  308  309  310  311  312  313  314  315  316  317  318  319  320  321</span></span>
<span><span class="co">#&gt; [301]  322  323  324  325  326  327  328  329  330  331  332  333  334  335  336</span></span>
<span><span class="co">#&gt; [316]  337  338  339  340  341  342  343  344  345  346  347  348  349  350  351</span></span>
<span><span class="co">#&gt; [331]  352  353  354  355  356  357  358  359  360  361  362  363  365  366  367</span></span>
<span><span class="co">#&gt; [346]  368  369  370  371  372  373  374  375  376  377  378  379  381  382  383</span></span>
<span><span class="co">#&gt; [361]  384  386  388  389  392  393  394  396  397  398  399  400  401  402  403</span></span>
<span><span class="co">#&gt; [376]  405  406  407  408  409  410  411  412  413  414  415  416  417  419  420</span></span>
<span><span class="co">#&gt; [391]  421  422  423  424  425  426  427  428  429  431  432  433  434  435  436</span></span>
<span><span class="co">#&gt; [406]  437  438  439  440  441  442  443  444  445  446  447  448  449  450  451</span></span>
<span><span class="co">#&gt; [421]  452  453  454  455  456  457  458  459  461  462  463  464  465  466  467</span></span>
<span><span class="co">#&gt; [436]  468  469  470  471  472  473  474  475  476  477  478  479  480  481  483</span></span>
<span><span class="co">#&gt; [451]  484  485  486  487  488  489  490  491  492  493  494  495  496  497  498</span></span>
<span><span class="co">#&gt; [466]  499  500  501  502  503  504  505  506  507  508  509  510  511  512  513</span></span>
<span><span class="co">#&gt; [481]  514  515  516  517  518  519  521  522  523  524  525  526  527  528  529</span></span>
<span><span class="co">#&gt; [496]  530  531  532  534  535  536  537  538  539  540  541  542  544  546  547</span></span>
<span><span class="co">#&gt; [511]  548  549  550  551  552  553  554  555  556  557  558  559  560  561  562</span></span>
<span><span class="co">#&gt; [526]  563  564  565  566  568  569  571  572  573  574  575  576  577  578  579</span></span>
<span><span class="co">#&gt; [541]  580  581  582  583  584  585  587  588  589  592  593  594  595  596  597</span></span>
<span><span class="co">#&gt; [556]  598  599  601  602  603  604  605  606  607  608  609  610  611  612  613</span></span>
<span><span class="co">#&gt; [571]  614  615  616  617  618  619  620  621  622  623  624  625  626  627  628</span></span>
<span><span class="co">#&gt; [586]  629  630  631  632  633  634  635  636  637  638  641  642  643  644  645</span></span>
<span><span class="co">#&gt; [601]  646  647  648  649  650  651  652  653  654  655  656  657  658  659  660</span></span>
<span><span class="co">#&gt; [616]  661  662  663  664  665  667  668  669  670  671  672  673  674  675  676</span></span>
<span><span class="co">#&gt; [631]  677  679  680  681  682  683  684  685  686  687  688  689  690  691  692</span></span>
<span><span class="co">#&gt; [646]  693  694  695  696  697  698  699  700  701  702  703  704  705  706  707</span></span>
<span><span class="co">#&gt; [661]  708  709  710  711  712  713  714  715  716  717  718  719  720  721  722</span></span>
<span><span class="co">#&gt; [676]  723  724  725  726  727  728  729  730  731  732  733  734  735  736  737</span></span>
<span><span class="co">#&gt; [691]  738  739  740  741  742  743  744  746  747  748  750  751  752  753  754</span></span>
<span><span class="co">#&gt; [706]  756  757  758  759  760  761  762  763  764  765  766  767  768  769  770</span></span>
<span><span class="co">#&gt; [721]  771  772  773  774  775  776  777  778  779  780  781  782  783  784  785</span></span>
<span><span class="co">#&gt; [736]  786  787  788  789  790  791  792  793  794  795  796  797  798  799  801</span></span>
<span><span class="co">#&gt; [751]  802  803  804  805  806  807  808  809  810  812  813  814  815  816  817</span></span>
<span><span class="co">#&gt; [766]  818  819  820  821  822  823  824  825  826  827  828  829  830  831  832</span></span>
<span><span class="co">#&gt; [781]  833  834  835  837  838  839  840  841  842  843  844  845  846  847  848</span></span>
<span><span class="co">#&gt; [796]  849  850  852  853  854  855  856  857  859  861  862  863  864  865  866</span></span>
<span><span class="co">#&gt; [811]  867  868  869  870  871  872  873  874  875  876  877  878  879  880  881</span></span>
<span><span class="co">#&gt; [826]  882  883  884  885  886  887  888  889  892  893  894  895  896  897  898</span></span>
<span><span class="co">#&gt; [841]  899  900  901  902  903  904  905  906  907  908  909  910  911  912  913</span></span>
<span><span class="co">#&gt; [856]  914  915  916  917  918  919  920  921  922  923  924  925  926  927  928</span></span>
<span><span class="co">#&gt; [871]  929  930  931  932  933  934  935  936  937  938  939  940  941  942  943</span></span>
<span><span class="co">#&gt; [886]  945  947  948  949  951  952  953  954  955  956  957  958  959  960  961</span></span>
<span><span class="co">#&gt; [901]  962  964  965  966  967  968  969  970  971  972  974  975  976  977  978</span></span>
<span><span class="co">#&gt; [916]  980  981  982  983  984  985  987  988  989  990  991  992  993  994  995</span></span>
<span><span class="co">#&gt; [931]  996  997  998  999 1000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $health$I</span></span>
<span><span class="co">#&gt;  [1]  15  19  41 117 142 153 154 189 202 205 248 262 289 364 380 385 387 391 404</span></span>
<span><span class="co">#&gt; [20] 418 430 482 520 533 545 567 591 639 640 666 745 749 755 811 836 860 963 979</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $health$R</span></span>
<span><span class="co">#&gt;  [1]  18  66  91 120 161 195 199 238 390 395 460 543 570 586 590 600 678 800 851</span></span>
<span><span class="co">#&gt; [20] 858 890 891 944 946 950 973 986</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $vaccinated</span></span>
<span><span class="co">#&gt; $vaccinated$Y</span></span>
<span><span class="co">#&gt;  [1]   2   6  12  16  30  32  34  80  81 104 152 176 184 208 216 263 267 275 288</span></span>
<span><span class="co">#&gt; [20] 292 324 351 380 426 430 519 524 527 533 540 666 670 728 746 755 776 794 799</span></span>
<span><span class="co">#&gt; [39] 842 849 885 893 911 918 919 943 978 981</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $vaccinated$N</span></span>
<span><span class="co">#&gt;   [1]    1    3    4    5    7    8    9   10   11   13   14   15   17   18   19</span></span>
<span><span class="co">#&gt;  [16]   20   21   22   23   24   25   26   27   28   29   31   33   35   36   37</span></span>
<span><span class="co">#&gt;  [31]   38   39   40   41   42   43   44   45   46   47   48   49   50   51   52</span></span>
<span><span class="co">#&gt;  [46]   53   54   55   56   57   58   59   60   61   62   63   64   65   66   67</span></span>
<span><span class="co">#&gt;  [61]   68   69   70   71   72   73   74   75   76   77   78   79   82   83   84</span></span>
<span><span class="co">#&gt;  [76]   85   86   87   88   89   90   91   92   93   94   95   96   97   98   99</span></span>
<span><span class="co">#&gt;  [91]  100  101  102  103  105  106  107  108  109  110  111  112  113  114  115</span></span>
<span><span class="co">#&gt; [106]  116  117  118  119  120  121  122  123  124  125  126  127  128  129  130</span></span>
<span><span class="co">#&gt; [121]  131  132  133  134  135  136  137  138  139  140  141  142  143  144  145</span></span>
<span><span class="co">#&gt; [136]  146  147  148  149  150  151  153  154  155  156  157  158  159  160  161</span></span>
<span><span class="co">#&gt; [151]  162  163  164  165  166  167  168  169  170  171  172  173  174  175  177</span></span>
<span><span class="co">#&gt; [166]  178  179  180  181  182  183  185  186  187  188  189  190  191  192  193</span></span>
<span><span class="co">#&gt; [181]  194  195  196  197  198  199  200  201  202  203  204  205  206  207  209</span></span>
<span><span class="co">#&gt; [196]  210  211  212  213  214  215  217  218  219  220  221  222  223  224  225</span></span>
<span><span class="co">#&gt; [211]  226  227  228  229  230  231  232  233  234  235  236  237  238  239  240</span></span>
<span><span class="co">#&gt; [226]  241  242  243  244  245  246  247  248  249  250  251  252  253  254  255</span></span>
<span><span class="co">#&gt; [241]  256  257  258  259  260  261  262  264  265  266  268  269  270  271  272</span></span>
<span><span class="co">#&gt; [256]  273  274  276  277  278  279  280  281  282  283  284  285  286  287  289</span></span>
<span><span class="co">#&gt; [271]  290  291  293  294  295  296  297  298  299  300  301  302  303  304  305</span></span>
<span><span class="co">#&gt; [286]  306  307  308  309  310  311  312  313  314  315  316  317  318  319  320</span></span>
<span><span class="co">#&gt; [301]  321  322  323  325  326  327  328  329  330  331  332  333  334  335  336</span></span>
<span><span class="co">#&gt; [316]  337  338  339  340  341  342  343  344  345  346  347  348  349  350  352</span></span>
<span><span class="co">#&gt; [331]  353  354  355  356  357  358  359  360  361  362  363  364  365  366  367</span></span>
<span><span class="co">#&gt; [346]  368  369  370  371  372  373  374  375  376  377  378  379  381  382  383</span></span>
<span><span class="co">#&gt; [361]  384  385  386  387  388  389  390  391  392  393  394  395  396  397  398</span></span>
<span><span class="co">#&gt; [376]  399  400  401  402  403  404  405  406  407  408  409  410  411  412  413</span></span>
<span><span class="co">#&gt; [391]  414  415  416  417  418  419  420  421  422  423  424  425  427  428  429</span></span>
<span><span class="co">#&gt; [406]  431  432  433  434  435  436  437  438  439  440  441  442  443  444  445</span></span>
<span><span class="co">#&gt; [421]  446  447  448  449  450  451  452  453  454  455  456  457  458  459  460</span></span>
<span><span class="co">#&gt; [436]  461  462  463  464  465  466  467  468  469  470  471  472  473  474  475</span></span>
<span><span class="co">#&gt; [451]  476  477  478  479  480  481  482  483  484  485  486  487  488  489  490</span></span>
<span><span class="co">#&gt; [466]  491  492  493  494  495  496  497  498  499  500  501  502  503  504  505</span></span>
<span><span class="co">#&gt; [481]  506  507  508  509  510  511  512  513  514  515  516  517  518  520  521</span></span>
<span><span class="co">#&gt; [496]  522  523  525  526  528  529  530  531  532  534  535  536  537  538  539</span></span>
<span><span class="co">#&gt; [511]  541  542  543  544  545  546  547  548  549  550  551  552  553  554  555</span></span>
<span><span class="co">#&gt; [526]  556  557  558  559  560  561  562  563  564  565  566  567  568  569  570</span></span>
<span><span class="co">#&gt; [541]  571  572  573  574  575  576  577  578  579  580  581  582  583  584  585</span></span>
<span><span class="co">#&gt; [556]  586  587  588  589  590  591  592  593  594  595  596  597  598  599  600</span></span>
<span><span class="co">#&gt; [571]  601  602  603  604  605  606  607  608  609  610  611  612  613  614  615</span></span>
<span><span class="co">#&gt; [586]  616  617  618  619  620  621  622  623  624  625  626  627  628  629  630</span></span>
<span><span class="co">#&gt; [601]  631  632  633  634  635  636  637  638  639  640  641  642  643  644  645</span></span>
<span><span class="co">#&gt; [616]  646  647  648  649  650  651  652  653  654  655  656  657  658  659  660</span></span>
<span><span class="co">#&gt; [631]  661  662  663  664  665  667  668  669  671  672  673  674  675  676  677</span></span>
<span><span class="co">#&gt; [646]  678  679  680  681  682  683  684  685  686  687  688  689  690  691  692</span></span>
<span><span class="co">#&gt; [661]  693  694  695  696  697  698  699  700  701  702  703  704  705  706  707</span></span>
<span><span class="co">#&gt; [676]  708  709  710  711  712  713  714  715  716  717  718  719  720  721  722</span></span>
<span><span class="co">#&gt; [691]  723  724  725  726  727  729  730  731  732  733  734  735  736  737  738</span></span>
<span><span class="co">#&gt; [706]  739  740  741  742  743  744  745  747  748  749  750  751  752  753  754</span></span>
<span><span class="co">#&gt; [721]  756  757  758  759  760  761  762  763  764  765  766  767  768  769  770</span></span>
<span><span class="co">#&gt; [736]  771  772  773  774  775  777  778  779  780  781  782  783  784  785  786</span></span>
<span><span class="co">#&gt; [751]  787  788  789  790  791  792  793  795  796  797  798  800  801  802  803</span></span>
<span><span class="co">#&gt; [766]  804  805  806  807  808  809  810  811  812  813  814  815  816  817  818</span></span>
<span><span class="co">#&gt; [781]  819  820  821  822  823  824  825  826  827  828  829  830  831  832  833</span></span>
<span><span class="co">#&gt; [796]  834  835  836  837  838  839  840  841  843  844  845  846  847  848  850</span></span>
<span><span class="co">#&gt; [811]  851  852  853  854  855  856  857  858  859  860  861  862  863  864  865</span></span>
<span><span class="co">#&gt; [826]  866  867  868  869  870  871  872  873  874  875  876  877  878  879  880</span></span>
<span><span class="co">#&gt; [841]  881  882  883  884  886  887  888  889  890  891  892  894  895  896  897</span></span>
<span><span class="co">#&gt; [856]  898  899  900  901  902  903  904  905  906  907  908  909  910  912  913</span></span>
<span><span class="co">#&gt; [871]  914  915  916  917  920  921  922  923  924  925  926  927  928  929  930</span></span>
<span><span class="co">#&gt; [886]  931  932  933  934  935  936  937  938  939  940  941  942  944  945  946</span></span>
<span><span class="co">#&gt; [901]  947  948  949  950  951  952  953  954  955  956  957  958  959  960  961</span></span>
<span><span class="co">#&gt; [916]  962  963  964  965  966  967  968  969  970  971  972  973  974  975  976</span></span>
<span><span class="co">#&gt; [931]  977  979  980  982  983  984  985  986  987  988  989  990  991  992  993</span></span>
<span><span class="co">#&gt; [946]  994  995  996  997  998  999 1000</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu">run_simulation</span><span class="op">(</span>steps<span class="op">=</span><span class="fl">100</span><span class="op">)</span><span class="op">$</span><span class="va">state</span><span class="op">$</span><span class="va">variables</span><span class="op">)</span></span>
<span><span class="co">#&gt; $health</span></span>
<span><span class="co">#&gt; $health$S</span></span>
<span><span class="co">#&gt;   [1]   1   3   5   6   7   8   9  10  11  12  14  15  16  17  19  22  26  27</span></span>
<span><span class="co">#&gt;  [19]  28  29  30  31  32  33  34  35  36  37  40  42  43  44  45  47  48  50</span></span>
<span><span class="co">#&gt;  [37]  51  52  54  55  56  57  58  59  60  61  62  63  64  67  68  71  72  73</span></span>
<span><span class="co">#&gt;  [55]  74  75  76  78  79  80  81  84  85  86  88  89  90  91  94  97  99 100</span></span>
<span><span class="co">#&gt;  [73] 101 102 103 105 107 108 109 110 111 112 114 115 117 118 119 120 121 122</span></span>
<span><span class="co">#&gt;  [91] 124 125 126 127 130 131 133 134 135 136 137 138 139 140 141 144 146 147</span></span>
<span><span class="co">#&gt; [109] 151 153 154 156 158 159 160 161 162 163 165 166 167 168 169 170 171 172</span></span>
<span><span class="co">#&gt; [127] 173 174 175 176 177 179 181 183 184 185 186 187 188 189 190 191 193 195</span></span>
<span><span class="co">#&gt; [145] 196 197 200 202 203 204 206 208 211 215 217 219 220 224 225 226 227 228</span></span>
<span><span class="co">#&gt; [163] 229 233 234 235 236 237 239 240 241 244 246 248 251 253 254 255 256 257</span></span>
<span><span class="co">#&gt; [181] 258 259 260 262 264 265 266 267 268 269 271 272 273 278 280 281 282 284</span></span>
<span><span class="co">#&gt; [199] 285 286 287 288 290 291 292 293 296 297 299 301 302 303 304 307 308 309</span></span>
<span><span class="co">#&gt; [217] 310 311 313 314 315 318 319 320 321 322 323 324 325 326 327 328 329 330</span></span>
<span><span class="co">#&gt; [235] 333 334 335 337 338 339 340 342 343 344 345 346 349 350 352 355 356 357</span></span>
<span><span class="co">#&gt; [253] 359 360 361 362 364 365 369 371 372 373 374 375 376 377 378 379 381 382</span></span>
<span><span class="co">#&gt; [271] 383 384 385 386 387 388 389 390 392 393 394 396 397 400 401 402 403 405</span></span>
<span><span class="co">#&gt; [289] 406 409 410 412 414 415 416 417 418 419 420 421 422 424 425 426 427 430</span></span>
<span><span class="co">#&gt; [307] 431 434 435 436 438 439 441 443 444 445 446 447 448 452 454 455 458 460</span></span>
<span><span class="co">#&gt; [325] 461 462 463 464 465 469 470 472 473 474 475 477 478 479 481 482 483 484</span></span>
<span><span class="co">#&gt; [343] 485 487 488 490 491 492 493 494 495 497 498 499 500 501 502 505 506 507</span></span>
<span><span class="co">#&gt; [361] 508 509 511 512 514 515 516 519 520 521 523 524 525 526 527 528 530 531</span></span>
<span><span class="co">#&gt; [379] 532 534 535 538 539 540 541 542 544 545 546 547 548 549 550 551 552 553</span></span>
<span><span class="co">#&gt; [397] 554 556 557 558 560 561 562 563 564 565 566 567 569 570 571 573 574 575</span></span>
<span><span class="co">#&gt; [415] 576 577 578 579 580 581 583 585 587 589 590 592 593 594 595 596 597 598</span></span>
<span><span class="co">#&gt; [433] 600 601 603 604 605 607 610 611 612 613 615 616 618 619 620 621 622 624</span></span>
<span><span class="co">#&gt; [451] 625 627 628 630 631 632 633 634 635 636 637 638 642 646 647 648 649 650</span></span>
<span><span class="co">#&gt; [469] 652 653 654 655 656 657 658 662 663 664 665 667 668 669 671 672 677 679</span></span>
<span><span class="co">#&gt; [487] 680 681 682 683 685 686 687 689 690 691 692 694 695 696 697 698 699 700</span></span>
<span><span class="co">#&gt; [505] 701 708 709 710 711 712 714 715 717 718 720 721 722 724 725 726 727 728</span></span>
<span><span class="co">#&gt; [523] 729 730 731 732 733 734 735 736 737 739 740 741 745 746 747 748 749 750</span></span>
<span><span class="co">#&gt; [541] 751 752 754 755 756 757 758 759 760 761 763 764 765 767 769 770 771 772</span></span>
<span><span class="co">#&gt; [559] 773 774 775 776 777 778 780 781 783 784 785 786 787 788 789 791 792 793</span></span>
<span><span class="co">#&gt; [577] 795 796 797 798 799 801 802 803 806 807 808 809 810 811 812 814 816 818</span></span>
<span><span class="co">#&gt; [595] 819 821 822 823 824 826 828 830 831 832 833 837 838 839 840 841 842 843</span></span>
<span><span class="co">#&gt; [613] 845 846 848 849 850 851 852 853 854 855 856 857 858 859 862 864 865 866</span></span>
<span><span class="co">#&gt; [631] 868 869 870 872 873 875 876 877 878 879 881 882 884 887 888 889 890 892</span></span>
<span><span class="co">#&gt; [649] 893 894 896 898 899 901 902 903 904 905 906 907 908 910 912 913 914 915</span></span>
<span><span class="co">#&gt; [667] 916 920 921 922 923 924 925 926 928 930 931 932 934 936 938 939 940 941</span></span>
<span><span class="co">#&gt; [685] 942 943 944 945 947 948 949 950 951 953 954 955 956 957 958 959 960 961</span></span>
<span><span class="co">#&gt; [703] 962 963 964 965 967 968 972 973 974 975 976 977 978 979 980 982 983 984</span></span>
<span><span class="co">#&gt; [721] 985 987 988 989 990 991 992 993 994 995 997 998 999</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $health$I</span></span>
<span><span class="co">#&gt;   [1]    2    4   13   18   20   21   23   24   25   39   46   53   66   69   70</span></span>
<span><span class="co">#&gt;  [16]   82   83   87   93   96  104  116  123  128  132  142  145  148  150  157</span></span>
<span><span class="co">#&gt;  [31]  178  180  192  194  201  207  212  214  218  221  223  230  232  242  245</span></span>
<span><span class="co">#&gt;  [46]  247  249  250  252  263  274  275  276  283  294  295  298  305  306  316</span></span>
<span><span class="co">#&gt;  [61]  317  336  341  347  351  353  354  358  366  370  398  399  407  408  411</span></span>
<span><span class="co">#&gt;  [76]  413  428  433  449  451  453  457  459  467  468  480  489  503  518  529</span></span>
<span><span class="co">#&gt;  [91]  533  536  537  543  555  559  582  606  608  609  614  617  623  629  641</span></span>
<span><span class="co">#&gt; [106]  643  644  645  659  673  675  678  684  693  702  703  705  713  719  738</span></span>
<span><span class="co">#&gt; [121]  742  743  744  766  768  779  794  800  815  820  825  827  829  834  835</span></span>
<span><span class="co">#&gt; [136]  836  844  847  871  880  883  917  918  929  952  971 1000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $health$R</span></span>
<span><span class="co">#&gt;   [1]  38  41  49  65  77  92  95  98 106 113 129 143 149 152 155 164 182 198</span></span>
<span><span class="co">#&gt;  [19] 199 205 209 210 213 216 222 231 238 243 261 270 277 279 289 300 312 331</span></span>
<span><span class="co">#&gt;  [37] 332 348 363 367 368 380 391 395 404 423 429 432 437 440 442 450 456 466</span></span>
<span><span class="co">#&gt;  [55] 471 476 486 496 504 510 513 517 522 568 572 584 586 588 591 599 602 626</span></span>
<span><span class="co">#&gt;  [73] 639 640 651 660 661 666 670 674 676 688 704 706 707 716 723 753 762 782</span></span>
<span><span class="co">#&gt;  [91] 790 804 805 813 817 860 861 863 867 874 885 886 891 895 897 900 909 911</span></span>
<span><span class="co">#&gt; [109] 919 927 933 935 937 946 966 969 970 981 986 996</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $vaccinated</span></span>
<span><span class="co">#&gt; $vaccinated$Y</span></span>
<span><span class="co">#&gt;   [1]   1   3   5   7  11  14  15  16  17  19  20  30  31  34  35  48  52  58</span></span>
<span><span class="co">#&gt;  [19]  62  66  71  76  80  87  89  97  98  99 101 104 108 111 114 128 129 135</span></span>
<span><span class="co">#&gt;  [37] 144 146 149 151 153 163 166 168 178 185 191 197 199 200 210 211 213 223</span></span>
<span><span class="co">#&gt;  [55] 225 226 229 235 251 256 258 267 273 275 280 282 288 290 291 298 307 310</span></span>
<span><span class="co">#&gt;  [73] 314 315 318 322 323 324 330 333 334 368 369 373 379 380 389 391 392 394</span></span>
<span><span class="co">#&gt;  [91] 400 402 405 406 412 413 415 434 446 461 462 466 470 472 485 487 489 490</span></span>
<span><span class="co">#&gt; [109] 495 496 500 502 506 511 513 516 517 523 525 530 535 538 541 544 547 556</span></span>
<span><span class="co">#&gt; [127] 558 559 564 566 575 578 582 592 593 596 598 609 612 615 618 630 634 636</span></span>
<span><span class="co">#&gt; [145] 639 640 656 659 661 663 664 671 674 685 689 692 697 698 700 720 721 723</span></span>
<span><span class="co">#&gt; [163] 724 731 739 752 754 758 760 763 764 766 770 774 776 777 778 781 785 788</span></span>
<span><span class="co">#&gt; [181] 789 790 796 800 809 811 812 817 819 826 828 832 835 838 840 843 846 849</span></span>
<span><span class="co">#&gt; [199] 858 864 866 868 877 881 889 900 901 903 920 921 926 930 932 934 935 936</span></span>
<span><span class="co">#&gt; [217] 937 938 939 945 947 951 959 962 967 976 977 983 984 985 987 989 994 997</span></span>
<span><span class="co">#&gt; [235] 998</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $vaccinated$N</span></span>
<span><span class="co">#&gt;   [1]    2    4    6    8    9   10   12   13   18   21   22   23   24   25   26</span></span>
<span><span class="co">#&gt;  [16]   27   28   29   32   33   36   37   38   39   40   41   42   43   44   45</span></span>
<span><span class="co">#&gt;  [31]   46   47   49   50   51   53   54   55   56   57   59   60   61   63   64</span></span>
<span><span class="co">#&gt;  [46]   65   67   68   69   70   72   73   74   75   77   78   79   81   82   83</span></span>
<span><span class="co">#&gt;  [61]   84   85   86   88   90   91   92   93   94   95   96  100  102  103  105</span></span>
<span><span class="co">#&gt;  [76]  106  107  109  110  112  113  115  116  117  118  119  120  121  122  123</span></span>
<span><span class="co">#&gt;  [91]  124  125  126  127  130  131  132  133  134  136  137  138  139  140  141</span></span>
<span><span class="co">#&gt; [106]  142  143  145  147  148  150  152  154  155  156  157  158  159  160  161</span></span>
<span><span class="co">#&gt; [121]  162  164  165  167  169  170  171  172  173  174  175  176  177  179  180</span></span>
<span><span class="co">#&gt; [136]  181  182  183  184  186  187  188  189  190  192  193  194  195  196  198</span></span>
<span><span class="co">#&gt; [151]  201  202  203  204  205  206  207  208  209  212  214  215  216  217  218</span></span>
<span><span class="co">#&gt; [166]  219  220  221  222  224  227  228  230  231  232  233  234  236  237  238</span></span>
<span><span class="co">#&gt; [181]  239  240  241  242  243  244  245  246  247  248  249  250  252  253  254</span></span>
<span><span class="co">#&gt; [196]  255  257  259  260  261  262  263  264  265  266  268  269  270  271  272</span></span>
<span><span class="co">#&gt; [211]  274  276  277  278  279  281  283  284  285  286  287  289  292  293  294</span></span>
<span><span class="co">#&gt; [226]  295  296  297  299  300  301  302  303  304  305  306  308  309  311  312</span></span>
<span><span class="co">#&gt; [241]  313  316  317  319  320  321  325  326  327  328  329  331  332  335  336</span></span>
<span><span class="co">#&gt; [256]  337  338  339  340  341  342  343  344  345  346  347  348  349  350  351</span></span>
<span><span class="co">#&gt; [271]  352  353  354  355  356  357  358  359  360  361  362  363  364  365  366</span></span>
<span><span class="co">#&gt; [286]  367  370  371  372  374  375  376  377  378  381  382  383  384  385  386</span></span>
<span><span class="co">#&gt; [301]  387  388  390  393  395  396  397  398  399  401  403  404  407  408  409</span></span>
<span><span class="co">#&gt; [316]  410  411  414  416  417  418  419  420  421  422  423  424  425  426  427</span></span>
<span><span class="co">#&gt; [331]  428  429  430  431  432  433  435  436  437  438  439  440  441  442  443</span></span>
<span><span class="co">#&gt; [346]  444  445  447  448  449  450  451  452  453  454  455  456  457  458  459</span></span>
<span><span class="co">#&gt; [361]  460  463  464  465  467  468  469  471  473  474  475  476  477  478  479</span></span>
<span><span class="co">#&gt; [376]  480  481  482  483  484  486  488  491  492  493  494  497  498  499  501</span></span>
<span><span class="co">#&gt; [391]  503  504  505  507  508  509  510  512  514  515  518  519  520  521  522</span></span>
<span><span class="co">#&gt; [406]  524  526  527  528  529  531  532  533  534  536  537  539  540  542  543</span></span>
<span><span class="co">#&gt; [421]  545  546  548  549  550  551  552  553  554  555  557  560  561  562  563</span></span>
<span><span class="co">#&gt; [436]  565  567  568  569  570  571  572  573  574  576  577  579  580  581  583</span></span>
<span><span class="co">#&gt; [451]  584  585  586  587  588  589  590  591  594  595  597  599  600  601  602</span></span>
<span><span class="co">#&gt; [466]  603  604  605  606  607  608  610  611  613  614  616  617  619  620  621</span></span>
<span><span class="co">#&gt; [481]  622  623  624  625  626  627  628  629  631  632  633  635  637  638  641</span></span>
<span><span class="co">#&gt; [496]  642  643  644  645  646  647  648  649  650  651  652  653  654  655  657</span></span>
<span><span class="co">#&gt; [511]  658  660  662  665  666  667  668  669  670  672  673  675  676  677  678</span></span>
<span><span class="co">#&gt; [526]  679  680  681  682  683  684  686  687  688  690  691  693  694  695  696</span></span>
<span><span class="co">#&gt; [541]  699  701  702  703  704  705  706  707  708  709  710  711  712  713  714</span></span>
<span><span class="co">#&gt; [556]  715  716  717  718  719  722  725  726  727  728  729  730  732  733  734</span></span>
<span><span class="co">#&gt; [571]  735  736  737  738  740  741  742  743  744  745  746  747  748  749  750</span></span>
<span><span class="co">#&gt; [586]  751  753  755  756  757  759  761  762  765  767  768  769  771  772  773</span></span>
<span><span class="co">#&gt; [601]  775  779  780  782  783  784  786  787  791  792  793  794  795  797  798</span></span>
<span><span class="co">#&gt; [616]  799  801  802  803  804  805  806  807  808  810  813  814  815  816  818</span></span>
<span><span class="co">#&gt; [631]  820  821  822  823  824  825  827  829  830  831  833  834  836  837  839</span></span>
<span><span class="co">#&gt; [646]  841  842  844  845  847  848  850  851  852  853  854  855  856  857  859</span></span>
<span><span class="co">#&gt; [661]  860  861  862  863  865  867  869  870  871  872  873  874  875  876  878</span></span>
<span><span class="co">#&gt; [676]  879  880  882  883  884  885  886  887  888  890  891  892  893  894  895</span></span>
<span><span class="co">#&gt; [691]  896  897  898  899  902  904  905  906  907  908  909  910  911  912  913</span></span>
<span><span class="co">#&gt; [706]  914  915  916  917  918  919  922  923  924  925  927  928  929  931  933</span></span>
<span><span class="co">#&gt; [721]  940  941  942  943  944  946  948  949  950  952  953  954  955  956  957</span></span>
<span><span class="co">#&gt; [736]  958  960  961  963  964  965  966  968  969  970  971  972  973  974  975</span></span>
<span><span class="co">#&gt; [751]  978  979  980  981  982  986  988  990  991  992  993  995  996  999 1000</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">5</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0.2875775 0.7883051 0.4089769 0.8830174 0.9404673</span></span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Giovanni Charles, Sean L. Wu, Peter Winskill, Paul Liétar.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
