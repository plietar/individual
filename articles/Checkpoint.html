<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Saving and restoring simulation state • individual</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Saving and restoring simulation state">
<meta property="og:description" content="individual">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">individual</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.12</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/API.html">API</a>
    </li>
    <li>
      <a href="../articles/Changing_Populations.html">Changing population</a>
    </li>
    <li>
      <a href="../articles/Checkpoint.html">Saving and restoring simulation state</a>
    </li>
    <li>
      <a href="../articles/Contributing.html">Contributing</a>
    </li>
    <li>
      <a href="../articles/Performance.html">Performance</a>
    </li>
    <li>
      <a href="../articles/Tutorial.html">Tutorial</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/mrc-ide/individual/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Saving and restoring simulation state</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/mrc-ide/individual/blob/HEAD/vignettes/Checkpoint.Rmd" class="external-link"><code>vignettes/Checkpoint.Rmd</code></a></small>
      <div class="hidden name"><code>Checkpoint.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="intro">Introduction<a class="anchor" aria-label="anchor" href="#intro"></a>
</h2>
<p>When modeling the impact of an intervention on a disease, it is
common to have a first simulation phase where the intervention is
disabled to achieve steady-state, followed by a second phase during
which the intervention is applied. Often, we want to run the second
phase many times over, varying the intervention parameters. Simulating
the first phase every time is unnecessary and wasteful, since it isn’t
affected by the intervention parameters.</p>
<p>Individual allows the user to run a simulation for a number of time
steps, save the state of the simulation and resume it multiple times,
with different parameters each time. This way, the initial phase before
the intervention only needs to be simulated once.</p>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p>The typical way to use this feature is to define a simulation
function which creates all the relevant simulation data and then calls
<code>simulation_loop</code>. The function we define takes in an
optional <code>state</code> parameter that is passed through to
<code>simulation_loop</code>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">run_simulation</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">timesteps</span>, <span class="va">state</span><span class="op">=</span><span class="cn">NULL</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">health</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/CategoricalVariable.html">CategoricalVariable</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"S"</span>, <span class="st">"I"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"S"</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="va">process</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bernoulli_process.html">bernoulli_process</a></span><span class="op">(</span><span class="va">health</span>, <span class="st">"S"</span>, <span class="st">"I"</span>, <span class="fl">0.01</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="../reference/simulation_loop.html">simulation_loop</a></span><span class="op">(</span></span>
<span>    variables<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">health</span><span class="op">)</span>,</span>
<span>    processes<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">process</span><span class="op">)</span>,</span>
<span>    timesteps<span class="op">=</span><span class="va">timesteps</span>,</span>
<span>    state<span class="op">=</span><span class="va">state</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>The simulation can be run a first time, for a given number of steps.
It returns a <em>state object</em>, which captures the internal state of
all variables and events, the state of the random number generator and
the number of time steps that were simulated.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">state</span> <span class="op">&lt;-</span> <span class="fu">run_simulation</span><span class="op">(</span>timesteps <span class="op">=</span> <span class="fl">50</span><span class="op">)</span></span></code></pre></div>
<p>Finally, the simulation is resumed with a larger number of time
steps, passing in the state object as an argument. The
<code>timesteps</code> argument refers to the total number of time
steps, including both the original simulation run and the new one. In
this case, <code>run_simulation</code> will only simulate 50 extra
steps. Before running the actual simulation,
<code>simulation_loop</code> will reload the simulation state from its
argument, overwriting any values we had set when initializing the
variables.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">run_simulation</span><span class="op">(</span>timesteps <span class="op">=</span> <span class="fl">100</span>, state<span class="op">=</span><span class="va">state</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example">Practical example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>To demonstrate the checkpoint and restore functionality of individual
in a practical setting, we will use a SIRS model with a vaccination
intervention. Our aim is to compare the impact of the vaccination
campaign, given different vaccine efficacy scenarios.</p>
<p>Individuals in the simulation move from being susceptible (S) to
infectious (I) to recovered (R) and back to susceptible, after their
natural immunity wanes off. Out of the entire population <code>N</code>,
only <code>I0</code> individuals are initially infectios, and the rest
are susceptible. Orthogonally, an individual can either be vaccinated
(Y) or not (N). The vaccination and the immunity it confers never wanes
off. All individuals are initially unvaccinated.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">make_variables</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">N</span>, <span class="va">I0</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">health_states_t0</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"S"</span>,<span class="va">N</span><span class="op">)</span></span>
<span>  <span class="va">health_states_t0</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample.int</a></span><span class="op">(</span>n <span class="op">=</span> <span class="va">N</span>,size <span class="op">=</span> <span class="va">I0</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"I"</span></span>
<span>  <span class="va">health</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/CategoricalVariable.html">CategoricalVariable</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>categories <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"S"</span>,<span class="st">"I"</span>,<span class="st">"R"</span><span class="op">)</span>, initial_values <span class="op">=</span> <span class="va">health_states_t0</span><span class="op">)</span></span>
<span></span>
<span>  <span class="va">vaccinated</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/CategoricalVariable.html">CategoricalVariable</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>categories <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Y"</span>, <span class="st">"N"</span><span class="op">)</span>, initial_values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"N"</span>, <span class="va">N</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>health<span class="op">=</span><span class="va">health</span>, vaccinated<span class="op">=</span><span class="va">vaccinated</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>A vaccinated individual has a reduced probability of becoming
infectious, as determined by the vaccine’s efficacy. The function below
creates the process to model infection. It samples from the susceptible
compartments, applying the different rates depending on the whether an
individual’s vaccinated status.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">make_infection_process</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">health</span>, <span class="va">vaccinated</span>, <span class="va">N</span>, <span class="va">beta</span>, <span class="va">vaccine_efficacy</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw">function</span><span class="op">(</span><span class="va">t</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">I</span> <span class="op">&lt;-</span> <span class="va">health</span><span class="op">$</span><span class="fu">get_size_of</span><span class="op">(</span><span class="st">"I"</span><span class="op">)</span></span>
<span>    <span class="va">foi</span> <span class="op">&lt;-</span> <span class="va">beta</span> <span class="op">*</span> <span class="va">I</span> <span class="op">/</span> <span class="va">N</span></span>
<span></span>
<span>    <span class="va">vaccinated_S</span> <span class="op">&lt;-</span> <span class="va">health</span><span class="op">$</span><span class="fu">get_index_of</span><span class="op">(</span><span class="st">"S"</span><span class="op">)</span><span class="op">$</span><span class="fu">and</span><span class="op">(</span><span class="va">vaccinated</span><span class="op">$</span><span class="fu">get_index_of</span><span class="op">(</span><span class="st">"Y"</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="va">non_vaccinated_S</span> <span class="op">&lt;-</span> <span class="va">health</span><span class="op">$</span><span class="fu">get_index_of</span><span class="op">(</span><span class="st">"S"</span><span class="op">)</span><span class="op">$</span><span class="fu">and</span><span class="op">(</span><span class="va">vaccinated</span><span class="op">$</span><span class="fu">get_index_of</span><span class="op">(</span><span class="st">"N"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span>    <span class="va">vaccinated_S</span><span class="op">$</span><span class="fu">sample</span><span class="op">(</span>rate <span class="op">=</span> <span class="va">foi</span> <span class="op">*</span> <span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="va">vaccine_efficacy</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="va">non_vaccinated_S</span><span class="op">$</span><span class="fu">sample</span><span class="op">(</span>rate <span class="op">=</span> <span class="va">foi</span><span class="op">)</span></span>
<span></span>
<span>    <span class="va">health</span><span class="op">$</span><span class="fu">queue_update</span><span class="op">(</span>value <span class="op">=</span> <span class="st">"I"</span>, index <span class="op">=</span> <span class="va">vaccinated_S</span><span class="op">)</span></span>
<span>    <span class="va">health</span><span class="op">$</span><span class="fu">queue_update</span><span class="op">(</span>value <span class="op">=</span> <span class="st">"I"</span>, index <span class="op">=</span> <span class="va">non_vaccinated_S</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>For a while at the start of the simulation no vaccination takes
place. Only after a number of time steps, determined by the
<code>vaccination_start</code> parameter, does the intervention begin.
Periodically, an event will fire and every individual has a fixed
probability of becoming vaccinated. If <code>vaccination_start</code> is
<code>NULL</code>, the intervention never begins.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">make_vaccination_event</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">vaccinated</span>, <span class="va">vaccination_start</span>, <span class="va">vaccination_interval</span>, <span class="va">vaccination_rate</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">e</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/Event.html">Event</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="va">e</span><span class="op">$</span><span class="fu">add_listener</span><span class="op">(</span><span class="kw">function</span><span class="op">(</span><span class="va">t</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">vaccinated</span><span class="op">$</span><span class="fu">queue_update</span><span class="op">(</span>value <span class="op">=</span> <span class="st">"Y"</span>,</span>
<span>      <span class="va">vaccinated</span><span class="op">$</span><span class="fu">get_index_of</span><span class="op">(</span><span class="st">"N"</span><span class="op">)</span><span class="op">$</span><span class="fu">sample</span><span class="op">(</span><span class="va">vaccination_rate</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="va">e</span><span class="op">$</span><span class="fu">schedule</span><span class="op">(</span><span class="va">vaccination_interval</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">vaccination_start</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">e</span><span class="op">$</span><span class="fu">schedule</span><span class="op">(</span><span class="va">vaccination_start</span> <span class="op">-</span> <span class="fl">1</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span>  <span class="va">e</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>We will define our simulation as a function, taking the simulation
parameters as arguments. Any additional arguments to the function, as
denoted by <code>...</code>, will be passed on to
<code>simulation_loop</code>. This will allow us to pass the
<code>state</code> argument in. The function returns the simulation data
as well as the new saved state.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">run_simulation</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span></span>
<span>    <span class="va">steps</span>,</span>
<span>    <span class="va">N</span> <span class="op">=</span> <span class="fl">1e3</span>,</span>
<span>    <span class="va">I0</span> <span class="op">=</span> <span class="fl">5</span>,</span>
<span>    <span class="va">beta</span> <span class="op">=</span> <span class="fl">0.1</span>, <span class="co"># S -&gt; I</span></span>
<span>    <span class="va">gamma</span> <span class="op">=</span> <span class="fl">0.05</span>, <span class="co"># I -&gt; R</span></span>
<span>    <span class="va">xi</span> <span class="op">=</span> <span class="fl">0.03</span>, <span class="co"># R -&gt; S</span></span>
<span>    <span class="va">vaccination_start</span> <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    <span class="va">vaccination_interval</span> <span class="op">=</span> <span class="fl">10</span>,</span>
<span>    <span class="va">vaccination_rate</span> <span class="op">=</span> <span class="fl">0.05</span>, <span class="co"># N -&gt; Y</span></span>
<span>    <span class="va">vaccine_efficacy</span> <span class="op">=</span> <span class="fl">1</span>,</span>
<span>    <span class="va">...</span><span class="op">)</span></span>
<span><span class="op">{</span></span>
<span>  <span class="va">variables</span> <span class="op">&lt;-</span> <span class="fu">make_variables</span><span class="op">(</span><span class="va">N</span>, <span class="va">I0</span><span class="op">)</span></span>
<span>  <span class="va">infection_process</span> <span class="op">&lt;-</span> <span class="fu">make_infection_process</span><span class="op">(</span></span>
<span>    <span class="va">variables</span><span class="op">$</span><span class="va">health</span>,</span>
<span>    <span class="va">variables</span><span class="op">$</span><span class="va">vaccinated</span>,</span>
<span>    <span class="va">N</span>, <span class="va">beta</span>, <span class="va">vaccine_efficacy</span><span class="op">)</span></span>
<span>  <span class="va">recovery_process</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bernoulli_process.html">bernoulli_process</a></span><span class="op">(</span><span class="va">variables</span><span class="op">$</span><span class="va">health</span>, <span class="st">"I"</span>, <span class="st">"R"</span>, <span class="va">gamma</span><span class="op">)</span></span>
<span>  <span class="va">return_process</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bernoulli_process.html">bernoulli_process</a></span><span class="op">(</span><span class="va">variables</span><span class="op">$</span><span class="va">health</span>, <span class="st">"R"</span>, <span class="st">"S"</span>, <span class="va">xi</span><span class="op">)</span></span>
<span>  <span class="va">vaccination_event</span> <span class="op">&lt;-</span> <span class="fu">make_vaccination_event</span><span class="op">(</span></span>
<span>    <span class="va">variables</span><span class="op">$</span><span class="va">vaccinated</span>, <span class="va">vaccination_start</span>, <span class="va">vaccination_interval</span>, <span class="va">vaccination_rate</span><span class="op">)</span></span>
<span></span>
<span>  <span class="va">renderer</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/Render.html">Render</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>timesteps <span class="op">=</span> <span class="va">steps</span><span class="op">)</span></span>
<span>  <span class="va">health_render_process</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/categorical_count_renderer_process.html">categorical_count_renderer_process</a></span><span class="op">(</span></span>
<span>    renderer <span class="op">=</span> <span class="va">renderer</span>,</span>
<span>    variable <span class="op">=</span> <span class="va">variables</span><span class="op">$</span><span class="va">health</span>,</span>
<span>    categories <span class="op">=</span> <span class="va">variables</span><span class="op">$</span><span class="va">health</span><span class="op">$</span><span class="fu">get_categories</span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span>  <span class="va">processes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="va">infection_process</span>,</span>
<span>    <span class="va">recovery_process</span>,</span>
<span>    <span class="va">return_process</span>,</span>
<span>    <span class="va">health_render_process</span><span class="op">)</span></span>
<span></span>
<span>  <span class="va">final_state</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simulation_loop.html">simulation_loop</a></span><span class="op">(</span></span>
<span>    variables <span class="op">=</span> <span class="va">variables</span>,</span>
<span>    events <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">vaccination_event</span><span class="op">)</span>,</span>
<span>    processes <span class="op">=</span> <span class="va">processes</span>,</span>
<span>    timesteps <span class="op">=</span> <span class="va">steps</span>,</span>
<span>    <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>result<span class="op">=</span><span class="va">renderer</span><span class="op">$</span><span class="fu">to_dataframe</span><span class="op">(</span><span class="op">)</span>, state<span class="op">=</span><span class="va">final_state</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>We will start by running and plotting our baseline simulation, with
the intervention disabled.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">run_simulation</span><span class="op">(</span>steps<span class="op">=</span><span class="fl">1500</span><span class="op">)</span><span class="op">$</span><span class="va">result</span></span>
<span><span class="va">colours</span> <span class="op">&lt;-</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"royalblue3"</span>,<span class="st">"firebrick3"</span>,<span class="st">"darkorchid3"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/matplot.html" class="external-link">matplot</a></span><span class="op">(</span></span>
<span>  x<span class="op">=</span><span class="va">data</span><span class="op">[</span><span class="st">"timestep"</span><span class="op">]</span>,</span>
<span>  y<span class="op">=</span><span class="va">data</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"S_count"</span>,<span class="st">"I_count"</span>, <span class="st">"R_count"</span><span class="op">)</span><span class="op">]</span>,</span>
<span>  xlab<span class="op">=</span><span class="st">"Time"</span>, ylab<span class="op">=</span><span class="st">"Count"</span>,</span>
<span>  type<span class="op">=</span><span class="st">"l"</span>, lwd<span class="op">=</span><span class="fl">2</span>, lty <span class="op">=</span> <span class="fl">1</span>, col <span class="op">=</span> <span class="va">colours</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/legend.html" class="external-link">legend</a></span><span class="op">(</span></span>
<span>   x <span class="op">=</span> <span class="st">"topright"</span>,</span>
<span>   pch <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">16</span>,<span class="fl">3</span><span class="op">)</span>,</span>
<span>   col <span class="op">=</span> <span class="va">colours</span>,</span>
<span>   legend <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"S"</span>, <span class="st">"I"</span>, <span class="st">"R"</span><span class="op">)</span>, cex <span class="op">=</span> <span class="fl">1.5</span>,</span>
<span>   bg<span class="op">=</span><span class="st">'white'</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="Checkpoint_files/figure-html/unnamed-chunk-9-1.png" width="700"></p>
<p>We see that the simulation takes some time to settle from its initial
parameters to its steady-state conditions. We will now enable the
vaccine intervention, but only starting at a point after the simulation
has settled, for example at <code>t=500</code>.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">run_simulation</span><span class="op">(</span>steps<span class="op">=</span><span class="fl">1500</span>, vaccination_start <span class="op">=</span> <span class="fl">500</span>, vaccine_efficacy <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">$</span><span class="va">result</span></span>
<span><span class="va">colours</span> <span class="op">&lt;-</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"royalblue3"</span>,<span class="st">"firebrick3"</span>,<span class="st">"darkorchid3"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/matplot.html" class="external-link">matplot</a></span><span class="op">(</span></span>
<span>  x<span class="op">=</span><span class="va">data</span><span class="op">[</span><span class="st">"timestep"</span><span class="op">]</span>,</span>
<span>  y<span class="op">=</span><span class="va">data</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"S_count"</span>,<span class="st">"I_count"</span>, <span class="st">"R_count"</span><span class="op">)</span><span class="op">]</span>,</span>
<span>  xlab<span class="op">=</span><span class="st">"Time"</span>, ylab<span class="op">=</span><span class="st">"Count"</span>,</span>
<span>  type<span class="op">=</span><span class="st">"l"</span>, lwd<span class="op">=</span><span class="fl">2</span>, lty <span class="op">=</span> <span class="fl">1</span>, col <span class="op">=</span> <span class="va">colours</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/legend.html" class="external-link">legend</a></span><span class="op">(</span></span>
<span>   x <span class="op">=</span> <span class="st">"topright"</span>,</span>
<span>   pch <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">16</span>,<span class="fl">3</span><span class="op">)</span>,</span>
<span>   col <span class="op">=</span> <span class="va">colours</span>,</span>
<span>   legend <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"S"</span>, <span class="st">"I"</span>, <span class="st">"R"</span><span class="op">)</span>, cex <span class="op">=</span> <span class="fl">1.5</span>,</span>
<span>   bg<span class="op">=</span><span class="st">'white'</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="Checkpoint_files/figure-html/unnamed-chunk-10-1.png" width="700"></p>
<p>The simulation above clearly shows the effect of the vaccination
campaign, starting at <code>t=500</code>. However, it made the
optimistic assumption of a 100% vaccine efficacy. We wish to run the
simulation again but with varying levels of efficacy, in order the
compare its impact.</p>
<p>While we could run the code above many times over, each simulation
would repeat the first 499 timesteps, despite the result being identical
each time. Instead we start by running only these timesteps, and saving
the result. We do need to specify the start of the intervention, as it
is necessary to schedule the first vaccination event. However the
details of the intervention (ie. <code>vaccine_efficacy</code>) are
irrelevant and can be omitted.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">initial</span> <span class="op">&lt;-</span> <span class="fu">run_simulation</span><span class="op">(</span>steps<span class="op">=</span><span class="fl">499</span>, vaccination_start <span class="op">=</span> <span class="fl">500</span><span class="op">)</span></span></code></pre></div>
<p>From this initial result, we can resume the simulation, but using
different values of vaccine efficacy each time. We also include a
control simulation, in which no vaccination takes place. Each of these
simulation will skip the first 499 steps and only run the next 1001 time
steps.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">control</span>    <span class="op">&lt;-</span> <span class="fu">run_simulation</span><span class="op">(</span>steps<span class="op">=</span><span class="fl">1500</span>, vaccination_start <span class="op">=</span> <span class="fl">500</span>, vaccine_efficacy<span class="op">=</span><span class="fl">0.0</span>, state<span class="op">=</span><span class="va">initial</span><span class="op">$</span><span class="va">state</span><span class="op">)</span></span>
<span><span class="va">vaccine30</span>  <span class="op">&lt;-</span> <span class="fu">run_simulation</span><span class="op">(</span>steps<span class="op">=</span><span class="fl">1500</span>, vaccination_start <span class="op">=</span> <span class="fl">500</span>, vaccine_efficacy<span class="op">=</span><span class="fl">0.3</span>, state<span class="op">=</span><span class="va">initial</span><span class="op">$</span><span class="va">state</span><span class="op">)</span></span>
<span><span class="va">vaccine50</span>  <span class="op">&lt;-</span> <span class="fu">run_simulation</span><span class="op">(</span>steps<span class="op">=</span><span class="fl">1500</span>, vaccination_start <span class="op">=</span> <span class="fl">500</span>, vaccine_efficacy<span class="op">=</span><span class="fl">0.5</span>, state<span class="op">=</span><span class="va">initial</span><span class="op">$</span><span class="va">state</span><span class="op">)</span></span>
<span><span class="va">vaccine100</span> <span class="op">&lt;-</span> <span class="fu">run_simulation</span><span class="op">(</span>steps<span class="op">=</span><span class="fl">1500</span>, vaccination_start <span class="op">=</span> <span class="fl">500</span>, vaccine_efficacy<span class="op">=</span><span class="fl">1.0</span>, state<span class="op">=</span><span class="va">initial</span><span class="op">$</span><span class="va">state</span><span class="op">)</span></span></code></pre></div>
<p>Finally we aggregate and plot the results from all these simulations.
We also need to include the data from our initial run, which we will
plot the same colour as our control simulation.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">colours</span> <span class="op">&lt;-</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"royalblue3"</span>,<span class="st">"firebrick3"</span>,<span class="st">"darkorchid3"</span>, <span class="st">"seagreen3"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Pad initial out to ensure it has the same shape as other series.</span></span>
<span><span class="va">initial</span><span class="op">$</span><span class="va">result</span><span class="op">[</span><span class="fl">500</span><span class="op">:</span><span class="fl">1500</span>,<span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/matplot.html" class="external-link">matplot</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>    <span class="va">initial</span><span class="op">$</span><span class="va">result</span><span class="op">[</span>,<span class="st">"I_count"</span><span class="op">]</span>,</span>
<span>    <span class="va">vaccine30</span><span class="op">$</span><span class="va">result</span><span class="op">[</span>,<span class="st">"I_count"</span><span class="op">]</span>,</span>
<span>    <span class="va">vaccine50</span><span class="op">$</span><span class="va">result</span><span class="op">[</span>,<span class="st">"I_count"</span><span class="op">]</span>,</span>
<span>    <span class="va">vaccine100</span><span class="op">$</span><span class="va">result</span><span class="op">[</span>,<span class="st">"I_count"</span><span class="op">]</span>,</span>
<span>    <span class="va">control</span><span class="op">$</span><span class="va">result</span><span class="op">[</span>,<span class="st">"I_count"</span><span class="op">]</span><span class="op">)</span>,</span>
<span>  xlab <span class="op">=</span> <span class="st">"Time"</span>, ylab <span class="op">=</span> <span class="st">"Infected count"</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"l"</span>, lwd <span class="op">=</span> <span class="fl">1.5</span>, lty <span class="op">=</span> <span class="fl">1</span>, col <span class="op">=</span> <span class="va">colours</span>,</span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/legend.html" class="external-link">legend</a></span><span class="op">(</span></span>
<span>   x <span class="op">=</span> <span class="st">"topright"</span>, pch <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">16</span>,<span class="fl">3</span><span class="op">)</span>,</span>
<span>   col <span class="op">=</span> <span class="va">colours</span>,</span>
<span>   legend <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Control"</span>, <span class="st">"30%"</span>, <span class="st">"50%"</span>, <span class="st">"100%"</span><span class="op">)</span>, cex <span class="op">=</span> <span class="fl">1.5</span>,</span>
<span>   bg<span class="op">=</span><span class="st">'white'</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="Checkpoint_files/figure-html/unnamed-chunk-13-1.png" width="700"></p>
</div>
<div class="section level2">
<h2 id="caveats">Caveats<a class="anchor" aria-label="anchor" href="#caveats"></a>
</h2>
<p>Saving and restoring the simulation state comes with a number of
caveats.</p>
<ul>
<li>All simulation state must be represented as objects managed by
individual. Any state maintained externally will not be saved nor
restored.</li>
<li>The state object’s structure is not stable and is expected to
change. One should not expect to serialize the state to disk and have it
work with future versions of the individual package.</li>
<li>The simulation must be re-created in an identical way. Variables and
events may not be added or removed, variable sizes must remain constant,
the list of categories in a <code>CategoricalVariable</code> cannot be
modified, etc. The order of variables and events passed to the
<code>run_simulation</code> function must remain stable.</li>
<li>If an event is scheduled before the checkpoint, the time at which it
will execute cannot be changed when resuming, even if that time is in
the future. For example in the SIRS model above, we would not be able to
resume the simulation with different values for
<code>vaccination_start</code>; changing that parameter would have no
effect.</li>
</ul>
<p>While parameters of the simulation can be changed between the initial
run and the subsequent runs (as demonstrated with the
<code>vaccine_efficacy</code> parameter above), in general you should
not modify parameters that would have been already had an impact on the
first part of the simulation. Doing so would produce results that can
only be produced through checkpoint and resume, and not as a single
simulation.</p>
<p>For example, in our SIRS model, it may be tempting to model a
time-varying parameter by running half of the simulation with one value
and then resuming it with a different value. While this would probably
work, it would be brittle and hard to compose. As more time-varying
parameters are introduced to the model, the simulation would need to be
saved and restored each time a value changes.</p>
<div class="section level3">
<h3 id="rng">Restoring random number generator state<a class="anchor" aria-label="anchor" href="#rng"></a>
</h3>
<p>By default resuming a simulation does not restore R’s random number
generator’s state. Every resumed run from the same saved state will be
independent and, if the model is stochastic, will produce different
results.</p>
<p>We can demonstrate that by running the baseline of our SIRS model
multiple times and plotting the results. All three runs start off from
the same state, inherited from our original model run, but quickly
diverge based on the outcome of random draws.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">initial</span> <span class="op">&lt;-</span> <span class="fu">run_simulation</span><span class="op">(</span>steps<span class="op">=</span><span class="fl">499</span><span class="op">)</span></span>
<span><span class="va">run1</span> <span class="op">&lt;-</span> <span class="fu">run_simulation</span><span class="op">(</span>steps <span class="op">=</span> <span class="fl">1500</span>, state <span class="op">=</span> <span class="va">initial</span><span class="op">$</span><span class="va">state</span><span class="op">)</span></span>
<span><span class="va">run2</span> <span class="op">&lt;-</span> <span class="fu">run_simulation</span><span class="op">(</span>steps <span class="op">=</span> <span class="fl">1500</span>, state <span class="op">=</span> <span class="va">initial</span><span class="op">$</span><span class="va">state</span><span class="op">)</span></span>
<span><span class="va">run3</span> <span class="op">&lt;-</span> <span class="fu">run_simulation</span><span class="op">(</span>steps <span class="op">=</span> <span class="fl">1500</span>, state <span class="op">=</span> <span class="va">initial</span><span class="op">$</span><span class="va">state</span><span class="op">)</span></span>
<span></span>
<span><span class="va">initial</span><span class="op">$</span><span class="va">result</span><span class="op">[</span><span class="fl">500</span><span class="op">:</span><span class="fl">1500</span>,<span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/matplot.html" class="external-link">matplot</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>    <span class="va">initial</span><span class="op">$</span><span class="va">result</span><span class="op">[</span>,<span class="st">"I_count"</span><span class="op">]</span>,</span>
<span>    <span class="va">run1</span><span class="op">$</span><span class="va">result</span><span class="op">[</span>,<span class="st">"I_count"</span><span class="op">]</span>,</span>
<span>    <span class="va">run2</span><span class="op">$</span><span class="va">result</span><span class="op">[</span>,<span class="st">"I_count"</span><span class="op">]</span>,</span>
<span>    <span class="va">run3</span><span class="op">$</span><span class="va">result</span><span class="op">[</span>,<span class="st">"I_count"</span><span class="op">]</span><span class="op">)</span>,</span>
<span>  xlab <span class="op">=</span> <span class="st">"Time"</span>, ylab <span class="op">=</span> <span class="st">"Infected count"</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"l"</span>, lwd <span class="op">=</span> <span class="fl">1.5</span>, lty <span class="op">=</span> <span class="fl">1</span>, col <span class="op">=</span> <span class="va">colours</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="Checkpoint_files/figure-html/unnamed-chunk-14-1.png" width="700"></p>
<p>Sometimes this behaviour may not be desirable, and we would instead
like to restore the state of the random number generator exactly where
it was when we stopped the first part of the run. One example of this is
when checking that our model behaves the same whether or not it was
saved and resumed.</p>
<p>The code below show an attempt at running the model twice, once as a
continous run and once in a piecewise manner. We would hope that seeding
the random generator at the start of the simulation would be enough to
get identical results out of it. Unfortunately we don’t, because the
random number generator state’s at the intermediate point isn’t being
preserved.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="va">uninterrupted_run</span> <span class="op">&lt;-</span> <span class="fu">run_simulation</span><span class="op">(</span>steps <span class="op">=</span> <span class="fl">1500</span><span class="op">)</span><span class="op">$</span><span class="va">result</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="va">piecewise_run_initial</span> <span class="op">&lt;-</span> <span class="fu">run_simulation</span><span class="op">(</span>steps <span class="op">=</span> <span class="fl">499</span><span class="op">)</span></span>
<span><span class="va">piecewise_run_final</span> <span class="op">&lt;-</span> <span class="fu">run_simulation</span><span class="op">(</span>steps <span class="op">=</span> <span class="fl">1500</span>, state <span class="op">=</span> <span class="va">piecewise_run_initial</span><span class="op">$</span><span class="va">state</span><span class="op">)</span></span>
<span><span class="va">piecewise_run</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">piecewise_run_initial</span><span class="op">$</span><span class="va">result</span>, <span class="va">piecewise_run_final</span><span class="op">$</span><span class="va">result</span><span class="op">[</span><span class="fl">500</span><span class="op">:</span><span class="fl">1500</span>,<span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/all.equal.html" class="external-link">all.equal</a></span><span class="op">(</span><span class="va">uninterrupted_run</span>, <span class="va">piecewise_run</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Component \"S_count\": Mean relative difference: 0.1671622"</span></span>
<span><span class="co">#&gt; [2] "Component \"I_count\": Mean relative difference: 0.8385636"</span></span>
<span><span class="co">#&gt; [3] "Component \"R_count\": Mean relative difference: 0.8369229"</span></span></code></pre></div>
<p>We can try the same again, but this time set
<code>restore_random_state = TRUE</code> to enable restoring the
simulation state. This time we’ve successfully managed to reproduce the
data from our uninterrupted run.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="va">piecewise_run_initial</span> <span class="op">&lt;-</span> <span class="fu">run_simulation</span><span class="op">(</span>steps <span class="op">=</span> <span class="fl">499</span><span class="op">)</span></span>
<span><span class="va">piecewise_run_final</span> <span class="op">&lt;-</span> <span class="fu">run_simulation</span><span class="op">(</span>steps <span class="op">=</span> <span class="fl">1500</span>, state <span class="op">=</span> <span class="va">piecewise_run_initial</span><span class="op">$</span><span class="va">state</span>, restore_random_state <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">piecewise_run</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">piecewise_run_initial</span><span class="op">$</span><span class="va">result</span>, <span class="va">piecewise_run_final</span><span class="op">$</span><span class="va">result</span><span class="op">[</span><span class="fl">500</span><span class="op">:</span><span class="fl">1500</span>,<span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/all.equal.html" class="external-link">all.equal</a></span><span class="op">(</span><span class="va">uninterrupted_run</span>, <span class="va">piecewise_run</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Component \"S_count\": Mean relative difference: 0.04402941"</span></span>
<span><span class="co">#&gt; [2] "Component \"I_count\": Mean relative difference: 0.2614258" </span></span>
<span><span class="co">#&gt; [3] "Component \"R_count\": Mean relative difference: 0.2688014"</span></span></code></pre></div>
<p>Using <code>restore_random_state = TRUE</code> resets the global
random number generator’s state, which could have surprising and
undesirable side effects. It is generally useful in tests, but should be
used carefully elsewhere.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">.GlobalEnv</span><span class="op">$</span><span class="va">.Random.seed</span><span class="op">)</span></span>
<span><span class="co">#&gt;   [1]       10403         624  -983674937   643431772  1162448557  -959247990</span></span>
<span><span class="co">#&gt;   [7]  -133913213  2107846888   370274761 -2022780170  -412390145   848182068</span></span>
<span><span class="co">#&gt;  [13]  -266662747 -1309507294  1356997179  1661823040  1749531457  -516669426</span></span>
<span><span class="co">#&gt;  [19]  1042678071 -1279933428  -410084963  1151007674  -895613453  1288379032</span></span>
<span><span class="co">#&gt;  [25]  -376044615 -1358274522   307686511   101447652  1796216213 -1567696558</span></span>
<span><span class="co">#&gt;  [31]  1186934955 -1925339152  -472470735    80319294 -1524429145   326645436</span></span>
<span><span class="co">#&gt;  [37]  -389586803  -400786966  -890731933  -852332472  1365217705 -1785317034</span></span>
<span><span class="co">#&gt;  [43] -1551153185  1359863956  2098748037 -1013039742  -329721061 -1587358816</span></span>
<span><span class="co">#&gt;  [49]   344102689 -1520389522   166492183  1821136236  1646453629  1056605210</span></span>
<span><span class="co">#&gt;  [55] -1419044141  -806080008   520985497   711286406  2004844367 -1445006012</span></span>
<span><span class="co">#&gt;  [61]  1329781621 -1188844110 -1089068661  1173875536 -1983217903   514629022</span></span>
<span><span class="co">#&gt;  [67]  -237421177  -258138084  -930078099   261626442  1349308227 -1125425240</span></span>
<span><span class="co">#&gt;  [73] -1677778551    25874358   409637567 -1987430924  1583257701  -136173086</span></span>
<span><span class="co">#&gt;  [79]   639501307   272101120 -1024630015 -1994369842  -939499785 -1944742196</span></span>
<span><span class="co">#&gt;  [85]  -591520419 -1994900358  1072996275  1119025496  2035491705 -2082894618</span></span>
<span><span class="co">#&gt;  [91]   776176175   -69557596  1794806101  -178474478  -497581461   874372784</span></span>
<span><span class="co">#&gt;  [97]   518669041  -370223106  1295572071 -1776240260 -1692674995  1935534762</span></span>
<span><span class="co">#&gt; [103]   298421283   111542024 -1075273367   518297110  -289321569  1331379028</span></span>
<span><span class="co">#&gt; [109]  1768277573  1473660482  2120850651   879016544  -864018719  1661675310</span></span>
<span><span class="co">#&gt; [115]   135902679 -2136373204   735594301  1594631386  -546138989  1423929528</span></span>
<span><span class="co">#&gt; [121] -1067541671  1962863430 -1923418865  -984154108  1907308341   642901618</span></span>
<span><span class="co">#&gt; [127] -1095019701 -1836613104 -1171392815  1663582814 -1258689721 -2007301412</span></span>
<span><span class="co">#&gt; [133]  -756910547  -712643830 -1271482109  -801485208    51646793 -1925477258</span></span>
<span><span class="co">#&gt; [139] -1421379457  1104736436 -1348082651  -124611934   292791739  2126591424</span></span>
<span><span class="co">#&gt; [145] -2043491647  -709285490 -1242530633  1688217996  -538353379 -1997652678</span></span>
<span><span class="co">#&gt; [151]   -48432781   575772696   942146361    57506214  -948054033   -72610460</span></span>
<span><span class="co">#&gt; [157]  1389939989   656100050   -25586645 -2012424848  1854773937  1391516862</span></span>
<span><span class="co">#&gt; [163] -2100008409  -140248004 -1638135795 -2077746326  -118729245 -1417654840</span></span>
<span><span class="co">#&gt; [169]   662270249   942125782 -1363864737   744183316  2123821573   -80802046</span></span>
<span><span class="co">#&gt; [175] -1753997669  1277518112  1090348705  1338137582   423408535   -28214548</span></span>
<span><span class="co">#&gt; [181]  1164536573  1524008346   673959507   853634936 -1599644903 -2135083002</span></span>
<span><span class="co">#&gt; [187]  -345756977 -1070478652   971985653  -556736718  -406174453   663083216</span></span>
<span><span class="co">#&gt; [193]  1258368657  1306568478  1820350727 -1068259940  -402617875  1499233226</span></span>
<span><span class="co">#&gt; [199] -1121819965 -1773142744  1796260105  1463879990   901914175   104491892</span></span>
<span><span class="co">#&gt; [205]  1605431269 -1933329566  1688405883  -446088064  1238889089   197049934</span></span>
<span><span class="co">#&gt; [211]  -709469577 -1072333748  1691378909 -1260585478   198644531  2053568216</span></span>
<span><span class="co">#&gt; [217]   903127801 -1970919834  -473567825  1614821412 -1905604395  1082827666</span></span>
<span><span class="co">#&gt; [223]  1558537707  1875545136  1518383729 -1265655426 -2085242905  1791098620</span></span>
<span><span class="co">#&gt; [229]  1447558093 -1153758166   -99557469   -92185464 -2016280343  1847562134</span></span>
<span><span class="co">#&gt; [235]  1495701791  -221368108   409722309  -429353022  1765302363  2137311200</span></span>
<span><span class="co">#&gt; [241]  -373658015   273043630  -350916265  -935055956    43404989    52012634</span></span>
<span><span class="co">#&gt; [247]  1867958291  1488596536 -1347953959   174081222  2002460815  1429165444</span></span>
<span><span class="co">#&gt; [253]  -205312331  1264621554  -603785525  1270017936 -1543231919 -1282028578</span></span>
<span><span class="co">#&gt; [259]   908887751   726075484  1269456301 -1680094070  -990917501 -1377014808</span></span>
<span><span class="co">#&gt; [265] -1279971127  1281050102   228230143  1097770548 -1438663771  1295361058</span></span>
<span><span class="co">#&gt; [271]   829172027   988808000  1704778305   804328206 -1257113545  -516583668</span></span>
<span><span class="co">#&gt; [277] -1624037219  1034190522   904064243 -1716316776  1108935353   904106790</span></span>
<span><span class="co">#&gt; [283]  1222361967  1146561252  1232110741   174767186  2136668075 -1843985680</span></span>
<span><span class="co">#&gt; [289]   713263665  1133192766  1302119847  -499465796  -425742451  2035727594</span></span>
<span><span class="co">#&gt; [295]  1324820835  -227988664 -1598926679   227290198   601218783  1836305300</span></span>
<span><span class="co">#&gt; [301]  1386514821   306372738  -445226469   618852000   -25741791   156697966</span></span>
<span><span class="co">#&gt; [307]  -345772265 -2126405524  1998516861  -392853734  1588822483  1965665528</span></span>
<span><span class="co">#&gt; [313] -1658840423 -1901588090  -687876529   -15753148 -1427453323 -1799286606</span></span>
<span><span class="co">#&gt; [319]   -47880053    97437264  -319365615   688369822  -272731001   469052188</span></span>
<span><span class="co">#&gt; [325]    27259245  1573117258  -446761405  1976539816  2093047945   424297142</span></span>
<span><span class="co">#&gt; [331]  1217440191   506831092 -1961736347 -1834464030  1234111227   907381248</span></span>
<span><span class="co">#&gt; [337]  -247365119   118499278 -1581033993  -893361716 -2100188067   335855482</span></span>
<span><span class="co">#&gt; [343]    83920563 -1896483752  -323673479  -498745370  2088720687 -2102342236</span></span>
<span><span class="co">#&gt; [349]  1873412181   226202898 -1483060885  1437743536  -430562831  -190616834</span></span>
<span><span class="co">#&gt; [355] -1639345305   281953404   857940813  -549769814  -245419229  1375189512</span></span>
<span><span class="co">#&gt; [361]  -237346711   590186774    75687071   655107668   151057733   930998594</span></span>
<span><span class="co">#&gt; [367] -1108466725  1398789472  1995685345  1605663278  1206398167 -1945513172</span></span>
<span><span class="co">#&gt; [373]  1992513085  1544169434  1610742675  -152048712  -657450407  1247059526</span></span>
<span><span class="co">#&gt; [379]  1880247311  -124605692   723920437 -1548596878  1827773003   479812880</span></span>
<span><span class="co">#&gt; [385]   228152785    49698142   922100295 -1524757028  -845069011   534031882</span></span>
<span><span class="co">#&gt; [391]  -131080189   213485928   636833865   718143350 -1134260353 -2024842316</span></span>
<span><span class="co">#&gt; [397] -1108831451  1977333154  1053535419  1301926080  -997856831   366738574</span></span>
<span><span class="co">#&gt; [403] -1450544201  1064694924 -1016336355  -390217670 -1024466829   686789400</span></span>
<span><span class="co">#&gt; [409] -2056715719   745319590  -999248145 -1240647580 -1395180523 -1837290030</span></span>
<span><span class="co">#&gt; [415]  -681354453  -514051984  1438153137  2090364862  -209968857  1765574460</span></span>
<span><span class="co">#&gt; [421]  -544057587  -844603798 -1693909789 -1746073400 -1156960215  2076419542</span></span>
<span><span class="co">#&gt; [427] -1326601633  1784103188  -683597563  -824593918  1683989915  -509903840</span></span>
<span><span class="co">#&gt; [433]   183502241  -132206866  -295556457   190629356 -1790739971  1849133210</span></span>
<span><span class="co">#&gt; [439] -1660799661   214755960 -1837639143   975563526  1750237647  1014527428</span></span>
<span><span class="co">#&gt; [445]     3490293   552878642   220695563   382907344 -1381266031  1445050910</span></span>
<span><span class="co">#&gt; [451]  1771278343 -1719553892   862869741   583941834 -1759344189  1365915688</span></span>
<span><span class="co">#&gt; [457]  -820969463 -1381598154   -19516097   662427252 -1098735899  -812655006</span></span>
<span><span class="co">#&gt; [463]  1658982011 -1203972224  1999245697 -1592487602 -1708699273 -1038727348</span></span>
<span><span class="co">#&gt; [469]  -725486627   747602170  2037447219  -161484328   469017081  1897421158</span></span>
<span><span class="co">#&gt; [475]   644859055   959210276  1824012245 -1573943662  -797561621   466937648</span></span>
<span><span class="co">#&gt; [481]     6984049  1344943230 -1963692313   507873788  1336756941  -446804182</span></span>
<span><span class="co">#&gt; [487]  -978024797    50927496   -66994199 -1542552938 -1630130145  1108679636</span></span>
<span><span class="co">#&gt; [493]   421858501   286669506   176875355  1716904672   841747809  2002101166</span></span>
<span><span class="co">#&gt; [499] -1936594857  -503678804   643784125  -270685862    -9162989 -1518294728</span></span>
<span><span class="co">#&gt; [505] -1177069095   450623430 -1518307441 -2055143292  1977097653  1967586034</span></span>
<span><span class="co">#&gt; [511]  2139569611   993708688   887981393  -146153762 -1521041977 -1948249252</span></span>
<span><span class="co">#&gt; [517]  1992764589  1735430026   469169027  -492722456  1473540041 -1902921482</span></span>
<span><span class="co">#&gt; [523]  1705351935  1769673012  -929011035   948225826  -946720709  1824431680</span></span>
<span><span class="co">#&gt; [529]  1626208577 -1384520178    22671159 -1788782068  -359417955   272236986</span></span>
<span><span class="co">#&gt; [535]  -230435853  1174868120 -2145910343  -855063002  1748802159   651054564</span></span>
<span><span class="co">#&gt; [541]  -619908203    89300818   345161387 -1411621392   774662449 -1541883586</span></span>
<span><span class="co">#&gt; [547]  1651670183   581520572 -1489764723 -2028142614 -1423847325 -1844713912</span></span>
<span><span class="co">#&gt; [553]  1954615209  -389144746    66876895  2030417556  -361973627  -151813246</span></span>
<span><span class="co">#&gt; [559] -1573918437   944703904   610784545  1108957294 -1875417577 -1297945748</span></span>
<span><span class="co">#&gt; [565]  1037500797  1908181530   823650515  1875585016   -22111847  1765196934</span></span>
<span><span class="co">#&gt; [571]  -849597105  1315720004 -1748059787  -915770446   634433419 -1869504176</span></span>
<span><span class="co">#&gt; [577]  -887145199  2066662302  -939545721  -822528484 -1687437203 -1367629750</span></span>
<span><span class="co">#&gt; [583] -1603461821   522180008  1610588041  2052437430   110280895  2014120948</span></span>
<span><span class="co">#&gt; [589]  -670960027   159018978  1050415611   568272128 -1718509311    -3409202</span></span>
<span><span class="co">#&gt; [595]   753028343 -1139331892  -123651235 -2072165766 -1222087245   648343384</span></span>
<span><span class="co">#&gt; [601]  1100161401   486404838   261566511  1504901284  -476745899  1151760402</span></span>
<span><span class="co">#&gt; [607]  -445050773  -130902864  -423755535  1831075326   934693479   690474876</span></span>
<span><span class="co">#&gt; [613]  -907644339  -744197974  1158732323    62223624 -1538777239  1455586326</span></span>
<span><span class="co">#&gt; [619]  -702514273 -1712778924   651699269   959548482  -586241317  1850142816</span></span>
<span><span class="co">#&gt; [625]  -647799583  2099891502</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu">run_simulation</span><span class="op">(</span>steps<span class="op">=</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; $result</span></span>
<span><span class="co">#&gt;   timestep S_count I_count R_count</span></span>
<span><span class="co">#&gt; 1        1     995       5       0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $state</span></span>
<span><span class="co">#&gt; $state$variables</span></span>
<span><span class="co">#&gt; $state$variables$health</span></span>
<span><span class="co">#&gt; $state$variables$health$S</span></span>
<span><span class="co">#&gt;   [1]    1    2    3    4    5    6    7    8    9   10   11   12   13   14   15</span></span>
<span><span class="co">#&gt;  [16]   16   17   18   19   20   21   22   23   24   25   26   27   28   29   30</span></span>
<span><span class="co">#&gt;  [31]   31   32   33   34   35   36   37   38   39   40   41   42   43   44   45</span></span>
<span><span class="co">#&gt;  [46]   46   47   48   49   50   51   52   53   54   55   56   57   58   59   60</span></span>
<span><span class="co">#&gt;  [61]   61   62   63   64   65   66   67   68   69   70   71   72   73   74   75</span></span>
<span><span class="co">#&gt;  [76]   76   77   78   79   80   81   82   83   84   85   86   87   88   89   90</span></span>
<span><span class="co">#&gt;  [91]   91   92   93   94   95   96   97   98   99  100  101  102  103  104  105</span></span>
<span><span class="co">#&gt; [106]  106  107  108  109  110  111  112  113  114  115  116  117  118  119  120</span></span>
<span><span class="co">#&gt; [121]  121  122  123  124  125  126  127  128  129  130  131  132  133  134  135</span></span>
<span><span class="co">#&gt; [136]  136  137  138  139  140  141  142  143  144  145  146  147  148  149  150</span></span>
<span><span class="co">#&gt; [151]  151  152  153  154  155  156  157  158  159  160  161  162  163  164  165</span></span>
<span><span class="co">#&gt; [166]  166  167  168  169  170  171  172  173  174  175  176  177  178  180  181</span></span>
<span><span class="co">#&gt; [181]  182  183  184  185  186  187  188  189  190  191  192  193  194  196  197</span></span>
<span><span class="co">#&gt; [196]  198  199  200  201  202  203  204  205  206  207  208  209  210  211  212</span></span>
<span><span class="co">#&gt; [211]  213  214  215  216  217  218  219  220  221  222  223  224  225  226  227</span></span>
<span><span class="co">#&gt; [226]  228  229  230  231  232  233  234  235  236  237  238  239  240  241  242</span></span>
<span><span class="co">#&gt; [241]  243  244  245  246  247  248  249  250  251  252  253  254  255  256  257</span></span>
<span><span class="co">#&gt; [256]  258  259  260  261  262  263  264  265  266  267  268  269  270  271  272</span></span>
<span><span class="co">#&gt; [271]  273  274  275  276  277  278  279  280  281  282  283  284  285  286  287</span></span>
<span><span class="co">#&gt; [286]  288  289  290  291  292  293  294  295  296  297  298  299  300  301  302</span></span>
<span><span class="co">#&gt; [301]  303  304  305  306  307  308  309  310  311  312  313  314  315  316  317</span></span>
<span><span class="co">#&gt; [316]  318  319  320  321  322  323  324  325  326  327  328  329  330  331  332</span></span>
<span><span class="co">#&gt; [331]  333  334  335  336  337  338  339  340  341  342  343  344  345  346  347</span></span>
<span><span class="co">#&gt; [346]  348  349  350  351  352  353  354  355  356  357  358  359  360  361  362</span></span>
<span><span class="co">#&gt; [361]  363  364  365  366  367  368  369  370  371  372  373  374  375  376  377</span></span>
<span><span class="co">#&gt; [376]  378  379  380  381  382  383  384  385  386  387  388  389  390  391  392</span></span>
<span><span class="co">#&gt; [391]  393  394  395  396  397  398  399  400  401  402  403  404  405  406  407</span></span>
<span><span class="co">#&gt; [406]  408  409  410  411  412  413  414  416  417  418  419  420  421  422  423</span></span>
<span><span class="co">#&gt; [421]  424  425  426  427  428  429  430  431  432  433  434  435  436  437  438</span></span>
<span><span class="co">#&gt; [436]  439  440  441  442  443  444  445  446  447  448  449  450  451  452  453</span></span>
<span><span class="co">#&gt; [451]  454  455  456  457  458  459  460  461  462  464  465  466  467  468  469</span></span>
<span><span class="co">#&gt; [466]  470  471  472  473  474  475  476  477  478  479  480  481  482  483  484</span></span>
<span><span class="co">#&gt; [481]  485  486  487  488  489  490  491  492  493  494  495  496  497  498  499</span></span>
<span><span class="co">#&gt; [496]  500  501  502  503  504  505  506  507  508  509  510  511  512  513  514</span></span>
<span><span class="co">#&gt; [511]  515  516  517  518  519  520  521  522  523  524  525  527  528  529  530</span></span>
<span><span class="co">#&gt; [526]  531  532  533  534  535  536  537  538  539  540  541  542  543  544  545</span></span>
<span><span class="co">#&gt; [541]  546  547  548  549  550  551  552  553  554  555  556  557  558  559  560</span></span>
<span><span class="co">#&gt; [556]  561  562  563  564  565  566  567  568  569  570  571  572  573  574  575</span></span>
<span><span class="co">#&gt; [571]  576  577  578  579  580  581  582  583  584  585  586  587  588  589  590</span></span>
<span><span class="co">#&gt; [586]  591  592  593  594  595  596  597  598  599  600  601  602  603  604  605</span></span>
<span><span class="co">#&gt; [601]  606  607  608  609  610  611  612  613  614  615  616  617  618  619  620</span></span>
<span><span class="co">#&gt; [616]  621  622  623  624  625  626  627  628  629  630  631  632  633  634  635</span></span>
<span><span class="co">#&gt; [631]  636  637  638  639  640  641  642  643  644  645  646  647  648  649  650</span></span>
<span><span class="co">#&gt; [646]  651  652  653  654  655  656  657  658  659  660  661  662  663  664  665</span></span>
<span><span class="co">#&gt; [661]  666  667  668  669  670  671  672  673  674  675  676  677  678  679  680</span></span>
<span><span class="co">#&gt; [676]  681  682  683  684  685  686  687  688  689  690  691  692  693  694  695</span></span>
<span><span class="co">#&gt; [691]  696  697  698  699  700  701  702  703  704  705  706  707  708  709  710</span></span>
<span><span class="co">#&gt; [706]  711  712  713  714  715  716  717  718  719  720  721  722  723  724  725</span></span>
<span><span class="co">#&gt; [721]  726  727  728  729  730  731  732  733  734  735  736  737  738  739  740</span></span>
<span><span class="co">#&gt; [736]  741  742  743  744  745  746  747  748  749  750  751  752  753  754  755</span></span>
<span><span class="co">#&gt; [751]  756  757  758  759  760  761  762  763  764  765  766  767  768  769  770</span></span>
<span><span class="co">#&gt; [766]  771  772  773  774  775  776  777  778  779  780  781  782  783  784  785</span></span>
<span><span class="co">#&gt; [781]  786  787  788  789  790  791  792  793  794  795  796  797  798  799  800</span></span>
<span><span class="co">#&gt; [796]  801  802  803  804  805  806  807  808  809  810  811  812  813  814  815</span></span>
<span><span class="co">#&gt; [811]  816  817  818  819  820  821  822  823  824  825  826  827  828  829  830</span></span>
<span><span class="co">#&gt; [826]  831  832  833  834  835  836  837  838  839  840  841  842  843  844  845</span></span>
<span><span class="co">#&gt; [841]  846  847  848  849  850  851  852  853  854  855  856  857  858  859  860</span></span>
<span><span class="co">#&gt; [856]  861  862  863  864  865  866  867  868  869  870  871  872  873  874  875</span></span>
<span><span class="co">#&gt; [871]  876  877  878  879  880  881  882  883  884  885  886  887  888  889  890</span></span>
<span><span class="co">#&gt; [886]  891  892  893  894  895  896  897  898  899  900  901  902  903  904  905</span></span>
<span><span class="co">#&gt; [901]  906  907  908  909  910  911  912  913  914  915  916  917  918  919  920</span></span>
<span><span class="co">#&gt; [916]  921  922  923  924  925  926  927  928  929  930  931  932  933  934  935</span></span>
<span><span class="co">#&gt; [931]  936  937  938  939  940  941  942  943  944  945  946  947  948  949  950</span></span>
<span><span class="co">#&gt; [946]  951  952  953  954  955  956  957  958  959  960  961  962  963  964  965</span></span>
<span><span class="co">#&gt; [961]  966  967  968  969  970  971  972  973  974  975  976  977  978  979  980</span></span>
<span><span class="co">#&gt; [976]  981  982  983  984  985  986  987  988  989  990  991  992  993  994  995</span></span>
<span><span class="co">#&gt; [991]  996  997  998  999 1000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $state$variables$health$I</span></span>
<span><span class="co">#&gt; [1] 179 195 415 463 526</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $state$variables$health$R</span></span>
<span><span class="co">#&gt; numeric(0)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $state$variables$vaccinated</span></span>
<span><span class="co">#&gt; $state$variables$vaccinated$Y</span></span>
<span><span class="co">#&gt; numeric(0)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $state$variables$vaccinated$N</span></span>
<span><span class="co">#&gt;    [1]    1    2    3    4    5    6    7    8    9   10   11   12   13   14</span></span>
<span><span class="co">#&gt;   [15]   15   16   17   18   19   20   21   22   23   24   25   26   27   28</span></span>
<span><span class="co">#&gt;   [29]   29   30   31   32   33   34   35   36   37   38   39   40   41   42</span></span>
<span><span class="co">#&gt;   [43]   43   44   45   46   47   48   49   50   51   52   53   54   55   56</span></span>
<span><span class="co">#&gt;   [57]   57   58   59   60   61   62   63   64   65   66   67   68   69   70</span></span>
<span><span class="co">#&gt;   [71]   71   72   73   74   75   76   77   78   79   80   81   82   83   84</span></span>
<span><span class="co">#&gt;   [85]   85   86   87   88   89   90   91   92   93   94   95   96   97   98</span></span>
<span><span class="co">#&gt;   [99]   99  100  101  102  103  104  105  106  107  108  109  110  111  112</span></span>
<span><span class="co">#&gt;  [113]  113  114  115  116  117  118  119  120  121  122  123  124  125  126</span></span>
<span><span class="co">#&gt;  [127]  127  128  129  130  131  132  133  134  135  136  137  138  139  140</span></span>
<span><span class="co">#&gt;  [141]  141  142  143  144  145  146  147  148  149  150  151  152  153  154</span></span>
<span><span class="co">#&gt;  [155]  155  156  157  158  159  160  161  162  163  164  165  166  167  168</span></span>
<span><span class="co">#&gt;  [169]  169  170  171  172  173  174  175  176  177  178  179  180  181  182</span></span>
<span><span class="co">#&gt;  [183]  183  184  185  186  187  188  189  190  191  192  193  194  195  196</span></span>
<span><span class="co">#&gt;  [197]  197  198  199  200  201  202  203  204  205  206  207  208  209  210</span></span>
<span><span class="co">#&gt;  [211]  211  212  213  214  215  216  217  218  219  220  221  222  223  224</span></span>
<span><span class="co">#&gt;  [225]  225  226  227  228  229  230  231  232  233  234  235  236  237  238</span></span>
<span><span class="co">#&gt;  [239]  239  240  241  242  243  244  245  246  247  248  249  250  251  252</span></span>
<span><span class="co">#&gt;  [253]  253  254  255  256  257  258  259  260  261  262  263  264  265  266</span></span>
<span><span class="co">#&gt;  [267]  267  268  269  270  271  272  273  274  275  276  277  278  279  280</span></span>
<span><span class="co">#&gt;  [281]  281  282  283  284  285  286  287  288  289  290  291  292  293  294</span></span>
<span><span class="co">#&gt;  [295]  295  296  297  298  299  300  301  302  303  304  305  306  307  308</span></span>
<span><span class="co">#&gt;  [309]  309  310  311  312  313  314  315  316  317  318  319  320  321  322</span></span>
<span><span class="co">#&gt;  [323]  323  324  325  326  327  328  329  330  331  332  333  334  335  336</span></span>
<span><span class="co">#&gt;  [337]  337  338  339  340  341  342  343  344  345  346  347  348  349  350</span></span>
<span><span class="co">#&gt;  [351]  351  352  353  354  355  356  357  358  359  360  361  362  363  364</span></span>
<span><span class="co">#&gt;  [365]  365  366  367  368  369  370  371  372  373  374  375  376  377  378</span></span>
<span><span class="co">#&gt;  [379]  379  380  381  382  383  384  385  386  387  388  389  390  391  392</span></span>
<span><span class="co">#&gt;  [393]  393  394  395  396  397  398  399  400  401  402  403  404  405  406</span></span>
<span><span class="co">#&gt;  [407]  407  408  409  410  411  412  413  414  415  416  417  418  419  420</span></span>
<span><span class="co">#&gt;  [421]  421  422  423  424  425  426  427  428  429  430  431  432  433  434</span></span>
<span><span class="co">#&gt;  [435]  435  436  437  438  439  440  441  442  443  444  445  446  447  448</span></span>
<span><span class="co">#&gt;  [449]  449  450  451  452  453  454  455  456  457  458  459  460  461  462</span></span>
<span><span class="co">#&gt;  [463]  463  464  465  466  467  468  469  470  471  472  473  474  475  476</span></span>
<span><span class="co">#&gt;  [477]  477  478  479  480  481  482  483  484  485  486  487  488  489  490</span></span>
<span><span class="co">#&gt;  [491]  491  492  493  494  495  496  497  498  499  500  501  502  503  504</span></span>
<span><span class="co">#&gt;  [505]  505  506  507  508  509  510  511  512  513  514  515  516  517  518</span></span>
<span><span class="co">#&gt;  [519]  519  520  521  522  523  524  525  526  527  528  529  530  531  532</span></span>
<span><span class="co">#&gt;  [533]  533  534  535  536  537  538  539  540  541  542  543  544  545  546</span></span>
<span><span class="co">#&gt;  [547]  547  548  549  550  551  552  553  554  555  556  557  558  559  560</span></span>
<span><span class="co">#&gt;  [561]  561  562  563  564  565  566  567  568  569  570  571  572  573  574</span></span>
<span><span class="co">#&gt;  [575]  575  576  577  578  579  580  581  582  583  584  585  586  587  588</span></span>
<span><span class="co">#&gt;  [589]  589  590  591  592  593  594  595  596  597  598  599  600  601  602</span></span>
<span><span class="co">#&gt;  [603]  603  604  605  606  607  608  609  610  611  612  613  614  615  616</span></span>
<span><span class="co">#&gt;  [617]  617  618  619  620  621  622  623  624  625  626  627  628  629  630</span></span>
<span><span class="co">#&gt;  [631]  631  632  633  634  635  636  637  638  639  640  641  642  643  644</span></span>
<span><span class="co">#&gt;  [645]  645  646  647  648  649  650  651  652  653  654  655  656  657  658</span></span>
<span><span class="co">#&gt;  [659]  659  660  661  662  663  664  665  666  667  668  669  670  671  672</span></span>
<span><span class="co">#&gt;  [673]  673  674  675  676  677  678  679  680  681  682  683  684  685  686</span></span>
<span><span class="co">#&gt;  [687]  687  688  689  690  691  692  693  694  695  696  697  698  699  700</span></span>
<span><span class="co">#&gt;  [701]  701  702  703  704  705  706  707  708  709  710  711  712  713  714</span></span>
<span><span class="co">#&gt;  [715]  715  716  717  718  719  720  721  722  723  724  725  726  727  728</span></span>
<span><span class="co">#&gt;  [729]  729  730  731  732  733  734  735  736  737  738  739  740  741  742</span></span>
<span><span class="co">#&gt;  [743]  743  744  745  746  747  748  749  750  751  752  753  754  755  756</span></span>
<span><span class="co">#&gt;  [757]  757  758  759  760  761  762  763  764  765  766  767  768  769  770</span></span>
<span><span class="co">#&gt;  [771]  771  772  773  774  775  776  777  778  779  780  781  782  783  784</span></span>
<span><span class="co">#&gt;  [785]  785  786  787  788  789  790  791  792  793  794  795  796  797  798</span></span>
<span><span class="co">#&gt;  [799]  799  800  801  802  803  804  805  806  807  808  809  810  811  812</span></span>
<span><span class="co">#&gt;  [813]  813  814  815  816  817  818  819  820  821  822  823  824  825  826</span></span>
<span><span class="co">#&gt;  [827]  827  828  829  830  831  832  833  834  835  836  837  838  839  840</span></span>
<span><span class="co">#&gt;  [841]  841  842  843  844  845  846  847  848  849  850  851  852  853  854</span></span>
<span><span class="co">#&gt;  [855]  855  856  857  858  859  860  861  862  863  864  865  866  867  868</span></span>
<span><span class="co">#&gt;  [869]  869  870  871  872  873  874  875  876  877  878  879  880  881  882</span></span>
<span><span class="co">#&gt;  [883]  883  884  885  886  887  888  889  890  891  892  893  894  895  896</span></span>
<span><span class="co">#&gt;  [897]  897  898  899  900  901  902  903  904  905  906  907  908  909  910</span></span>
<span><span class="co">#&gt;  [911]  911  912  913  914  915  916  917  918  919  920  921  922  923  924</span></span>
<span><span class="co">#&gt;  [925]  925  926  927  928  929  930  931  932  933  934  935  936  937  938</span></span>
<span><span class="co">#&gt;  [939]  939  940  941  942  943  944  945  946  947  948  949  950  951  952</span></span>
<span><span class="co">#&gt;  [953]  953  954  955  956  957  958  959  960  961  962  963  964  965  966</span></span>
<span><span class="co">#&gt;  [967]  967  968  969  970  971  972  973  974  975  976  977  978  979  980</span></span>
<span><span class="co">#&gt;  [981]  981  982  983  984  985  986  987  988  989  990  991  992  993  994</span></span>
<span><span class="co">#&gt;  [995]  995  996  997  998  999 1000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $state$events</span></span>
<span><span class="co">#&gt; $state$events[[1]]</span></span>
<span><span class="co">#&gt; numeric(0)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $state$timesteps</span></span>
<span><span class="co">#&gt; [1] 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $state$random_state</span></span>
<span><span class="co">#&gt;   [1]       10403         383  -796932068  -682434464   452692699  1372616384</span></span>
<span><span class="co">#&gt;   [7]  2122566279  1754612477 -1696096394  1543550589  -540038454 -1080627994</span></span>
<span><span class="co">#&gt;  [13]  -281718463  1257473838  1639463465 -1919805401  1544218856  -689047761</span></span>
<span><span class="co">#&gt;  [19]  -112028424    72441044   904674959   398137172 -1604103117  1662952817</span></span>
<span><span class="co">#&gt;  [25]   703009978   891005137   472722174  2060504002  -904182243  1466860282</span></span>
<span><span class="co">#&gt;  [31]    44336285  -855964061   544555300 -1818366981 -1792991292   130133480</span></span>
<span><span class="co">#&gt;  [37]  1429741075  1832565464  -526242833 -1966623995 -1134648562  2040396389</span></span>
<span><span class="co">#&gt;  [43]   -41452270   582634654   596040377   576464646  1716203233  2108293231</span></span>
<span><span class="co">#&gt;  [49]  1567240048  1633083015 -1149010512 -1209243540 -1470969449  -512900644</span></span>
<span><span class="co">#&gt;  [55] -1858481493  -699586935   175999138   557821065  -957868714   771074771</span></span>
<span><span class="co">#&gt;  [61]   556326913 -1657916876 -1401872106   177997584  2029958978  1108393851</span></span>
<span><span class="co">#&gt;  [67] -1127330535  1725085757    54607099 -1770341326  -833026136  -765229310</span></span>
<span><span class="co">#&gt;  [73]  1866513276   952506153 -1292929301 -1831519225 -1238808019  -737954800</span></span>
<span><span class="co">#&gt;  [79] -1891892974  1455197956  1715602206  1505832015 -1942479339  -659585215</span></span>
<span><span class="co">#&gt;  [85]  1361740407 -1323117346 -1733802156  1999221430   219543688  1855343933</span></span>
<span><span class="co">#&gt;  [91]  1293498551 -1761104453  -981694407   566611212  -435879538   829622728</span></span>
<span><span class="co">#&gt;  [97]  2073640346 -1385965725 -2145392175     2847749   545094979  -242919430</span></span>
<span><span class="co">#&gt; [103]   184030704   301516170 -1261275596 -1761349311    31368867  1871740559</span></span>
<span><span class="co">#&gt; [109]   443939173   -62789880  2037615402 -1563131876  -917929578  -899284713</span></span>
<span><span class="co">#&gt; [115] -1881529875   770388073   602644831   139002630 -1676982180   510786526</span></span>
<span><span class="co">#&gt; [121]   497062976   466302901   373971823 -1365398877 -1334531727  1260971108</span></span>
<span><span class="co">#&gt; [127]  -690485978 -1253894304   926225586 -1106848885  1146619593 -1254055699</span></span>
<span><span class="co">#&gt; [133] -1641292693 -1730873918   495590360  1204322354 -1305255732  1951291705</span></span>
<span><span class="co">#&gt; [139] -2024676997  1285769239  -445560707  -594617696 -1621966046   554521620</span></span>
<span><span class="co">#&gt; [145] -1267467058  1374115551 -1014247483   575503825  1632649863  1497850446</span></span>
<span><span class="co">#&gt; [151] -1175424572  1864339622  -537320072 -1026745843  2059734247   371988427</span></span>
<span><span class="co">#&gt; [157] -1890277463  -879729860 -1074318882 -1839405864 -1551356086  1103531571</span></span>
<span><span class="co">#&gt; [163] -1437338175  -941574347  1037599283   -92752310   -60379616 -1050993670</span></span>
<span><span class="co">#&gt; [169] -1462137276 -1212818927   581459059  1730514463  -701844491  1150596376</span></span>
<span><span class="co">#&gt; [175]  -411686470  -868183700  -999046266 -1404693401   641220957  -982342855</span></span>
<span><span class="co">#&gt; [181]  -631442513  2065739830    67373196   255022990  1921274352 -1182419515</span></span>
<span><span class="co">#&gt; [187]  -796074081   126398835  -853973343   264234324   345007350 -1404754256</span></span>
<span><span class="co">#&gt; [193]   909333218  -616831845 -1965366919  1313564637  1688299803  1990401554</span></span>
<span><span class="co">#&gt; [199]   958340488  1871348514  1189941340  -865498487  2064117899 -1430496729</span></span>
<span><span class="co">#&gt; [205] -1777662707  1280660848  1193798642   157747492   126866622   976535535</span></span>
<span><span class="co">#&gt; [211] -1393140107  -728624479 -1529287721   975052222  1011541428  1691960470</span></span>
<span><span class="co">#&gt; [217]   584638696  1480847773  -474914473   262909787 -1348426663  -804393428</span></span>
<span><span class="co">#&gt; [223]  -486291538 -1267506584 -1733455494  -790375037  1169497393  1749916069</span></span>
<span><span class="co">#&gt; [229]  1277286307 -1857335270  -512031728  1195123178  1808776852   176528033</span></span>
<span><span class="co">#&gt; [235]  2005842243 -1756050961  1377743173 -1843363480 -1825122038 -1851768068</span></span>
<span><span class="co">#&gt; [241]  1601652022  1398217207 -1329572595  1416688841   -33590145  -255337050</span></span>
<span><span class="co">#&gt; [247]  1280736060  1894377022    21299744  -872385963  2122088847  1051372611</span></span>
<span><span class="co">#&gt; [253]   619394193   621073412  1243086470 -2086439552  1074082386  1470375083</span></span>
<span><span class="co">#&gt; [259]  -724863831   291568397   -97389813 -1382578270  1637937336  1864475346</span></span>
<span><span class="co">#&gt; [265]  1413135532 -2104786279 -1095610469  -436971209  1265083741 -1446846976</span></span>
<span><span class="co">#&gt; [271]   984373378  1807855668  1442353006   934809727   264282021   443527345</span></span>
<span><span class="co">#&gt; [277]   820015463   -13197650 -1354756956  -675447930 -2132624040 -1294202643</span></span>
<span><span class="co">#&gt; [283] -1821698297  1378739435   279963721 -1699628196   323667271   769712924</span></span>
<span><span class="co">#&gt; [289] -1609741604  -448259680  1070824650  1730676811  1024462475 -1520345089</span></span>
<span><span class="co">#&gt; [295]   823540301   900658410 -1137023066  -719414098   -60060004   502694533</span></span>
<span><span class="co">#&gt; [301]  1414701649 -1388420151  -457699541  -498552400 -1698374168  -988843444</span></span>
<span><span class="co">#&gt; [307]   346078606  1792555903  1275495039  -353574229 -1724855127   344182502</span></span>
<span><span class="co">#&gt; [313] -1751710838  -764568942   592321768   770393873  1110010909   609266413</span></span>
<span><span class="co">#&gt; [319] -1880215649  -733494044   983822852 -2024536584  1868563810   375838227</span></span>
<span><span class="co">#&gt; [325]  -837620301  -835148617  1424154421  1754342050  -562993554   488940326</span></span>
<span><span class="co">#&gt; [331]  1341127956 -1191806579 -1997344295   107823409  1742482451  2054157320</span></span>
<span><span class="co">#&gt; [337]  -143866688  1854653012  -863696938 -1660353097 -1709867113  -261892109</span></span>
<span><span class="co">#&gt; [343]  1982187201   310996238   185948322 -1151921190  1738071728  1557655017</span></span>
<span><span class="co">#&gt; [349]  1588391669   941848389  -179183785 -1130089972   807579852 -1263237968</span></span>
<span><span class="co">#&gt; [355] -1853360934  1116267899 -1701001029   946852111  -965744291 -1748648038</span></span>
<span><span class="co">#&gt; [361]  -338810346   222401982  1113523916  -526879467  1690582465  -186174055</span></span>
<span><span class="co">#&gt; [367]  1161509051  -296047936 -1926765960   -52550404   671013950  -926913233</span></span>
<span><span class="co">#&gt; [373]   698701007  -765984357  1758130425  1363098998   805792122  -154960670</span></span>
<span><span class="co">#&gt; [379]  1241997528  -539069823 -1029974899  2140256093  1685047247 -1660078732</span></span>
<span><span class="co">#&gt; [385] -1809293868  -190722008 -2106254574 -1722043741  1921406339  -262330521</span></span>
<span><span class="co">#&gt; [391] -2111893083  1305412594  -900420802  -435880874 -1804415260  -905081859</span></span>
<span><span class="co">#&gt; [397]  -395301079  1572372577  1355812227 -1129642568  1447890032 -1611200028</span></span>
<span><span class="co">#&gt; [403]  -413427162  -427847481  -945473017   340933059  -477201551 -1808357698</span></span>
<span><span class="co">#&gt; [409]  1299972914   547301386   529555136  1886439161 -1084579067 -1512337259</span></span>
<span><span class="co">#&gt; [415]  1425807975 -1543449540  1241728700  1553706432 -1595869910  1303577515</span></span>
<span><span class="co">#&gt; [421] -1316554709  -714274337  1707036717  1340892874   226772422   161101902</span></span>
<span><span class="co">#&gt; [427]  1630564476  1866175973  -349776143   415292585  -909503349   -93606128</span></span>
<span><span class="co">#&gt; [433]   248165576   717998572   537861294  1465348191  1038909343 -1993726517</span></span>
<span><span class="co">#&gt; [439]  -416449079     -317306  1719975850  1448522034  1126432072  1008254577</span></span>
<span><span class="co">#&gt; [445]   776273533 -1153488819   319193791  -360319484  -773096988  -332673704</span></span>
<span><span class="co">#&gt; [451]  -979926462  -755990989  -734255085    72063959  1196926037 -2095447871</span></span>
<span><span class="co">#&gt; [457]  -481419972 -1098115587 -2133342766 -1153748601  1254035830   647657245</span></span>
<span><span class="co">#&gt; [463]   849474470 -1924324623  -171825416  -820806347  1334428934 -1193748529</span></span>
<span><span class="co">#&gt; [469]  1935695050  -804920239  -277141466   329470377   -62046788  1243235357</span></span>
<span><span class="co">#&gt; [475] -1152459830  -969390545 -1728411802    99327165 -1133422506  -132541167</span></span>
<span><span class="co">#&gt; [481]   303327528   490842557  1283259422 -1758354961  1062075738 -1405533311</span></span>
<span><span class="co">#&gt; [487] -1426471314  1670839169 -1106195540  2001005341  -956451438 -1334344521</span></span>
<span><span class="co">#&gt; [493]  -293287338  -749548611   626608358 -1119870383  -232300696  1522848437</span></span>
<span><span class="co">#&gt; [499] -1617042074  -526123633  1427275082   348793377  -426569290 -1628925015</span></span>
<span><span class="co">#&gt; [505] -1100531652  -695457715    11019850   624218047 -2107882058 -1736207315</span></span>
<span><span class="co">#&gt; [511] -1832255162  -437949471  -482745784  1326296580 -1995062374  1576706313</span></span>
<span><span class="co">#&gt; [517] -1509374567  1379167914  -662223872 -1732451943 -1994165303  1015839856</span></span>
<span><span class="co">#&gt; [523] -2065314078  1632845093  -751184951 -1454628718  -487117412  -359604619</span></span>
<span><span class="co">#&gt; [529] -1640147639  -678598012   419516282   688227489 -1624724095   658328354</span></span>
<span><span class="co">#&gt; [535]  -204936256 -1282691815 -1162649375 -1860430792  -765110750  1233044437</span></span>
<span><span class="co">#&gt; [541] -1861701487  1038001610 -1290663308 -1097280595  2030174193  -542245228</span></span>
<span><span class="co">#&gt; [547]  1497145130  -653639127 -1068945927  1441919066  -751462720  1851318377</span></span>
<span><span class="co">#&gt; [553] -1402688311  1584011680 -1351959598   355534789   787986393  2146109410</span></span>
<span><span class="co">#&gt; [559]   675769292  1586304901   156706633    54051924 -1601384054   958821713</span></span>
<span><span class="co">#&gt; [565]  2041719153  -114931230  1131335488   690159849 -1878428975  1584407224</span></span>
<span><span class="co">#&gt; [571] -1282086990  -484757707 -1174717487  1515557770 -1158958156   -66570355</span></span>
<span><span class="co">#&gt; [577]   187820513  -584849628    52605402 -1178682199  -230221287  -763043318</span></span>
<span><span class="co">#&gt; [583] -1253696544  2040204857  1232662153  -347872752   497502530  1669521125</span></span>
<span><span class="co">#&gt; [589]   514410441   264194418   568057916 -1833691307 -1595069911    61244196</span></span>
<span><span class="co">#&gt; [595]  1322642970   614021857 -1105428447  1218736066   832298016 -1882154311</span></span>
<span><span class="co">#&gt; [601]  -857056351  1948369912  -331746846 -1318695787 -1406505551   286471562</span></span>
<span><span class="co">#&gt; [607]  1943686644   546133421  2074920465  1550181396   144823178   644992969</span></span>
<span><span class="co">#&gt; [613] -2110300359  -760104550  1058455584 -1384209943 -1285573815 -1583680672</span></span>
<span><span class="co">#&gt; [619] -2115869806   758932869  -408855303 -1161123870   722317772  1375148421</span></span>
<span><span class="co">#&gt; [625] -1139955913  2028988813</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu">run_simulation</span><span class="op">(</span>steps<span class="op">=</span><span class="fl">10</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; $result</span></span>
<span><span class="co">#&gt;    timestep S_count I_count R_count</span></span>
<span><span class="co">#&gt; 1         1     995       5       0</span></span>
<span><span class="co">#&gt; 2         2     995       5       0</span></span>
<span><span class="co">#&gt; 3         3     995       5       0</span></span>
<span><span class="co">#&gt; 4         4     995       5       0</span></span>
<span><span class="co">#&gt; 5         5     994       5       1</span></span>
<span><span class="co">#&gt; 6         6     992       7       1</span></span>
<span><span class="co">#&gt; 7         7     992       6       2</span></span>
<span><span class="co">#&gt; 8         8     992       6       2</span></span>
<span><span class="co">#&gt; 9         9     989       9       2</span></span>
<span><span class="co">#&gt; 10       10     988      10       2</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $state</span></span>
<span><span class="co">#&gt; $state$variables</span></span>
<span><span class="co">#&gt; $state$variables$health</span></span>
<span><span class="co">#&gt; $state$variables$health$S</span></span>
<span><span class="co">#&gt;   [1]    1    2    3    4    5    6    7    8    9   10   11   12   13   14   15</span></span>
<span><span class="co">#&gt;  [16]   16   17   18   19   20   21   22   23   24   25   26   27   28   29   30</span></span>
<span><span class="co">#&gt;  [31]   31   32   33   34   35   36   37   38   39   40   41   42   43   44   45</span></span>
<span><span class="co">#&gt;  [46]   46   47   48   49   50   51   52   53   54   55   56   57   58   59   60</span></span>
<span><span class="co">#&gt;  [61]   61   62   63   64   65   66   67   68   69   70   71   72   73   74   75</span></span>
<span><span class="co">#&gt;  [76]   76   77   78   79   80   81   82   83   84   85   86   87   88   89   90</span></span>
<span><span class="co">#&gt;  [91]   91   92   93   94   95   96   97   98   99  100  101  102  103  104  105</span></span>
<span><span class="co">#&gt; [106]  106  107  108  109  110  111  112  113  114  115  116  117  118  119  120</span></span>
<span><span class="co">#&gt; [121]  121  122  123  124  125  126  127  128  129  130  131  132  133  134  135</span></span>
<span><span class="co">#&gt; [136]  136  137  138  139  140  141  142  143  144  145  146  147  148  149  150</span></span>
<span><span class="co">#&gt; [151]  151  152  153  154  155  156  157  158  159  160  161  162  163  164  165</span></span>
<span><span class="co">#&gt; [166]  166  167  168  169  170  171  172  173  174  175  176  177  178  180  181</span></span>
<span><span class="co">#&gt; [181]  182  183  184  185  186  187  188  190  191  192  193  194  196  197  198</span></span>
<span><span class="co">#&gt; [196]  199  200  201  202  203  204  205  206  207  208  209  210  211  212  213</span></span>
<span><span class="co">#&gt; [211]  214  215  216  217  218  219  220  221  222  223  224  225  226  227  228</span></span>
<span><span class="co">#&gt; [226]  229  230  231  232  234  235  236  237  238  239  240  241  242  243  244</span></span>
<span><span class="co">#&gt; [241]  245  246  247  248  249  250  251  252  253  254  255  256  257  258  259</span></span>
<span><span class="co">#&gt; [256]  260  261  262  263  264  265  266  267  268  269  270  271  272  273  274</span></span>
<span><span class="co">#&gt; [271]  275  276  277  278  279  280  281  282  283  284  285  286  287  288  289</span></span>
<span><span class="co">#&gt; [286]  290  291  292  293  294  295  296  297  298  299  300  301  302  303  304</span></span>
<span><span class="co">#&gt; [301]  305  306  307  308  309  311  312  313  314  315  316  317  318  319  320</span></span>
<span><span class="co">#&gt; [316]  321  322  323  324  325  326  327  328  329  330  331  332  333  334  335</span></span>
<span><span class="co">#&gt; [331]  336  337  338  339  340  341  342  343  344  345  346  347  348  349  350</span></span>
<span><span class="co">#&gt; [346]  351  352  353  354  355  356  357  358  359  360  361  362  363  364  365</span></span>
<span><span class="co">#&gt; [361]  366  367  368  369  370  371  372  373  374  375  376  377  378  379  380</span></span>
<span><span class="co">#&gt; [376]  381  382  383  384  386  387  388  389  390  391  392  393  394  395  396</span></span>
<span><span class="co">#&gt; [391]  397  398  399  400  401  402  403  404  405  406  407  408  409  410  411</span></span>
<span><span class="co">#&gt; [406]  412  413  414  416  417  418  419  420  421  422  423  424  425  426  427</span></span>
<span><span class="co">#&gt; [421]  428  429  430  431  432  433  434  435  436  437  438  439  440  441  442</span></span>
<span><span class="co">#&gt; [436]  443  444  445  446  447  448  449  450  451  452  453  454  455  456  457</span></span>
<span><span class="co">#&gt; [451]  458  459  460  461  462  464  465  466  467  468  469  470  471  472  473</span></span>
<span><span class="co">#&gt; [466]  474  475  476  477  478  479  480  481  482  483  484  485  486  487  488</span></span>
<span><span class="co">#&gt; [481]  489  490  491  492  493  494  495  496  497  498  499  500  501  502  503</span></span>
<span><span class="co">#&gt; [496]  504  505  506  507  508  509  510  511  512  513  514  515  516  517  518</span></span>
<span><span class="co">#&gt; [511]  519  520  521  522  523  524  525  527  528  529  530  531  532  533  534</span></span>
<span><span class="co">#&gt; [526]  535  536  537  538  539  540  541  542  543  544  545  546  547  548  549</span></span>
<span><span class="co">#&gt; [541]  550  551  552  553  554  555  556  557  558  559  560  561  562  563  564</span></span>
<span><span class="co">#&gt; [556]  565  566  567  568  569  571  572  573  574  575  576  577  578  579  580</span></span>
<span><span class="co">#&gt; [571]  581  582  583  584  585  586  587  588  589  590  591  592  593  594  595</span></span>
<span><span class="co">#&gt; [586]  596  597  598  599  600  601  602  603  604  605  606  607  608  609  610</span></span>
<span><span class="co">#&gt; [601]  611  612  613  614  615  616  617  618  619  620  621  622  623  624  625</span></span>
<span><span class="co">#&gt; [616]  626  627  628  629  630  631  632  633  634  635  636  637  638  639  640</span></span>
<span><span class="co">#&gt; [631]  641  642  643  644  645  646  647  648  649  650  651  652  653  654  655</span></span>
<span><span class="co">#&gt; [646]  656  657  658  659  660  661  662  664  665  667  668  669  670  671  672</span></span>
<span><span class="co">#&gt; [661]  673  674  675  676  677  678  679  680  681  682  683  684  685  686  687</span></span>
<span><span class="co">#&gt; [676]  688  689  690  691  692  693  694  695  696  697  698  699  700  701  702</span></span>
<span><span class="co">#&gt; [691]  703  704  705  706  707  708  709  710  711  712  713  714  715  716  717</span></span>
<span><span class="co">#&gt; [706]  718  719  720  721  722  723  724  725  726  727  728  729  730  731  732</span></span>
<span><span class="co">#&gt; [721]  733  734  735  736  737  738  739  740  741  742  743  744  745  746  747</span></span>
<span><span class="co">#&gt; [736]  748  749  750  751  752  753  754  755  756  757  758  759  760  761  762</span></span>
<span><span class="co">#&gt; [751]  763  764  765  766  767  768  769  770  771  772  773  774  775  776  777</span></span>
<span><span class="co">#&gt; [766]  778  779  780  781  782  783  784  785  786  787  788  789  790  791  792</span></span>
<span><span class="co">#&gt; [781]  793  794  795  796  797  798  799  800  801  802  803  804  805  806  807</span></span>
<span><span class="co">#&gt; [796]  808  809  810  811  812  813  814  815  816  817  818  819  820  821  822</span></span>
<span><span class="co">#&gt; [811]  823  824  825  826  827  828  829  830  831  832  833  834  835  836  837</span></span>
<span><span class="co">#&gt; [826]  838  839  840  841  842  843  844  845  846  847  848  849  850  851  852</span></span>
<span><span class="co">#&gt; [841]  853  854  855  856  857  858  859  860  861  862  863  864  865  866  867</span></span>
<span><span class="co">#&gt; [856]  868  869  870  871  872  873  874  875  876  877  878  879  880  881  882</span></span>
<span><span class="co">#&gt; [871]  883  884  885  886  887  888  889  890  891  892  893  894  895  896  897</span></span>
<span><span class="co">#&gt; [886]  898  899  900  901  902  903  904  905  906  907  908  909  910  911  912</span></span>
<span><span class="co">#&gt; [901]  913  914  915  916  917  918  919  920  921  922  923  924  925  926  927</span></span>
<span><span class="co">#&gt; [916]  928  929  930  931  932  933  934  935  936  937  938  939  940  941  942</span></span>
<span><span class="co">#&gt; [931]  943  944  945  946  947  948  949  950  951  952  953  954  955  956  957</span></span>
<span><span class="co">#&gt; [946]  958  959  960  961  962  963  964  965  966  967  968  969  970  971  972</span></span>
<span><span class="co">#&gt; [961]  973  974  975  976  977  978  979  980  981  982  983  984  985  986  987</span></span>
<span><span class="co">#&gt; [976]  988  989  990  991  992  993  994  995  996  997  998  999 1000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $state$variables$health$I</span></span>
<span><span class="co">#&gt; [1] 179 189 233 385 463 526 570 663 666</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $state$variables$health$R</span></span>
<span><span class="co">#&gt; [1] 195 310 415</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $state$variables$vaccinated</span></span>
<span><span class="co">#&gt; $state$variables$vaccinated$Y</span></span>
<span><span class="co">#&gt; numeric(0)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $state$variables$vaccinated$N</span></span>
<span><span class="co">#&gt;    [1]    1    2    3    4    5    6    7    8    9   10   11   12   13   14</span></span>
<span><span class="co">#&gt;   [15]   15   16   17   18   19   20   21   22   23   24   25   26   27   28</span></span>
<span><span class="co">#&gt;   [29]   29   30   31   32   33   34   35   36   37   38   39   40   41   42</span></span>
<span><span class="co">#&gt;   [43]   43   44   45   46   47   48   49   50   51   52   53   54   55   56</span></span>
<span><span class="co">#&gt;   [57]   57   58   59   60   61   62   63   64   65   66   67   68   69   70</span></span>
<span><span class="co">#&gt;   [71]   71   72   73   74   75   76   77   78   79   80   81   82   83   84</span></span>
<span><span class="co">#&gt;   [85]   85   86   87   88   89   90   91   92   93   94   95   96   97   98</span></span>
<span><span class="co">#&gt;   [99]   99  100  101  102  103  104  105  106  107  108  109  110  111  112</span></span>
<span><span class="co">#&gt;  [113]  113  114  115  116  117  118  119  120  121  122  123  124  125  126</span></span>
<span><span class="co">#&gt;  [127]  127  128  129  130  131  132  133  134  135  136  137  138  139  140</span></span>
<span><span class="co">#&gt;  [141]  141  142  143  144  145  146  147  148  149  150  151  152  153  154</span></span>
<span><span class="co">#&gt;  [155]  155  156  157  158  159  160  161  162  163  164  165  166  167  168</span></span>
<span><span class="co">#&gt;  [169]  169  170  171  172  173  174  175  176  177  178  179  180  181  182</span></span>
<span><span class="co">#&gt;  [183]  183  184  185  186  187  188  189  190  191  192  193  194  195  196</span></span>
<span><span class="co">#&gt;  [197]  197  198  199  200  201  202  203  204  205  206  207  208  209  210</span></span>
<span><span class="co">#&gt;  [211]  211  212  213  214  215  216  217  218  219  220  221  222  223  224</span></span>
<span><span class="co">#&gt;  [225]  225  226  227  228  229  230  231  232  233  234  235  236  237  238</span></span>
<span><span class="co">#&gt;  [239]  239  240  241  242  243  244  245  246  247  248  249  250  251  252</span></span>
<span><span class="co">#&gt;  [253]  253  254  255  256  257  258  259  260  261  262  263  264  265  266</span></span>
<span><span class="co">#&gt;  [267]  267  268  269  270  271  272  273  274  275  276  277  278  279  280</span></span>
<span><span class="co">#&gt;  [281]  281  282  283  284  285  286  287  288  289  290  291  292  293  294</span></span>
<span><span class="co">#&gt;  [295]  295  296  297  298  299  300  301  302  303  304  305  306  307  308</span></span>
<span><span class="co">#&gt;  [309]  309  310  311  312  313  314  315  316  317  318  319  320  321  322</span></span>
<span><span class="co">#&gt;  [323]  323  324  325  326  327  328  329  330  331  332  333  334  335  336</span></span>
<span><span class="co">#&gt;  [337]  337  338  339  340  341  342  343  344  345  346  347  348  349  350</span></span>
<span><span class="co">#&gt;  [351]  351  352  353  354  355  356  357  358  359  360  361  362  363  364</span></span>
<span><span class="co">#&gt;  [365]  365  366  367  368  369  370  371  372  373  374  375  376  377  378</span></span>
<span><span class="co">#&gt;  [379]  379  380  381  382  383  384  385  386  387  388  389  390  391  392</span></span>
<span><span class="co">#&gt;  [393]  393  394  395  396  397  398  399  400  401  402  403  404  405  406</span></span>
<span><span class="co">#&gt;  [407]  407  408  409  410  411  412  413  414  415  416  417  418  419  420</span></span>
<span><span class="co">#&gt;  [421]  421  422  423  424  425  426  427  428  429  430  431  432  433  434</span></span>
<span><span class="co">#&gt;  [435]  435  436  437  438  439  440  441  442  443  444  445  446  447  448</span></span>
<span><span class="co">#&gt;  [449]  449  450  451  452  453  454  455  456  457  458  459  460  461  462</span></span>
<span><span class="co">#&gt;  [463]  463  464  465  466  467  468  469  470  471  472  473  474  475  476</span></span>
<span><span class="co">#&gt;  [477]  477  478  479  480  481  482  483  484  485  486  487  488  489  490</span></span>
<span><span class="co">#&gt;  [491]  491  492  493  494  495  496  497  498  499  500  501  502  503  504</span></span>
<span><span class="co">#&gt;  [505]  505  506  507  508  509  510  511  512  513  514  515  516  517  518</span></span>
<span><span class="co">#&gt;  [519]  519  520  521  522  523  524  525  526  527  528  529  530  531  532</span></span>
<span><span class="co">#&gt;  [533]  533  534  535  536  537  538  539  540  541  542  543  544  545  546</span></span>
<span><span class="co">#&gt;  [547]  547  548  549  550  551  552  553  554  555  556  557  558  559  560</span></span>
<span><span class="co">#&gt;  [561]  561  562  563  564  565  566  567  568  569  570  571  572  573  574</span></span>
<span><span class="co">#&gt;  [575]  575  576  577  578  579  580  581  582  583  584  585  586  587  588</span></span>
<span><span class="co">#&gt;  [589]  589  590  591  592  593  594  595  596  597  598  599  600  601  602</span></span>
<span><span class="co">#&gt;  [603]  603  604  605  606  607  608  609  610  611  612  613  614  615  616</span></span>
<span><span class="co">#&gt;  [617]  617  618  619  620  621  622  623  624  625  626  627  628  629  630</span></span>
<span><span class="co">#&gt;  [631]  631  632  633  634  635  636  637  638  639  640  641  642  643  644</span></span>
<span><span class="co">#&gt;  [645]  645  646  647  648  649  650  651  652  653  654  655  656  657  658</span></span>
<span><span class="co">#&gt;  [659]  659  660  661  662  663  664  665  666  667  668  669  670  671  672</span></span>
<span><span class="co">#&gt;  [673]  673  674  675  676  677  678  679  680  681  682  683  684  685  686</span></span>
<span><span class="co">#&gt;  [687]  687  688  689  690  691  692  693  694  695  696  697  698  699  700</span></span>
<span><span class="co">#&gt;  [701]  701  702  703  704  705  706  707  708  709  710  711  712  713  714</span></span>
<span><span class="co">#&gt;  [715]  715  716  717  718  719  720  721  722  723  724  725  726  727  728</span></span>
<span><span class="co">#&gt;  [729]  729  730  731  732  733  734  735  736  737  738  739  740  741  742</span></span>
<span><span class="co">#&gt;  [743]  743  744  745  746  747  748  749  750  751  752  753  754  755  756</span></span>
<span><span class="co">#&gt;  [757]  757  758  759  760  761  762  763  764  765  766  767  768  769  770</span></span>
<span><span class="co">#&gt;  [771]  771  772  773  774  775  776  777  778  779  780  781  782  783  784</span></span>
<span><span class="co">#&gt;  [785]  785  786  787  788  789  790  791  792  793  794  795  796  797  798</span></span>
<span><span class="co">#&gt;  [799]  799  800  801  802  803  804  805  806  807  808  809  810  811  812</span></span>
<span><span class="co">#&gt;  [813]  813  814  815  816  817  818  819  820  821  822  823  824  825  826</span></span>
<span><span class="co">#&gt;  [827]  827  828  829  830  831  832  833  834  835  836  837  838  839  840</span></span>
<span><span class="co">#&gt;  [841]  841  842  843  844  845  846  847  848  849  850  851  852  853  854</span></span>
<span><span class="co">#&gt;  [855]  855  856  857  858  859  860  861  862  863  864  865  866  867  868</span></span>
<span><span class="co">#&gt;  [869]  869  870  871  872  873  874  875  876  877  878  879  880  881  882</span></span>
<span><span class="co">#&gt;  [883]  883  884  885  886  887  888  889  890  891  892  893  894  895  896</span></span>
<span><span class="co">#&gt;  [897]  897  898  899  900  901  902  903  904  905  906  907  908  909  910</span></span>
<span><span class="co">#&gt;  [911]  911  912  913  914  915  916  917  918  919  920  921  922  923  924</span></span>
<span><span class="co">#&gt;  [925]  925  926  927  928  929  930  931  932  933  934  935  936  937  938</span></span>
<span><span class="co">#&gt;  [939]  939  940  941  942  943  944  945  946  947  948  949  950  951  952</span></span>
<span><span class="co">#&gt;  [953]  953  954  955  956  957  958  959  960  961  962  963  964  965  966</span></span>
<span><span class="co">#&gt;  [967]  967  968  969  970  971  972  973  974  975  976  977  978  979  980</span></span>
<span><span class="co">#&gt;  [981]  981  982  983  984  985  986  987  988  989  990  991  992  993  994</span></span>
<span><span class="co">#&gt;  [995]  995  996  997  998  999 1000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $state$events</span></span>
<span><span class="co">#&gt; $state$events[[1]]</span></span>
<span><span class="co">#&gt; numeric(0)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $state$timesteps</span></span>
<span><span class="co">#&gt; [1] 10</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $state$random_state</span></span>
<span><span class="co">#&gt;   [1]       10403          37   635140516 -1502865762  2062925552   674928455</span></span>
<span><span class="co">#&gt;   [7] -1185328023   117075790   438269976  1219635731  1646492437  -424860539</span></span>
<span><span class="co">#&gt;  [13]   268188366 -1826703895 -1524664046  -574413521  1914154137 -1529476434</span></span>
<span><span class="co">#&gt;  [19]   883715463 -1897909798 -1473127592   569216071  -562400370  -459044897</span></span>
<span><span class="co">#&gt;  [25]  1361203229 -1579305287 -1685144315  1961903625  2000036709  -828405894</span></span>
<span><span class="co">#&gt;  [31]   104442885  1875528490   216448692  1715767612  1037439497  1133852913</span></span>
<span><span class="co">#&gt;  [37]  1490748795   323534030 -1403104108   106829509   845674114  1406534730</span></span>
<span><span class="co">#&gt;  [43]   146545516   940685144   818871128   267543705 -1255866536 -2017458720</span></span>
<span><span class="co">#&gt;  [49] -1509499239  -708481548   551183590 -2000309550  1815290483  1309033178</span></span>
<span><span class="co">#&gt;  [55]  -242791920  -279707883   450842569   897420213 -1934043543 -1250772316</span></span>
<span><span class="co">#&gt;  [61]  -769195700  -897953473  -482051831 -1372154946  -194158267  1514568929</span></span>
<span><span class="co">#&gt;  [67] -1585251703   927837376  1575385014  -376424664 -2116180952 -1564941327</span></span>
<span><span class="co">#&gt;  [73] -1658666061   671713503 -1189036653  1028031594  1066961466 -1083998519</span></span>
<span><span class="co">#&gt;  [79]  -141496745  1117998909 -1081161035   485693323   510043220  -913181628</span></span>
<span><span class="co">#&gt;  [85] -2137244212 -1934310356   151267688  -406078013 -1204369435  1488611055</span></span>
<span><span class="co">#&gt;  [91]  -986252501   161439675   869227766  1765397754   663110505 -1864442994</span></span>
<span><span class="co">#&gt;  [97] -1207571653  1769111218 -1627700751 -1276560399 -1665428546  -654465668</span></span>
<span><span class="co">#&gt; [103]  -517462469  1620285662  -991808322  -476291900 -1635723369  -883604702</span></span>
<span><span class="co">#&gt; [109]   467605326   847552015   661573190  -501530981   726015113  -299867121</span></span>
<span><span class="co">#&gt; [115] -1115416397 -1046228220 -1015359684 -1200131328 -1868339735 -1180184131</span></span>
<span><span class="co">#&gt; [121]  2111503848   -68851852  1937175393 -1589175367 -1384316441  1699411319</span></span>
<span><span class="co">#&gt; [127]   239532781 -2080527752  -441831289  -299522136   352373307   853511997</span></span>
<span><span class="co">#&gt; [133]  1425659235  -564627422   437193680 -1995828502 -1734409763 -1350669154</span></span>
<span><span class="co">#&gt; [139]   279884635   268565329   990173097  1174850784  2077844433  1061671252</span></span>
<span><span class="co">#&gt; [145]  1625540918  1378483165 -1735269604   989487285   290187909   264811353</span></span>
<span><span class="co">#&gt; [151]  -587207551  1622826533   249632196 -1721435659   630275199   513546158</span></span>
<span><span class="co">#&gt; [157]   499937344  -982827952  1569526972   932564821 -1551158792  1450050905</span></span>
<span><span class="co">#&gt; [163]  1610716578 -1492648446  -983233667 -1435335309  -353717302 -1685125945</span></span>
<span><span class="co">#&gt; [169]  -793935918 -1821768058  -761362219 -1151273427    24422856  -651210435</span></span>
<span><span class="co">#&gt; [175]   630116638   326990667  1470411862  1806263800  -668399539   126634727</span></span>
<span><span class="co">#&gt; [181] -2090265087  1467491134  1272740904  1890321311  -875472404  -955338282</span></span>
<span><span class="co">#&gt; [187]  -107416177   471916034   906650591  -415451929  -822312545  1323300241</span></span>
<span><span class="co">#&gt; [193]  1963064780  -780989560 -2028041931  -422500714   472305593   -35051920</span></span>
<span><span class="co">#&gt; [199]  -441896892  -668288321  1603067675  1225155899  1227040157    16472143</span></span>
<span><span class="co">#&gt; [205] -1399296790     -142385  -120862823  1789392555   -82539723   998570760</span></span>
<span><span class="co">#&gt; [211]  1350392907   210428785  1678988944   797973880  1568599294  1973331822</span></span>
<span><span class="co">#&gt; [217]  1826627607   714834984 -2111297406  2059227370  1268895297 -1470690363</span></span>
<span><span class="co">#&gt; [223]   830129715 -1235513411 -2066843798  1328427997  -199367415    71551839</span></span>
<span><span class="co">#&gt; [229]   180091423 -1838325279  -784913831 -1625579863 -1412037668  -336712009</span></span>
<span><span class="co">#&gt; [235]   766655979 -1306104825   625713923   415223909 -1731760789   231595411</span></span>
<span><span class="co">#&gt; [241]  1306336061 -2032387402 -1474537378   472785048  -294757313  -541041862</span></span>
<span><span class="co">#&gt; [247]  -328909539  -597599147 -1448249554 -1332370262   421916801   498766335</span></span>
<span><span class="co">#&gt; [253]  -343683308 -1014291733    47087014 -1604211885  1561503656 -1427617044</span></span>
<span><span class="co">#&gt; [259]  -406229952  -447679949  -165520397   927269341 -1731016122 -2050526895</span></span>
<span><span class="co">#&gt; [265]  -854574703  -357359539  1198854124 -1623486689 -1976876939   516985957</span></span>
<span><span class="co">#&gt; [271] -2076717660   337215586  -839307340  2132545872  -122574141  -970496641</span></span>
<span><span class="co">#&gt; [277]  1150759474  1760405059 -1718414384   771913651  -160465060  -743593505</span></span>
<span><span class="co">#&gt; [283]   334179414 -1326365245   309340141 -1502661689  -201995927   875088030</span></span>
<span><span class="co">#&gt; [289]   129561814  1863402382  -349818498 -1857162825  -314097133  1950782148</span></span>
<span><span class="co">#&gt; [295]  -641509403 -1810494579 -1182663957   268131479  -847350422  1586009090</span></span>
<span><span class="co">#&gt; [301]  -320319820   423759387  -999631149  -812275966  2022536940  -118246087</span></span>
<span><span class="co">#&gt; [307]  -337612882 -1942623294  2112889228  1245523408 -2116643290 -1367264266</span></span>
<span><span class="co">#&gt; [313] -2096933405  1521562549   914247778  1778153281 -1950752954   281481989</span></span>
<span><span class="co">#&gt; [319] -1288128147  1126047357   172384160  -294157538  -468024816  1190299763</span></span>
<span><span class="co">#&gt; [325]  1516763765  -192464194   419885042  1790113750  1918260032  1178346488</span></span>
<span><span class="co">#&gt; [331]   202378239 -1054522364   -95856334  -168283370  -429770111  1235950072</span></span>
<span><span class="co">#&gt; [337] -1605237857  -582952456  -621208012 -1621267030  1655725487 -1422846481</span></span>
<span><span class="co">#&gt; [343]  -459036852  -994510143 -1332559609   180658114  2133005575  2030018109</span></span>
<span><span class="co">#&gt; [349]  -800631692  1253988151   344304848  1875823143 -1268826558 -1112546299</span></span>
<span><span class="co">#&gt; [355]    94906071   704664753 -2055574814   635914235  -907251869   730715097</span></span>
<span><span class="co">#&gt; [361]  -178172388 -1178446101  1090919768   920158961 -1516168559   798176627</span></span>
<span><span class="co">#&gt; [367]   276093519  -172318343  2118262812  1161151161  1976295564   468932613</span></span>
<span><span class="co">#&gt; [373]  -806089251  1232087490  1286330940 -1656906887   959539933  1042165268</span></span>
<span><span class="co">#&gt; [379]   915821490  -129437297  2015243354 -1179035722  -251398645  1351939445</span></span>
<span><span class="co">#&gt; [385]  1270396585 -1516643368  -170197520   679546183  2001326036  -306447021</span></span>
<span><span class="co">#&gt; [391] -1780658156 -1784569830 -2089138079   107217454 -1018522726  1132796895</span></span>
<span><span class="co">#&gt; [397]  -976536347   148405412  -174992264  1382375322  2134075741  -632982227</span></span>
<span><span class="co">#&gt; [403]   563410694   506065118   504263106  1824059490 -1433640250  -903935702</span></span>
<span><span class="co">#&gt; [409]  1776758805   892203650  1698948717 -1329464584  -203725836  -578658799</span></span>
<span><span class="co">#&gt; [415]  1253466851  -178933840   203758421   956583347  1548803800  2074607869</span></span>
<span><span class="co">#&gt; [421]   584756692 -1554511798   544065487   197746082  1682995472  1833425505</span></span>
<span><span class="co">#&gt; [427]  1829250616 -1744970085  -202135192   693614922  1441658957  -139305439</span></span>
<span><span class="co">#&gt; [433] -1783844433 -1630576399 -1007356386  -258537287  1694491195   611841522</span></span>
<span><span class="co">#&gt; [439] -1751977614   265150888   991897836  1445026233  1903129847  -236091492</span></span>
<span><span class="co">#&gt; [445]  -190289578 -1534326751 -2059116633 -1674631988  -927325567 -1245355464</span></span>
<span><span class="co">#&gt; [451]  -318975638  -456352921 -1745701679  1419421418  1099605054 -1043144819</span></span>
<span><span class="co">#&gt; [457]  1542556081   692547578  -397685118   462832049 -1496301233  -282145428</span></span>
<span><span class="co">#&gt; [463]  -230914923   796972159  1880471643   824695736   577523764 -1681615550</span></span>
<span><span class="co">#&gt; [469] -1850665190  2100582229  -310301717 -1265698202 -1180766616  1618659931</span></span>
<span><span class="co">#&gt; [475]  1351494812  1719564301 -2075733355   486173111  1428558599   788306271</span></span>
<span><span class="co">#&gt; [481]   274495329  2117367127   480440670  1650640402  -122094355   506772473</span></span>
<span><span class="co">#&gt; [487]  1842828044 -1540604865  -559769472  -724847460  1485801822  -143797990</span></span>
<span><span class="co">#&gt; [493]  2029711051  -364573056 -1192803818   780095998 -1859858960 -1390226883</span></span>
<span><span class="co">#&gt; [499]    57871474  -465578607  1507321356  2107933016   266744267 -1271448420</span></span>
<span><span class="co">#&gt; [505]  1444529163  1046870636 -1933425223   166554222  1249471472   363479081</span></span>
<span><span class="co">#&gt; [511]  -369604936   885364407   987179961  -600467170 -1054359250   857079684</span></span>
<span><span class="co">#&gt; [517] -1508844276  1142702436  -944186035 -2145795426  -727881994  -643214380</span></span>
<span><span class="co">#&gt; [523] -1274178443  -316355705  2000901848  -302634272   842308685   860283604</span></span>
<span><span class="co">#&gt; [529]  1383536882   151314928  -605626427  1283626582   924606883  1548597905</span></span>
<span><span class="co">#&gt; [535]   417983665  -317872063   155128404 -1779855997 -1669618123 -1756836173</span></span>
<span><span class="co">#&gt; [541]  1615973017  -641585027  1173912054  -870630224 -1022923093 -1511771160</span></span>
<span><span class="co">#&gt; [547] -1799004228 -1629697683  1282321909  -820281976  -224618987   291584782</span></span>
<span><span class="co">#&gt; [553] -1210432441    65163477   378161570  1054409766  2010732527   760499843</span></span>
<span><span class="co">#&gt; [559]   760754067  1557570537   975427644 -1493421788   823041379   262830541</span></span>
<span><span class="co">#&gt; [565]  -502378141   868621982   258650176   226955755   593620135   349793407</span></span>
<span><span class="co">#&gt; [571]  -242516843   -50196585  -784148259  -611748727   530296997 -1285218849</span></span>
<span><span class="co">#&gt; [577]    75336375    69328535  1534731445  -188855006  -628969317  -379479006</span></span>
<span><span class="co">#&gt; [583]   654191015 -1030149031 -2031606155  -409860517 -2005863158   880150216</span></span>
<span><span class="co">#&gt; [589]   841800090   223875355  -594843436  1379475710  -597943810 -1656148780</span></span>
<span><span class="co">#&gt; [595]    -1931995  1213197503   588314501   960288728  1913392563  1417730799</span></span>
<span><span class="co">#&gt; [601] -1500199577  -265296361  1284220178   716617948  -605401498  -783047651</span></span>
<span><span class="co">#&gt; [607]  2044902802  1866667716   855437528  1649070793 -1675914530  -520639685</span></span>
<span><span class="co">#&gt; [613]  1093566376  -710639439  -879112300 -1673823948  -964492240 -1315247852</span></span>
<span><span class="co">#&gt; [619]  -540822996   141989787   411301166 -1045850224   740035096   905411690</span></span>
<span><span class="co">#&gt; [625]   263990970  -411277142</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu">run_simulation</span><span class="op">(</span>steps<span class="op">=</span><span class="fl">100</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; $result</span></span>
<span><span class="co">#&gt;     timestep S_count I_count R_count</span></span>
<span><span class="co">#&gt; 1          1     995       5       0</span></span>
<span><span class="co">#&gt; 2          2     995       5       0</span></span>
<span><span class="co">#&gt; 3          3     995       5       0</span></span>
<span><span class="co">#&gt; 4          4     995       5       0</span></span>
<span><span class="co">#&gt; 5          5     994       5       1</span></span>
<span><span class="co">#&gt; 6          6     992       7       1</span></span>
<span><span class="co">#&gt; 7          7     992       6       2</span></span>
<span><span class="co">#&gt; 8          8     992       6       2</span></span>
<span><span class="co">#&gt; 9          9     989       9       2</span></span>
<span><span class="co">#&gt; 10        10     988      10       2</span></span>
<span><span class="co">#&gt; 11        11     988       9       3</span></span>
<span><span class="co">#&gt; 12        12     988       8       4</span></span>
<span><span class="co">#&gt; 13        13     988       8       4</span></span>
<span><span class="co">#&gt; 14        14     987       9       4</span></span>
<span><span class="co">#&gt; 15        15     987       8       5</span></span>
<span><span class="co">#&gt; 16        16     987       8       5</span></span>
<span><span class="co">#&gt; 17        17     987       9       4</span></span>
<span><span class="co">#&gt; 18        18     985      10       5</span></span>
<span><span class="co">#&gt; 19        19     985      10       5</span></span>
<span><span class="co">#&gt; 20        20     985      12       3</span></span>
<span><span class="co">#&gt; 21        21     984      13       3</span></span>
<span><span class="co">#&gt; 22        22     984      13       3</span></span>
<span><span class="co">#&gt; 23        23     982      14       4</span></span>
<span><span class="co">#&gt; 24        24     980      14       6</span></span>
<span><span class="co">#&gt; 25        25     978      16       6</span></span>
<span><span class="co">#&gt; 26        26     976      18       6</span></span>
<span><span class="co">#&gt; 27        27     975      19       6</span></span>
<span><span class="co">#&gt; 28        28     971      22       7</span></span>
<span><span class="co">#&gt; 29        29     969      22       9</span></span>
<span><span class="co">#&gt; 30        30     967      24       9</span></span>
<span><span class="co">#&gt; 31        31     966      24      10</span></span>
<span><span class="co">#&gt; 32        32     963      26      11</span></span>
<span><span class="co">#&gt; 33        33     960      28      12</span></span>
<span><span class="co">#&gt; 34        34     959      24      17</span></span>
<span><span class="co">#&gt; 35        35     957      26      17</span></span>
<span><span class="co">#&gt; 36        36     954      27      19</span></span>
<span><span class="co">#&gt; 37        37     951      30      19</span></span>
<span><span class="co">#&gt; 38        38     948      31      21</span></span>
<span><span class="co">#&gt; 39        39     946      32      22</span></span>
<span><span class="co">#&gt; 40        40     945      33      22</span></span>
<span><span class="co">#&gt; 41        41     945      32      23</span></span>
<span><span class="co">#&gt; 42        42     945      32      23</span></span>
<span><span class="co">#&gt; 43        43     945      32      23</span></span>
<span><span class="co">#&gt; 44        44     944      34      22</span></span>
<span><span class="co">#&gt; 45        45     939      37      24</span></span>
<span><span class="co">#&gt; 46        46     938      37      25</span></span>
<span><span class="co">#&gt; 47        47     937      37      26</span></span>
<span><span class="co">#&gt; 48        48     936      38      26</span></span>
<span><span class="co">#&gt; 49        49     938      34      28</span></span>
<span><span class="co">#&gt; 50        50     936      36      28</span></span>
<span><span class="co">#&gt; 51        51     935      38      27</span></span>
<span><span class="co">#&gt; 52        52     930      43      27</span></span>
<span><span class="co">#&gt; 53        53     930      41      29</span></span>
<span><span class="co">#&gt; 54        54     928      42      30</span></span>
<span><span class="co">#&gt; 55        55     926      44      30</span></span>
<span><span class="co">#&gt; 56        56     924      44      32</span></span>
<span><span class="co">#&gt; 57        57     922      46      32</span></span>
<span><span class="co">#&gt; 58        58     917      49      34</span></span>
<span><span class="co">#&gt; 59        59     916      47      37</span></span>
<span><span class="co">#&gt; 60        60     915      48      37</span></span>
<span><span class="co">#&gt; 61        61     911      52      37</span></span>
<span><span class="co">#&gt; 62        62     912      51      37</span></span>
<span><span class="co">#&gt; 63        63     908      54      38</span></span>
<span><span class="co">#&gt; 64        64     907      53      40</span></span>
<span><span class="co">#&gt; 65        65     904      54      42</span></span>
<span><span class="co">#&gt; 66        66     905      54      41</span></span>
<span><span class="co">#&gt; 67        67     898      59      43</span></span>
<span><span class="co">#&gt; 68        68     891      62      47</span></span>
<span><span class="co">#&gt; 69        69     886      64      50</span></span>
<span><span class="co">#&gt; 70        70     884      64      52</span></span>
<span><span class="co">#&gt; 71        71     880      63      57</span></span>
<span><span class="co">#&gt; 72        72     871      69      60</span></span>
<span><span class="co">#&gt; 73        73     869      70      61</span></span>
<span><span class="co">#&gt; 74        74     869      66      65</span></span>
<span><span class="co">#&gt; 75        75     868      67      65</span></span>
<span><span class="co">#&gt; 76        76     862      71      67</span></span>
<span><span class="co">#&gt; 77        77     861      72      67</span></span>
<span><span class="co">#&gt; 78        78     858      72      70</span></span>
<span><span class="co">#&gt; 79        79     856      73      71</span></span>
<span><span class="co">#&gt; 80        80     855      78      67</span></span>
<span><span class="co">#&gt; 81        81     856      78      66</span></span>
<span><span class="co">#&gt; 82        82     853      80      67</span></span>
<span><span class="co">#&gt; 83        83     852      78      70</span></span>
<span><span class="co">#&gt; 84        84     848      79      73</span></span>
<span><span class="co">#&gt; 85        85     840      84      76</span></span>
<span><span class="co">#&gt; 86        86     833      88      79</span></span>
<span><span class="co">#&gt; 87        87     827      85      88</span></span>
<span><span class="co">#&gt; 88        88     821      88      91</span></span>
<span><span class="co">#&gt; 89        89     819      89      92</span></span>
<span><span class="co">#&gt; 90        90     813      94      93</span></span>
<span><span class="co">#&gt; 91        91     813      92      95</span></span>
<span><span class="co">#&gt; 92        92     806      96      98</span></span>
<span><span class="co">#&gt; 93        93     805      94     101</span></span>
<span><span class="co">#&gt; 94        94     805      90     105</span></span>
<span><span class="co">#&gt; 95        95     804      92     104</span></span>
<span><span class="co">#&gt; 96        96     800      93     107</span></span>
<span><span class="co">#&gt; 97        97     794      94     112</span></span>
<span><span class="co">#&gt; 98        98     788      96     116</span></span>
<span><span class="co">#&gt; 99        99     785      91     124</span></span>
<span><span class="co">#&gt; 100      100     784      92     124</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $state</span></span>
<span><span class="co">#&gt; $state$variables</span></span>
<span><span class="co">#&gt; $state$variables$health</span></span>
<span><span class="co">#&gt; $state$variables$health$S</span></span>
<span><span class="co">#&gt;   [1]    1    2    5    6    7    8    9   11   12   13   14   15   16   18   20</span></span>
<span><span class="co">#&gt;  [16]   21   22   23   24   25   27   28   30   32   33   34   35   36   37   38</span></span>
<span><span class="co">#&gt;  [31]   39   40   42   44   45   46   47   49   50   53   55   58   59   60   61</span></span>
<span><span class="co">#&gt;  [46]   62   63   64   65   67   68   70   71   72   73   74   75   76   78   79</span></span>
<span><span class="co">#&gt;  [61]   80   81   83   84   85   86   87   88   89   90   91   92   93   94   95</span></span>
<span><span class="co">#&gt;  [76]   96   98  101  102  104  105  106  107  108  109  110  111  112  115  116</span></span>
<span><span class="co">#&gt;  [91]  118  119  121  122  123  124  126  127  128  129  130  132  133  134  135</span></span>
<span><span class="co">#&gt; [106]  136  139  140  141  142  143  144  146  147  148  149  150  151  152  155</span></span>
<span><span class="co">#&gt; [121]  156  157  158  159  160  161  163  165  166  168  169  170  171  173  174</span></span>
<span><span class="co">#&gt; [136]  176  177  178  180  181  182  184  185  186  187  188  190  191  192  193</span></span>
<span><span class="co">#&gt; [151]  194  195  196  197  198  199  200  201  202  203  204  207  208  209  211</span></span>
<span><span class="co">#&gt; [166]  212  213  214  215  216  217  218  222  223  224  225  227  228  229  230</span></span>
<span><span class="co">#&gt; [181]  231  232  235  236  237  238  239  240  241  242  245  246  250  251  252</span></span>
<span><span class="co">#&gt; [196]  253  254  258  259  260  262  263  265  266  267  269  270  271  272  275</span></span>
<span><span class="co">#&gt; [211]  276  277  278  280  281  282  283  284  285  286  288  289  290  292  293</span></span>
<span><span class="co">#&gt; [226]  294  295  296  297  298  299  301  302  303  304  305  306  307  309  310</span></span>
<span><span class="co">#&gt; [241]  311  312  313  315  316  317  320  322  323  324  326  327  328  332  333</span></span>
<span><span class="co">#&gt; [256]  334  335  336  338  340  341  343  344  346  348  349  350  351  352  353</span></span>
<span><span class="co">#&gt; [271]  355  356  357  358  359  360  361  362  363  365  366  367  369  370  371</span></span>
<span><span class="co">#&gt; [286]  372  373  376  377  378  379  380  381  382  384  385  386  388  389  396</span></span>
<span><span class="co">#&gt; [301]  397  398  399  400  402  403  406  407  408  409  411  412  414  415  416</span></span>
<span><span class="co">#&gt; [316]  417  419  420  421  422  424  425  426  431  432  433  434  435  436  437</span></span>
<span><span class="co">#&gt; [331]  438  439  440  441  442  444  445  446  447  448  449  450  451  452  453</span></span>
<span><span class="co">#&gt; [346]  454  455  456  458  459  461  462  463  464  465  466  467  469  472  473</span></span>
<span><span class="co">#&gt; [361]  474  475  476  477  478  479  481  482  483  485  489  492  493  494  495</span></span>
<span><span class="co">#&gt; [376]  497  498  499  500  501  502  503  504  505  506  507  508  509  510  511</span></span>
<span><span class="co">#&gt; [391]  512  513  514  515  517  518  519  520  521  522  523  524  525  526  527</span></span>
<span><span class="co">#&gt; [406]  528  529  530  531  533  534  536  537  538  539  540  541  542  543  544</span></span>
<span><span class="co">#&gt; [421]  545  546  547  548  549  550  551  552  553  554  555  556  557  558  560</span></span>
<span><span class="co">#&gt; [436]  561  562  563  564  566  567  568  571  572  573  575  576  577  578  579</span></span>
<span><span class="co">#&gt; [451]  580  581  586  590  592  594  595  596  597  598  599  601  602  603  604</span></span>
<span><span class="co">#&gt; [466]  605  606  607  609  610  611  612  613  615  616  617  618  619  620  621</span></span>
<span><span class="co">#&gt; [481]  622  623  624  625  626  627  629  632  633  634  635  636  637  639  642</span></span>
<span><span class="co">#&gt; [496]  644  645  646  647  649  650  651  652  653  654  655  656  657  658  659</span></span>
<span><span class="co">#&gt; [511]  660  661  662  664  665  666  667  668  669  670  671  673  674  675  677</span></span>
<span><span class="co">#&gt; [526]  678  679  680  681  684  685  686  687  688  689  690  691  694  697  699</span></span>
<span><span class="co">#&gt; [541]  700  702  704  705  706  707  709  710  711  712  713  715  717  719  720</span></span>
<span><span class="co">#&gt; [556]  721  722  724  725  726  728  730  731  732  733  735  736  737  738  739</span></span>
<span><span class="co">#&gt; [571]  740  742  743  744  745  746  747  748  749  750  751  752  753  754  756</span></span>
<span><span class="co">#&gt; [586]  759  760  761  763  764  765  766  767  768  769  772  773  775  776  777</span></span>
<span><span class="co">#&gt; [601]  779  780  781  782  783  784  785  786  787  788  789  790  791  792  794</span></span>
<span><span class="co">#&gt; [616]  795  797  798  799  801  802  803  804  805  806  807  808  809  810  811</span></span>
<span><span class="co">#&gt; [631]  812  813  814  815  816  819  820  821  822  823  824  825  826  829  831</span></span>
<span><span class="co">#&gt; [646]  832  833  834  835  837  839  841  842  843  844  845  847  849  850  851</span></span>
<span><span class="co">#&gt; [661]  852  853  854  855  857  858  859  861  862  863  864  865  867  869  873</span></span>
<span><span class="co">#&gt; [676]  874  875  876  877  879  880  881  882  885  886  887  888  889  890  891</span></span>
<span><span class="co">#&gt; [691]  892  893  894  895  896  897  900  901  902  903  904  906  907  908  909</span></span>
<span><span class="co">#&gt; [706]  911  912  913  914  917  918  919  920  921  922  923  924  925  926  928</span></span>
<span><span class="co">#&gt; [721]  929  930  931  932  933  934  935  936  937  939  940  941  942  943  944</span></span>
<span><span class="co">#&gt; [736]  945  946  947  948  949  950  951  952  954  955  956  957  958  959  961</span></span>
<span><span class="co">#&gt; [751]  963  964  965  966  967  968  970  972  974  976  978  979  980  981  982</span></span>
<span><span class="co">#&gt; [766]  983  984  985  986  987  988  989  990  992  993  994  995  996  998  999</span></span>
<span><span class="co">#&gt; [781] 1000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $state$variables$health$I</span></span>
<span><span class="co">#&gt;  [1]   4  10  31  48  51  52  56  57  77  99 117 183 210 226 233 243 255 256 264</span></span>
<span><span class="co">#&gt; [20] 268 273 274 314 319 321 337 339 342 383 390 394 401 405 413 457 468 470 471</span></span>
<span><span class="co">#&gt; [39] 480 488 490 491 496 559 565 569 587 588 589 591 593 608 614 628 630 631 641</span></span>
<span><span class="co">#&gt; [58] 663 676 683 692 696 698 716 718 723 727 734 741 757 770 771 774 793 796 818</span></span>
<span><span class="co">#&gt; [77] 827 828 838 868 870 878 884 898 899 915 916 927 938 973 991</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $state$variables$health$R</span></span>
<span><span class="co">#&gt;   [1]   3  17  19  26  29  41  43  54  66  69  82  97 100 103 113 114 120 125</span></span>
<span><span class="co">#&gt;  [19] 131 137 138 145 153 154 162 164 167 172 175 179 189 205 206 219 220 221</span></span>
<span><span class="co">#&gt;  [37] 234 244 247 248 249 257 261 279 287 291 300 308 318 325 329 330 331 345</span></span>
<span><span class="co">#&gt;  [55] 347 354 364 368 374 375 387 391 392 393 395 404 410 418 423 427 428 429</span></span>
<span><span class="co">#&gt;  [73] 430 443 460 484 486 487 516 532 535 570 574 582 583 584 585 600 638 640</span></span>
<span><span class="co">#&gt;  [91] 643 648 672 682 693 695 701 703 708 714 729 755 758 762 778 800 817 830</span></span>
<span><span class="co">#&gt; [109] 836 840 846 848 856 860 866 871 872 883 905 910 953 960 962 969 971 975</span></span>
<span><span class="co">#&gt; [127] 977 997</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $state$variables$vaccinated</span></span>
<span><span class="co">#&gt; $state$variables$vaccinated$Y</span></span>
<span><span class="co">#&gt;   [1]   1   2   3   6   7  11  12  13  15  16  18  20  23  24  30  32  34  37</span></span>
<span><span class="co">#&gt;  [19]  38  46  59  61  62  67  72  76  80  81  86  87  91 104 106 112 115 116</span></span>
<span><span class="co">#&gt;  [37] 130 134 138 142 145 149 150 151 152 166 167 173 176 182 184 202 203 207</span></span>
<span><span class="co">#&gt;  [55] 208 216 218 221 222 227 230 233 239 242 246 251 252 260 262 263 267 269</span></span>
<span><span class="co">#&gt;  [73] 275 277 281 284 288 292 299 309 313 316 322 324 334 343 348 351 353 355</span></span>
<span><span class="co">#&gt;  [91] 366 373 375 376 380 381 384 394 402 403 406 409 415 424 425 426 430 435</span></span>
<span><span class="co">#&gt; [109] 438 445 451 462 465 467 474 477 478 479 484 490 497 502 503 504 505 506</span></span>
<span><span class="co">#&gt; [127] 507 509 510 512 513 516 518 519 520 522 523 524 525 527 530 533 538 540</span></span>
<span><span class="co">#&gt; [145] 544 549 557 562 564 567 571 572 577 578 588 594 596 617 618 619 622 634</span></span>
<span><span class="co">#&gt; [163] 638 644 645 651 653 654 666 669 670 671 673 683 700 702 703 711 717 721</span></span>
<span><span class="co">#&gt; [181] 722 728 731 736 739 741 742 744 746 749 750 753 755 759 761 763 765 768</span></span>
<span><span class="co">#&gt; [199] 776 780 783 794 795 799 810 812 820 821 824 835 837 842 844 847 849 850</span></span>
<span><span class="co">#&gt; [217] 855 860 866 871 874 885 892 893 894 896 904 906 911 918 919 922 924 936</span></span>
<span><span class="co">#&gt; [235] 940 942 943 948 949 955 956 958 959 963 964 966 967 978 979 981 982 985</span></span>
<span><span class="co">#&gt; [253] 992 998 999</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $state$variables$vaccinated$N</span></span>
<span><span class="co">#&gt;   [1]    4    5    8    9   10   14   17   19   21   22   25   26   27   28   29</span></span>
<span><span class="co">#&gt;  [16]   31   33   35   36   39   40   41   42   43   44   45   47   48   49   50</span></span>
<span><span class="co">#&gt;  [31]   51   52   53   54   55   56   57   58   60   63   64   65   66   68   69</span></span>
<span><span class="co">#&gt;  [46]   70   71   73   74   75   77   78   79   82   83   84   85   88   89   90</span></span>
<span><span class="co">#&gt;  [61]   92   93   94   95   96   97   98   99  100  101  102  103  105  107  108</span></span>
<span><span class="co">#&gt;  [76]  109  110  111  113  114  117  118  119  120  121  122  123  124  125  126</span></span>
<span><span class="co">#&gt;  [91]  127  128  129  131  132  133  135  136  137  139  140  141  143  144  146</span></span>
<span><span class="co">#&gt; [106]  147  148  153  154  155  156  157  158  159  160  161  162  163  164  165</span></span>
<span><span class="co">#&gt; [121]  168  169  170  171  172  174  175  177  178  179  180  181  183  185  186</span></span>
<span><span class="co">#&gt; [136]  187  188  189  190  191  192  193  194  195  196  197  198  199  200  201</span></span>
<span><span class="co">#&gt; [151]  204  205  206  209  210  211  212  213  214  215  217  219  220  223  224</span></span>
<span><span class="co">#&gt; [166]  225  226  228  229  231  232  234  235  236  237  238  240  241  243  244</span></span>
<span><span class="co">#&gt; [181]  245  247  248  249  250  253  254  255  256  257  258  259  261  264  265</span></span>
<span><span class="co">#&gt; [196]  266  268  270  271  272  273  274  276  278  279  280  282  283  285  286</span></span>
<span><span class="co">#&gt; [211]  287  289  290  291  293  294  295  296  297  298  300  301  302  303  304</span></span>
<span><span class="co">#&gt; [226]  305  306  307  308  310  311  312  314  315  317  318  319  320  321  323</span></span>
<span><span class="co">#&gt; [241]  325  326  327  328  329  330  331  332  333  335  336  337  338  339  340</span></span>
<span><span class="co">#&gt; [256]  341  342  344  345  346  347  349  350  352  354  356  357  358  359  360</span></span>
<span><span class="co">#&gt; [271]  361  362  363  364  365  367  368  369  370  371  372  374  377  378  379</span></span>
<span><span class="co">#&gt; [286]  382  383  385  386  387  388  389  390  391  392  393  395  396  397  398</span></span>
<span><span class="co">#&gt; [301]  399  400  401  404  405  407  408  410  411  412  413  414  416  417  418</span></span>
<span><span class="co">#&gt; [316]  419  420  421  422  423  427  428  429  431  432  433  434  436  437  439</span></span>
<span><span class="co">#&gt; [331]  440  441  442  443  444  446  447  448  449  450  452  453  454  455  456</span></span>
<span><span class="co">#&gt; [346]  457  458  459  460  461  463  464  466  468  469  470  471  472  473  475</span></span>
<span><span class="co">#&gt; [361]  476  480  481  482  483  485  486  487  488  489  491  492  493  494  495</span></span>
<span><span class="co">#&gt; [376]  496  498  499  500  501  508  511  514  515  517  521  526  528  529  531</span></span>
<span><span class="co">#&gt; [391]  532  534  535  536  537  539  541  542  543  545  546  547  548  550  551</span></span>
<span><span class="co">#&gt; [406]  552  553  554  555  556  558  559  560  561  563  565  566  568  569  570</span></span>
<span><span class="co">#&gt; [421]  573  574  575  576  579  580  581  582  583  584  585  586  587  589  590</span></span>
<span><span class="co">#&gt; [436]  591  592  593  595  597  598  599  600  601  602  603  604  605  606  607</span></span>
<span><span class="co">#&gt; [451]  608  609  610  611  612  613  614  615  616  620  621  623  624  625  626</span></span>
<span><span class="co">#&gt; [466]  627  628  629  630  631  632  633  635  636  637  639  640  641  642  643</span></span>
<span><span class="co">#&gt; [481]  646  647  648  649  650  652  655  656  657  658  659  660  661  662  663</span></span>
<span><span class="co">#&gt; [496]  664  665  667  668  672  674  675  676  677  678  679  680  681  682  684</span></span>
<span><span class="co">#&gt; [511]  685  686  687  688  689  690  691  692  693  694  695  696  697  698  699</span></span>
<span><span class="co">#&gt; [526]  701  704  705  706  707  708  709  710  712  713  714  715  716  718  719</span></span>
<span><span class="co">#&gt; [541]  720  723  724  725  726  727  729  730  732  733  734  735  737  738  740</span></span>
<span><span class="co">#&gt; [556]  743  745  747  748  751  752  754  756  757  758  760  762  764  766  767</span></span>
<span><span class="co">#&gt; [571]  769  770  771  772  773  774  775  777  778  779  781  782  784  785  786</span></span>
<span><span class="co">#&gt; [586]  787  788  789  790  791  792  793  796  797  798  800  801  802  803  804</span></span>
<span><span class="co">#&gt; [601]  805  806  807  808  809  811  813  814  815  816  817  818  819  822  823</span></span>
<span><span class="co">#&gt; [616]  825  826  827  828  829  830  831  832  833  834  836  838  839  840  841</span></span>
<span><span class="co">#&gt; [631]  843  845  846  848  851  852  853  854  856  857  858  859  861  862  863</span></span>
<span><span class="co">#&gt; [646]  864  865  867  868  869  870  872  873  875  876  877  878  879  880  881</span></span>
<span><span class="co">#&gt; [661]  882  883  884  886  887  888  889  890  891  895  897  898  899  900  901</span></span>
<span><span class="co">#&gt; [676]  902  903  905  907  908  909  910  912  913  914  915  916  917  920  921</span></span>
<span><span class="co">#&gt; [691]  923  925  926  927  928  929  930  931  932  933  934  935  937  938  939</span></span>
<span><span class="co">#&gt; [706]  941  944  945  946  947  950  951  952  953  954  957  960  961  962  965</span></span>
<span><span class="co">#&gt; [721]  968  969  970  971  972  973  974  975  976  977  980  983  984  986  987</span></span>
<span><span class="co">#&gt; [736]  988  989  990  991  993  994  995  996  997 1000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $state$events</span></span>
<span><span class="co">#&gt; $state$events[[1]]</span></span>
<span><span class="co">#&gt; [1] 108</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $state$timesteps</span></span>
<span><span class="co">#&gt; [1] 100</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $state$random_state</span></span>
<span><span class="co">#&gt;   [1]       10403         507   418362789  -815979341   842745885  2035290329</span></span>
<span><span class="co">#&gt;   [7]   112822154  1931440291   255033662  1375285671   730009478   303390573</span></span>
<span><span class="co">#&gt;  [13]  1471705867 -2065830769   467885169   229932974 -1087565227  -818606315</span></span>
<span><span class="co">#&gt;  [19]  1362206946   160366149   621124310  -933175996  2055573554  -277024096</span></span>
<span><span class="co">#&gt;  [25]  -666102173  2109203437  1421383563  1966810771 -1601285482  -573787244</span></span>
<span><span class="co">#&gt;  [31] -1131262995    42418988     -333743   806550894   426641762   286778538</span></span>
<span><span class="co">#&gt;  [37]  -417112389   987379019  -937154705 -2113354885   234958565  -525727417</span></span>
<span><span class="co">#&gt;  [43]  -763379323 -1816770975  1515206696   478104902  2115178708 -1406596694</span></span>
<span><span class="co">#&gt;  [49] -1698878045   756247675   607822876  1313162494  -654336261    32701217</span></span>
<span><span class="co">#&gt;  [55] -1554212708 -1789205669 -1581407291 -1110557455  1074761264  1076245746</span></span>
<span><span class="co">#&gt;  [61]  1176003187   378332423 -2119026067  -653710896  1337965196   252858943</span></span>
<span><span class="co">#&gt;  [67]  -683465055  2047955751 -2147190634   908016766  -585316242 -1111136526</span></span>
<span><span class="co">#&gt;  [73] -1932528771   673336798 -1341209985 -1293465822   474699611  -253911821</span></span>
<span><span class="co">#&gt;  [79] -1105386719   341710408   359066995  -563776950 -1684186308 -1494261473</span></span>
<span><span class="co">#&gt;  [85]    15010338 -1852000215  1588504107   873362149   -53146524  -557787180</span></span>
<span><span class="co">#&gt;  [91]   131115586 -1164828221 -1744342288 -1839037718  1271983387 -1607255700</span></span>
<span><span class="co">#&gt;  [97]   -47759530 -1983812560   635608411   538170123   438115990   186730362</span></span>
<span><span class="co">#&gt; [103]  1049021711  2044999736   778366440   410808141  1210244642 -1375833585</span></span>
<span><span class="co">#&gt; [109]   198661654 -1851843456   209472814 -1949471693  1524546240  -371243808</span></span>
<span><span class="co">#&gt; [115]   255416128  1164710712  -253842814   375865158  2100303000  1719501194</span></span>
<span><span class="co">#&gt; [121] -1819048077    35753648   713154753 -1726444596  1665312103 -2089594982</span></span>
<span><span class="co">#&gt; [127]   585378631    42627397 -2132217384 -1225081924  -308198754  1347661386</span></span>
<span><span class="co">#&gt; [133] -1837104092 -1799146274 -1910873586  1340048570 -1378320861 -1037684966</span></span>
<span><span class="co">#&gt; [139]  -844769026 -1126794124   357434289   334760727 -1981366409 -1671385235</span></span>
<span><span class="co">#&gt; [145]   -85691418  1404435912 -1612272839  -702407354   488989635   390289338</span></span>
<span><span class="co">#&gt; [151]  1926745582  -925205136  -815417606   252426954  -493881335   -71764639</span></span>
<span><span class="co">#&gt; [157]   125092324  1971877288 -1266261170  1542991487 -1458023735    46448470</span></span>
<span><span class="co">#&gt; [163]  1741121100   457068046   742545682   192569090  -691302125 -1951568300</span></span>
<span><span class="co">#&gt; [169] -1513340798 -1085286655   722028355   571388261  1400565148 -1953793464</span></span>
<span><span class="co">#&gt; [175]  1087451453   135624703  1733464322   635038228  1868446817   428958922</span></span>
<span><span class="co">#&gt; [181]  1415613797   -21704056 -1711511399  -179568656   936252382   268824113</span></span>
<span><span class="co">#&gt; [187]  1006318456   936764694  1905126198  -419133872  1049845325  1269520443</span></span>
<span><span class="co">#&gt; [193]  -690136427  -607173129  -446437817 -1132163201 -1499817840  -135558077</span></span>
<span><span class="co">#&gt; [199]  -272350810  1577351975 -1936970463   674759453  -554519707  -460780173</span></span>
<span><span class="co">#&gt; [205]   841911312  1618363844   809096344  1869938074  -337355679   461903648</span></span>
<span><span class="co">#&gt; [211] -1267821214 -1580245043 -2026799477 -1560467733 -2138214716  1353195458</span></span>
<span><span class="co">#&gt; [217] -1091025872  2054560667  1287000977  -353207606  2000900639 -1508976358</span></span>
<span><span class="co">#&gt; [223]  -314271729 -1586066898 -1050832086   122702032 -1503802172  -939033944</span></span>
<span><span class="co">#&gt; [229]  1313169321  -314964830  -124528682  2115090644 -1635723569    20244165</span></span>
<span><span class="co">#&gt; [235]   549615133   813132547 -1669070541  1463160236 -1827234806 -1834914328</span></span>
<span><span class="co">#&gt; [241]   693523903  1179808614  1310938511   167512184  -594637899  -382736100</span></span>
<span><span class="co">#&gt; [247] -1593472801   971172717 -1692920629    20473546 -1451204723 -1411644199</span></span>
<span><span class="co">#&gt; [253] -1649004319 -1201906547  -101787121  1447326029  -283870678 -1574176872</span></span>
<span><span class="co">#&gt; [259]  1525084792 -1142751986  1297532276 -1961238370  1371448463  1492654208</span></span>
<span><span class="co">#&gt; [265]   298770551  1066429295   -14791652  -243009426  2020732255 -1494470714</span></span>
<span><span class="co">#&gt; [271]  2119301162   467290163   110683295  1438828270 -1128449928  -695992032</span></span>
<span><span class="co">#&gt; [277]  -109819529  2040070701  1227297605 -1813366016  -951741986  -592205616</span></span>
<span><span class="co">#&gt; [283]  1535230179 -1374616638 -1876082951 -1906900279  -570611773 -1011253477</span></span>
<span><span class="co">#&gt; [289] -1505473307  -269102559  -826614588  1662579280  -855355838  -680948451</span></span>
<span><span class="co">#&gt; [295]   566376232  1151845807  2038100341   534238473  -248831805 -1783543530</span></span>
<span><span class="co">#&gt; [301]   658813977 -1514336916 -1055858314   608990396   -52037134 -1298774443</span></span>
<span><span class="co">#&gt; [307] -1461124692 -1930154644  -126032939  -260220905 -1894892112  1389795521</span></span>
<span><span class="co">#&gt; [313]  -277517549   341391595  1784555587   996635674   779221205  -986517481</span></span>
<span><span class="co">#&gt; [319]  1046057532  -656124883  1227512000  1780352827  1730978572  1661737538</span></span>
<span><span class="co">#&gt; [325] -1886383655 -1777269462  -348517646    84321412  1379585289  1724414177</span></span>
<span><span class="co">#&gt; [331]  1516760847 -2075428876  1701316421 -1606033691  1366267366   891894442</span></span>
<span><span class="co">#&gt; [337] -1949504451    29920456 -1300735966  1523447534  1654729905  -634459700</span></span>
<span><span class="co">#&gt; [343]   280751765   720889210 -1940345689  1299375493  1033233748    92049359</span></span>
<span><span class="co">#&gt; [349]  -898285311  1130475301  -268471967  1292428908 -1787725258 -1791332078</span></span>
<span><span class="co">#&gt; [355]   246024761  -467069457  2071468672   360293298 -1086346751  -920022693</span></span>
<span><span class="co">#&gt; [361]   141576014  1643935398  -203920840   871405165  -658485594   125475813</span></span>
<span><span class="co">#&gt; [367]   864425456  -154019588 -1331153684 -1682782639 -1815743415 -2003568585</span></span>
<span><span class="co">#&gt; [373]   854872257 -1305318377  -967108767 -2085223704  1792375855   746594664</span></span>
<span><span class="co">#&gt; [379]  2085859837 -1392963645  1262975933  1328910917  1841539479   960103780</span></span>
<span><span class="co">#&gt; [385]  2026437180  1553361889  -774970020 -1315142816 -1356248352   725647264</span></span>
<span><span class="co">#&gt; [391]   376858472   -23807088  -110155315  1338556992  -485741684 -1242166625</span></span>
<span><span class="co">#&gt; [397]  -610876577  -701419303  1771068488   626641262   357579156  1109512811</span></span>
<span><span class="co">#&gt; [403] -1539767632   445108355 -1699757698  -585278569  1209712267  -949814604</span></span>
<span><span class="co">#&gt; [409] -1985409248 -1369608881  1353767557  2095206464  -487707357  1882303713</span></span>
<span><span class="co">#&gt; [415]  2021344610  2075761182  1179618727   918073839   709687467  -625240335</span></span>
<span><span class="co">#&gt; [421]   440766185   723058153  2130687059   711000140  1348576856  -436766997</span></span>
<span><span class="co">#&gt; [427]  2069818066  -923741991  -500793330  -590712522 -1720679099  1386030265</span></span>
<span><span class="co">#&gt; [433]    74694361  -373564499   473309196  1114385022 -1964165315   217555639</span></span>
<span><span class="co">#&gt; [439]   415740157 -2082096688 -1627935353   623004943   496225491  2037584050</span></span>
<span><span class="co">#&gt; [445] -1879589188 -1576370972  -351592855  -537980843  1257922510  -695632209</span></span>
<span><span class="co">#&gt; [451]  1191539468  1756989080  1734320433  1674148579  -131275459  -535102333</span></span>
<span><span class="co">#&gt; [457]  1138588927   710493283 -2027475917  1286647551   -48026733   657361609</span></span>
<span><span class="co">#&gt; [463]  1316478162   750684354   428871518 -1456682025  -124041879 -1327190454</span></span>
<span><span class="co">#&gt; [469]  1701431076  1740481577  2112131803 -1680759567  1826590687   110824904</span></span>
<span><span class="co">#&gt; [475]  -880937940  -356046825  -497622236 -1675012554 -1272752819 -1353479100</span></span>
<span><span class="co">#&gt; [481] -1199762697  -153297351 -1009478928  -239359439  -687324362  -940513311</span></span>
<span><span class="co">#&gt; [487]  -629218000  1545974635  1190708811    56092081   939201574 -1623081501</span></span>
<span><span class="co">#&gt; [493]   751046120  1635779916 -1151549600  -527772054    70775051   824542372</span></span>
<span><span class="co">#&gt; [499] -1137859571 -1276018924 -2111565980  -317873516   732396277  -678189137</span></span>
<span><span class="co">#&gt; [505]  1466192555 -1927377487  1712597046 -1161403382 -1055643798  2026902560</span></span>
<span><span class="co">#&gt; [511]  1694685331  1965686574  1097213744   964374270  1384574722 -1678220688</span></span>
<span><span class="co">#&gt; [517]   882137883  -633651134   211524602   100702347   551233244 -1754214181</span></span>
<span><span class="co">#&gt; [523]  1741529637  -575610869  1800827247  -102931430  -431123135   665715508</span></span>
<span><span class="co">#&gt; [529]  1887989801  2060512302  1470210782  1902049841  1701438997 -1702151820</span></span>
<span><span class="co">#&gt; [535]  -796718258  1942200094  -582168031 -2135161450  -231534040    40057458</span></span>
<span><span class="co">#&gt; [541]  -285086786  2137075425     8107151  1819745410 -1616084071 -2078745801</span></span>
<span><span class="co">#&gt; [547]  -556849541   235233401  -847285706  1878560443  1349402754  -442253535</span></span>
<span><span class="co">#&gt; [553] -2021607398   839968137 -1222980285  1772903717  1654497208  -758009491</span></span>
<span><span class="co">#&gt; [559] -1268747723 -1033518499   650544225  1304691669 -2041769358  1006700519</span></span>
<span><span class="co">#&gt; [565] -1081756085   368847823  -835195131 -1094377769  1869688463  1709909105</span></span>
<span><span class="co">#&gt; [571] -1091326273 -1702682769   369424298 -1570251626   690509379  2106412147</span></span>
<span><span class="co">#&gt; [577]  -401221280 -1819907979   343604993    37593666  -575836942  -679165187</span></span>
<span><span class="co">#&gt; [583] -2119785566  1945347483    36502103  1698074298  1894372931  -560978506</span></span>
<span><span class="co">#&gt; [589] -2006320665  -629033264  -613316972   751643243   741419212  -633701731</span></span>
<span><span class="co">#&gt; [595] -1784894347   646429436  -674495074  -194917608   221026553   917939513</span></span>
<span><span class="co">#&gt; [601]  1704246923 -1981327345 -1216721663    98441172  1860218428 -2086692784</span></span>
<span><span class="co">#&gt; [607]  1025475551 -1547762346   180065247   404123122 -1934832250  1475916399</span></span>
<span><span class="co">#&gt; [613] -1424174694 -1317738168   409325047  1990341425 -1740776551  -971193068</span></span>
<span><span class="co">#&gt; [619] -1237761058  -994751785   562528886   -32901684 -1786173198  -857527092</span></span>
<span><span class="co">#&gt; [625]  2114889985 -1125173691</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">5</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0.2875775 0.7883051 0.4089769 0.8830174 0.9404673</span></span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Giovanni Charles, Sean L. Wu, Peter Winskill, Paul Liétar.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
